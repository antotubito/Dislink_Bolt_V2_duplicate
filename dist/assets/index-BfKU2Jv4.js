const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-92zB0qbe.js","assets/index-18alDtPB.js","assets/index-0l-fos0M.js"])))=>i.map(i=>d[i]);
var GS=Object.defineProperty;var KS=(t,e,n)=>e in t?GS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tt=(t,e,n)=>KS(t,typeof e!="symbol"?e+"":e,n);function YS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const QS="modulepreload",JS=function(t){return"/"+t},m0={},Rn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=JS(l),l in m0)return;m0[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":QS,d||(h.as="script"),h.crossOrigin="",h.href=l,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Lb={exports:{}},Ld={},Fb={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),eC=Symbol.for("react.portal"),tC=Symbol.for("react.fragment"),nC=Symbol.for("react.strict_mode"),rC=Symbol.for("react.profiler"),sC=Symbol.for("react.provider"),iC=Symbol.for("react.context"),aC=Symbol.for("react.forward_ref"),oC=Symbol.for("react.suspense"),lC=Symbol.for("react.memo"),cC=Symbol.for("react.lazy"),f0=Symbol.iterator;function dC(t){return t===null||typeof t!="object"?null:(t=f0&&t[f0]||t["@@iterator"],typeof t=="function"?t:null)}var $b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vb=Object.assign,Ub={};function wa(t,e,n){this.props=t,this.context=e,this.refs=Ub,this.updater=n||$b}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bb(){}Bb.prototype=wa.prototype;function Xf(t,e,n){this.props=t,this.context=e,this.refs=Ub,this.updater=n||$b}var ep=Xf.prototype=new Bb;ep.constructor=Xf;Vb(ep,wa.prototype);ep.isPureReactComponent=!0;var p0=Array.isArray,zb=Object.prototype.hasOwnProperty,tp={current:null},Wb={key:!0,ref:!0,__self:!0,__source:!0};function Hb(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)zb.call(e,r)&&!Wb.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:ol,type:t,key:a,ref:o,props:i,_owner:tp.current}}function uC(t,e){return{$$typeof:ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function np(t){return typeof t=="object"&&t!==null&&t.$$typeof===ol}function hC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var g0=/\/+/g;function Lu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hC(""+t.key):e.toString(36)}function xc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ol:case eC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lu(o,0):r,p0(i)?(n="",t!=null&&(n=t.replace(g0,"$&/")+"/"),xc(i,e,n,"",function(d){return d})):i!=null&&(np(i)&&(i=uC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(g0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",p0(t))for(var c=0;c<t.length;c++){a=t[c];var l=r+Lu(a,c);o+=xc(a,e,n,l,i)}else if(l=dC(t),typeof l=="function")for(t=l.call(t),c=0;!(a=t.next()).done;)a=a.value,l=r+Lu(a,c++),o+=xc(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Al(t,e,n){if(t==null)return t;var r=[],i=0;return xc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function mC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},yc={transition:null},fC={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:yc,ReactCurrentOwner:tp};function qb(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Al,forEach:function(t,e,n){Al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Al(t,function(){e++}),e},toArray:function(t){return Al(t,function(e){return e})||[]},only:function(t){if(!np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=wa;Ce.Fragment=tC;Ce.Profiler=rC;Ce.PureComponent=Xf;Ce.StrictMode=nC;Ce.Suspense=oC;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fC;Ce.act=qb;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vb({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=tp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)zb.call(e,l)&&!Wb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:ol,type:t.type,key:i,ref:a,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:iC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sC,_context:t},t.Consumer=t};Ce.createElement=Hb;Ce.createFactory=function(t){var e=Hb.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:aC,render:t}};Ce.isValidElement=np;Ce.lazy=function(t){return{$$typeof:cC,_payload:{_status:-1,_result:t},_init:mC}};Ce.memo=function(t,e){return{$$typeof:lC,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=yc.transition;yc.transition={};try{t()}finally{yc.transition=e}};Ce.unstable_act=qb;Ce.useCallback=function(t,e){return Zt.current.useCallback(t,e)};Ce.useContext=function(t){return Zt.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Zt.current.useEffect(t,e)};Ce.useId=function(){return Zt.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Zt.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};Ce.useRef=function(t){return Zt.current.useRef(t)};Ce.useState=function(t){return Zt.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Zt.current.useTransition()};Ce.version="18.3.1";Fb.exports=Ce;var y=Fb.exports;const ft=ZS(y),Kh=YS({__proto__:null,default:ft},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=y,gC=Symbol.for("react.element"),xC=Symbol.for("react.fragment"),yC=Object.prototype.hasOwnProperty,vC=pC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bC={key:!0,ref:!0,__self:!0,__source:!0};function Gb(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yC.call(e,r)&&!bC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gC,type:t,key:a,ref:o,props:i,_owner:vC.current}}Ld.Fragment=xC;Ld.jsx=Gb;Ld.jsxs=Gb;Lb.exports=Ld;var s=Lb.exports,Kb={exports:{}},Sn={},Yb={exports:{}},Qb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,D){var V=M.length;M.push(D);e:for(;0<V;){var Y=V-1>>>1,U=M[Y];if(0<i(U,D))M[Y]=D,M[V]=U,V=Y;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var D=M[0],V=M.pop();if(V!==D){M[0]=V;e:for(var Y=0,U=M.length,Q=U>>>1;Y<Q;){var ie=2*(Y+1)-1,fe=M[ie],ye=ie+1,De=M[ye];if(0>i(fe,V))ye<U&&0>i(De,fe)?(M[Y]=De,M[ye]=V,Y=ye):(M[Y]=fe,M[ie]=V,Y=ie);else if(ye<U&&0>i(De,V))M[Y]=De,M[ye]=V,Y=ye;else break e}}return D}function i(M,D){var V=M.sortIndex-D.sortIndex;return V!==0?V:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],d=[],u=1,h=null,m=3,f=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(M){for(var D=n(d);D!==null;){if(D.callback===null)r(d);else if(D.startTime<=M)r(d),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(d)}}function j(M){if(w=!1,p(M),!g)if(n(l)!==null)g=!0,K(N);else{var D=n(d);D!==null&&O(j,D.startTime-M)}}function N(M,D){g=!1,w&&(w=!1,v(E),E=-1),f=!0;var V=m;try{for(p(D),h=n(l);h!==null&&(!(h.expirationTime>D)||M&&!I());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,m=h.priorityLevel;var U=Y(h.expirationTime<=D);D=t.unstable_now(),typeof U=="function"?h.callback=U:h===n(l)&&r(l),p(D)}else r(l);h=n(l)}if(h!==null)var Q=!0;else{var ie=n(d);ie!==null&&O(j,ie.startTime-D),Q=!1}return Q}finally{h=null,m=V,f=!1}}var S=!1,_=null,E=-1,P=5,C=-1;function I(){return!(t.unstable_now()-C<P)}function A(){if(_!==null){var M=t.unstable_now();C=M;var D=!0;try{D=_(!0,M)}finally{D?R():(S=!1,_=null)}}else S=!1}var R;if(typeof b=="function")R=function(){b(A)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,H=F.port2;F.port1.onmessage=A,R=function(){H.postMessage(null)}}else R=function(){x(A,0)};function K(M){_=M,S||(S=!0,R())}function O(M,D){E=x(function(){M(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,K(N))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var V=m;m=D;try{return M()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=m;m=M;try{return D()}finally{m=V}},t.unstable_scheduleCallback=function(M,D,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,M){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,M={id:u++,callback:D,priorityLevel:M,startTime:V,expirationTime:U,sortIndex:-1},V>Y?(M.sortIndex=V,e(d,M),n(l)===null&&M===n(d)&&(w?(v(E),E=-1):w=!0,O(j,V-Y))):(M.sortIndex=U,e(l,M),g||f||(g=!0,K(N))),M},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(M){var D=m;return function(){var V=m;m=D;try{return M.apply(this,arguments)}finally{m=V}}}})(Qb);Yb.exports=Qb;var wC=Yb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC=y,bn=wC;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jb=new Set,_o={};function ui(t,e){ra(t,e),ra(t+"Capture",e)}function ra(t,e){for(_o[t]=e,t=0;t<e.length;t++)Jb.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yh=Object.prototype.hasOwnProperty,NC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x0={},y0={};function SC(t){return Yh.call(y0,t)?!0:Yh.call(x0,t)?!1:NC.test(t)?y0[t]=!0:(x0[t]=!0,!1)}function CC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kC(t,e,n,r){if(e===null||typeof e>"u"||CC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rp=/[\-:]([a-z])/g;function sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rp,sp);Rt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rp,sp);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rp,sp);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ip(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kC(e,n,i,r)&&(n=null),r||i===null?SC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=jC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),ap=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),Zb=Symbol.for("react.provider"),Xb=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Zh=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),ew=Symbol.for("react.offscreen"),v0=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,Fu;function Ya(t){if(Fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fu=e&&e[1]||""}return`
`+Fu+t}var $u=!1;function Vu(t,e){if(!t||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=c);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ya(t):""}function _C(t){switch(t.tag){case 5:return Ya(t.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return t=Vu(t.type,!1),t;case 11:return t=Vu(t.type.render,!1),t;case 1:return t=Vu(t.type,!0),t;default:return""}}function Xh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pi:return"Fragment";case Ti:return"Portal";case Qh:return"Profiler";case ap:return"StrictMode";case Jh:return"Suspense";case Zh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xb:return(t.displayName||"Context")+".Consumer";case Zb:return(t._context.displayName||"Context")+".Provider";case op:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lp:return e=t.displayName||null,e!==null?e:Xh(t.type)||"Memo";case Kr:e=t._payload,t=t._init;try{return Xh(t(e))}catch{}}return null}function EC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xh(e);case 8:return e===ap?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TC(t){var e=tw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ml(t){t._valueTracker||(t._valueTracker=TC(t))}function nw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function em(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function b0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rw(t,e){e=e.checked,e!=null&&ip(t,"checked",e,!1)}function tm(t,e){rw(t,e);var n=gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nm(t,e.type,n):e.hasOwnProperty("defaultValue")&&nm(t,e.type,gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function w0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nm(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qa=Array.isArray;function Ki(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Qa(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gs(n)}}function sw(t,e){var n=gs(e.value),r=gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function N0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Il,aw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Il.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PC=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(t){PC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lo[e]=lo[t]})});function ow(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lo.hasOwnProperty(t)&&lo[t]?(""+e).trim():e+"px"}function lw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ow(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AC=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function im(t,e){if(e){if(AC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=null;function cp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lm=null,Yi=null,Qi=null;function S0(t){if(t=dl(t)){if(typeof lm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Bd(e),lm(t.stateNode,t.type,e))}}function cw(t){Yi?Qi?Qi.push(t):Qi=[t]:Yi=t}function dw(){if(Yi){var t=Yi,e=Qi;if(Qi=Yi=null,S0(t),e)for(t=0;t<e.length;t++)S0(e[t])}}function uw(t,e){return t(e)}function hw(){}var Uu=!1;function mw(t,e,n){if(Uu)return t(e,n);Uu=!0;try{return uw(t,e,n)}finally{Uu=!1,(Yi!==null||Qi!==null)&&(hw(),dw())}}function To(t,e){var n=t.stateNode;if(n===null)return null;var r=Bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var cm=!1;if(Dr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){cm=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{cm=!1}function DC(t,e,n,r,i,a,o,c,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var co=!1,Fc=null,$c=!1,dm=null,MC={onError:function(t){co=!0,Fc=t}};function IC(t,e,n,r,i,a,o,c,l){co=!1,Fc=null,DC.apply(MC,arguments)}function RC(t,e,n,r,i,a,o,c,l){if(IC.apply(this,arguments),co){if(co){var d=Fc;co=!1,Fc=null}else throw Error(q(198));$c||($c=!0,dm=d)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C0(t){if(hi(t)!==t)throw Error(q(188))}function OC(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return C0(i),t;if(a===r)return C0(i),e;a=a.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function pw(t){return t=OC(t),t!==null?gw(t):null}function gw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gw(t);if(e!==null)return e;t=t.sibling}return null}var xw=bn.unstable_scheduleCallback,k0=bn.unstable_cancelCallback,LC=bn.unstable_shouldYield,FC=bn.unstable_requestPaint,ot=bn.unstable_now,$C=bn.unstable_getCurrentPriorityLevel,dp=bn.unstable_ImmediatePriority,yw=bn.unstable_UserBlockingPriority,Vc=bn.unstable_NormalPriority,VC=bn.unstable_LowPriority,vw=bn.unstable_IdlePriority,Fd=null,hr=null;function UC(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Fd,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:WC,BC=Math.log,zC=Math.LN2;function WC(t){return t>>>=0,t===0?32:31-(BC(t)/zC|0)|0}var Rl=64,Ol=4194304;function Ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=Ja(c):(a&=o,a!==0&&(r=Ja(a)))}else o=n&~i,o!==0?r=Ja(o):a!==0&&(r=Ja(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),i=1<<n,r|=t[n],e&=~i;return r}function HC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-er(a),c=1<<o,l=i[o];l===-1?(!(c&n)||c&r)&&(i[o]=HC(c,e)):l<=e&&(t.expiredLanes|=c),a&=~c}}function um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bw(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function Bu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function GC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-er(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function up(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function ww(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jw,hp,Nw,Sw,Cw,hm=!1,Ll=[],is=null,as=null,os=null,Po=new Map,Ao=new Map,Jr=[],KC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _0(t,e){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Po.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(e.pointerId)}}function Oa(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=dl(e),e!==null&&hp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YC(t,e,n,r,i){switch(e){case"focusin":return is=Oa(is,t,e,n,r,i),!0;case"dragenter":return as=Oa(as,t,e,n,r,i),!0;case"mouseover":return os=Oa(os,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Po.set(a,Oa(Po.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ao.set(a,Oa(Ao.get(a)||null,t,e,n,r,i)),!0}return!1}function kw(t){var e=Gs(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=fw(n),e!==null){t.blockedOn=e,Cw(t.priority,function(){Nw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);om=r,n.target.dispatchEvent(r),om=null}else return e=dl(n),e!==null&&hp(e),t.blockedOn=n,!1;e.shift()}return!0}function E0(t,e,n){vc(t)&&n.delete(e)}function QC(){hm=!1,is!==null&&vc(is)&&(is=null),as!==null&&vc(as)&&(as=null),os!==null&&vc(os)&&(os=null),Po.forEach(E0),Ao.forEach(E0)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,hm||(hm=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,QC)))}function Do(t){function e(i){return La(i,t)}if(0<Ll.length){La(Ll[0],t);for(var n=1;n<Ll.length;n++){var r=Ll[n];r.blockedOn===t&&(r.blockedOn=null)}}for(is!==null&&La(is,t),as!==null&&La(as,t),os!==null&&La(os,t),Po.forEach(e),Ao.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)kw(n),n.blockedOn===null&&Jr.shift()}var Ji=Ur.ReactCurrentBatchConfig,Bc=!0;function JC(t,e,n,r){var i=Oe,a=Ji.transition;Ji.transition=null;try{Oe=1,mp(t,e,n,r)}finally{Oe=i,Ji.transition=a}}function ZC(t,e,n,r){var i=Oe,a=Ji.transition;Ji.transition=null;try{Oe=4,mp(t,e,n,r)}finally{Oe=i,Ji.transition=a}}function mp(t,e,n,r){if(Bc){var i=mm(t,e,n,r);if(i===null)Zu(t,e,r,zc,n),_0(t,r);else if(YC(i,t,e,n,r))r.stopPropagation();else if(_0(t,r),e&4&&-1<KC.indexOf(t)){for(;i!==null;){var a=dl(i);if(a!==null&&jw(a),a=mm(t,e,n,r),a===null&&Zu(t,e,r,zc,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Zu(t,e,r,null,n)}}var zc=null;function mm(t,e,n,r){if(zc=null,t=cp(r),t=Gs(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zc=t,null}function _w(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($C()){case dp:return 1;case yw:return 4;case Vc:case VC:return 16;case vw:return 536870912;default:return 16}default:return 16}}var es=null,fp=null,bc=null;function Ew(){if(bc)return bc;var t,e=fp,n=e.length,r,i="value"in es?es.value:es.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return bc=i.slice(t,1<r?1-r:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fl(){return!0}function T0(){return!1}function Cn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fl:T0,this.isPropagationStopped=T0,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),e}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pp=Cn(ja),cl=et({},ja,{view:0,detail:0}),XC=Cn(cl),zu,Wu,Fa,$d=et({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fa&&(Fa&&t.type==="mousemove"?(zu=t.screenX-Fa.screenX,Wu=t.screenY-Fa.screenY):Wu=zu=0,Fa=t),zu)},movementY:function(t){return"movementY"in t?t.movementY:Wu}}),P0=Cn($d),ek=et({},$d,{dataTransfer:0}),tk=Cn(ek),nk=et({},cl,{relatedTarget:0}),Hu=Cn(nk),rk=et({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),sk=Cn(rk),ik=et({},ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ak=Cn(ik),ok=et({},ja,{data:0}),A0=Cn(ok),lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ck={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dk[t])?!!e[t]:!1}function gp(){return uk}var hk=et({},cl,{key:function(t){if(t.key){var e=lk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ck[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mk=Cn(hk),fk=et({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=Cn(fk),pk=et({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),gk=Cn(pk),xk=et({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=Cn(xk),vk=et({},$d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bk=Cn(vk),wk=[9,13,27,32],xp=Dr&&"CompositionEvent"in window,uo=null;Dr&&"documentMode"in document&&(uo=document.documentMode);var jk=Dr&&"TextEvent"in window&&!uo,Tw=Dr&&(!xp||uo&&8<uo&&11>=uo),M0=" ",I0=!1;function Pw(t,e){switch(t){case"keyup":return wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ai=!1;function Nk(t,e){switch(t){case"compositionend":return Aw(e);case"keypress":return e.which!==32?null:(I0=!0,M0);case"textInput":return t=e.data,t===M0&&I0?null:t;default:return null}}function Sk(t,e){if(Ai)return t==="compositionend"||!xp&&Pw(t,e)?(t=Ew(),bc=fp=es=null,Ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tw&&e.locale!=="ko"?null:e.data;default:return null}}var Ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ck[t.type]:e==="textarea"}function Dw(t,e,n,r){cw(r),e=Wc(e,"onChange"),0<e.length&&(n=new pp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ho=null,Mo=null;function kk(t){zw(t,0)}function Vd(t){var e=Ii(t);if(nw(e))return t}function _k(t,e){if(t==="change")return e}var Mw=!1;if(Dr){var qu;if(Dr){var Gu="oninput"in document;if(!Gu){var O0=document.createElement("div");O0.setAttribute("oninput","return;"),Gu=typeof O0.oninput=="function"}qu=Gu}else qu=!1;Mw=qu&&(!document.documentMode||9<document.documentMode)}function L0(){ho&&(ho.detachEvent("onpropertychange",Iw),Mo=ho=null)}function Iw(t){if(t.propertyName==="value"&&Vd(Mo)){var e=[];Dw(e,Mo,t,cp(t)),mw(kk,e)}}function Ek(t,e,n){t==="focusin"?(L0(),ho=e,Mo=n,ho.attachEvent("onpropertychange",Iw)):t==="focusout"&&L0()}function Tk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vd(Mo)}function Pk(t,e){if(t==="click")return Vd(e)}function Ak(t,e){if(t==="input"||t==="change")return Vd(e)}function Dk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:Dk;function Io(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yh.call(e,i)||!nr(t[i],e[i]))return!1}return!0}function F0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $0(t,e){var n=F0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F0(n)}}function Rw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ow(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function yp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mk(t){var e=Ow(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rw(n.ownerDocument.documentElement,n)){if(r!==null&&yp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=$0(n,a);var o=$0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ik=Dr&&"documentMode"in document&&11>=document.documentMode,Di=null,fm=null,mo=null,pm=!1;function V0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pm||Di==null||Di!==Lc(r)||(r=Di,"selectionStart"in r&&yp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mo&&Io(mo,r)||(mo=r,r=Wc(fm,"onSelect"),0<r.length&&(e=new pp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Di)))}function $l(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mi={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},Ku={},Lw={};Dr&&(Lw=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function Ud(t){if(Ku[t])return Ku[t];if(!Mi[t])return t;var e=Mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lw)return Ku[t]=e[n];return t}var Fw=Ud("animationend"),$w=Ud("animationiteration"),Vw=Ud("animationstart"),Uw=Ud("transitionend"),Bw=new Map,U0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(t,e){Bw.set(t,e),ui(e,[t])}for(var Yu=0;Yu<U0.length;Yu++){var Qu=U0[Yu],Rk=Qu.toLowerCase(),Ok=Qu[0].toUpperCase()+Qu.slice(1);js(Rk,"on"+Ok)}js(Fw,"onAnimationEnd");js($w,"onAnimationIteration");js(Vw,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(Uw,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function B0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RC(r,e,void 0,t),t.currentTarget=null}function zw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],l=c.instance,d=c.currentTarget;if(c=c.listener,l!==a&&i.isPropagationStopped())break e;B0(i,c,d),a=l}else for(o=0;o<r.length;o++){if(c=r[o],l=c.instance,d=c.currentTarget,c=c.listener,l!==a&&i.isPropagationStopped())break e;B0(i,c,d),a=l}}}if($c)throw t=dm,$c=!1,dm=null,t}function ze(t,e){var n=e[bm];n===void 0&&(n=e[bm]=new Set);var r=t+"__bubble";n.has(r)||(Ww(e,t,2,!1),n.add(r))}function Ju(t,e,n){var r=0;e&&(r|=4),Ww(n,t,r,e)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Ro(t){if(!t[Vl]){t[Vl]=!0,Jb.forEach(function(n){n!=="selectionchange"&&(Lk.has(n)||Ju(n,!1,t),Ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vl]||(e[Vl]=!0,Ju("selectionchange",!1,e))}}function Ww(t,e,n,r){switch(_w(e)){case 1:var i=JC;break;case 4:i=ZC;break;default:i=mp}n=i.bind(null,e,n,t),i=void 0,!cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zu(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;c!==null;){if(o=Gs(c),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}c=c.parentNode}}r=r.return}mw(function(){var d=a,u=cp(n),h=[];e:{var m=Bw.get(t);if(m!==void 0){var f=pp,g=t;switch(t){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":f=mk;break;case"focusin":g="focus",f=Hu;break;case"focusout":g="blur",f=Hu;break;case"beforeblur":case"afterblur":f=Hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=gk;break;case Fw:case $w:case Vw:f=sk;break;case Uw:f=yk;break;case"scroll":f=XC;break;case"wheel":f=bk;break;case"copy":case"cut":case"paste":f=ak;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=D0}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?m!==null?m+"Capture":null:m;w=[];for(var b=d,p;b!==null;){p=b;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,v!==null&&(j=To(b,v),j!=null&&w.push(Oo(b,j,p)))),x)break;b=b.return}0<w.length&&(m=new f(m,g,null,n,u),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&n!==om&&(g=n.relatedTarget||n.fromElement)&&(Gs(g)||g[Mr]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=d,g=g?Gs(g):null,g!==null&&(x=hi(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(w=P0,j="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=D0,j="onPointerLeave",v="onPointerEnter",b="pointer"),x=f==null?m:Ii(f),p=g==null?m:Ii(g),m=new w(j,b+"leave",f,n,u),m.target=x,m.relatedTarget=p,j=null,Gs(u)===d&&(w=new w(v,b+"enter",g,n,u),w.target=p,w.relatedTarget=x,j=w),x=j,f&&g)t:{for(w=f,v=g,b=0,p=w;p;p=gi(p))b++;for(p=0,j=v;j;j=gi(j))p++;for(;0<b-p;)w=gi(w),b--;for(;0<p-b;)v=gi(v),p--;for(;b--;){if(w===v||v!==null&&w===v.alternate)break t;w=gi(w),v=gi(v)}w=null}else w=null;f!==null&&z0(h,m,f,w,!1),g!==null&&x!==null&&z0(h,x,g,w,!0)}}e:{if(m=d?Ii(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var N=_k;else if(R0(m))if(Mw)N=Ak;else{N=Tk;var S=Ek}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=Pk);if(N&&(N=N(t,d))){Dw(h,N,n,u);break e}S&&S(t,m,d),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&nm(m,"number",m.value)}switch(S=d?Ii(d):window,t){case"focusin":(R0(S)||S.contentEditable==="true")&&(Di=S,fm=d,mo=null);break;case"focusout":mo=fm=Di=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,V0(h,n,u);break;case"selectionchange":if(Ik)break;case"keydown":case"keyup":V0(h,n,u)}var _;if(xp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ai?Pw(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Tw&&n.locale!=="ko"&&(Ai||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ai&&(_=Ew()):(es=u,fp="value"in es?es.value:es.textContent,Ai=!0)),S=Wc(d,E),0<S.length&&(E=new A0(E,t,null,n,u),h.push({event:E,listeners:S}),_?E.data=_:(_=Aw(n),_!==null&&(E.data=_)))),(_=jk?Nk(t,n):Sk(t,n))&&(d=Wc(d,"onBeforeInput"),0<d.length&&(u=new A0("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=_))}zw(h,e)})}function Oo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=To(t,n),a!=null&&r.unshift(Oo(t,a,i)),a=To(t,e),a!=null&&r.push(Oo(t,a,i))),t=t.return}return r}function gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var c=n,l=c.alternate,d=c.stateNode;if(l!==null&&l===r)break;c.tag===5&&d!==null&&(c=d,i?(l=To(n,a),l!=null&&o.unshift(Oo(n,l,c))):i||(l=To(n,a),l!=null&&o.push(Oo(n,l,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Fk=/\r\n?/g,$k=/\u0000|\uFFFD/g;function W0(t){return(typeof t=="string"?t:""+t).replace(Fk,`
`).replace($k,"")}function Ul(t,e,n){if(e=W0(e),W0(t)!==e&&n)throw Error(q(425))}function Hc(){}var gm=null,xm=null;function ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,Vk=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(Bk)}:vm;function Bk(t){setTimeout(function(){throw t})}function Xu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Do(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Do(e)}function ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Na=Math.random().toString(36).slice(2),cr="__reactFiber$"+Na,Lo="__reactProps$"+Na,Mr="__reactContainer$"+Na,bm="__reactEvents$"+Na,zk="__reactListeners$"+Na,Wk="__reactHandles$"+Na;function Gs(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q0(t);t!==null;){if(n=t[cr])return n;t=q0(t)}return e}t=n,n=t.parentNode}return null}function dl(t){return t=t[cr]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Bd(t){return t[Lo]||null}var wm=[],Ri=-1;function Ns(t){return{current:t}}function He(t){0>Ri||(t.current=wm[Ri],wm[Ri]=null,Ri--)}function Be(t,e){Ri++,wm[Ri]=t.current,t.current=e}var xs={},Kt=Ns(xs),rn=Ns(!1),ti=xs;function sa(t,e){var n=t.type.contextTypes;if(!n)return xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function qc(){He(rn),He(Kt)}function G0(t,e,n){if(Kt.current!==xs)throw Error(q(168));Be(Kt,e),Be(rn,n)}function Hw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,EC(t)||"Unknown",i));return et({},n,r)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xs,ti=Kt.current,Be(Kt,t),Be(rn,rn.current),!0}function K0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Hw(t,e,ti),r.__reactInternalMemoizedMergedChildContext=t,He(rn),He(Kt),Be(Kt,t)):He(rn),Be(rn,n)}var Cr=null,zd=!1,eh=!1;function qw(t){Cr===null?Cr=[t]:Cr.push(t)}function Hk(t){zd=!0,qw(t)}function Ss(){if(!eh&&Cr!==null){eh=!0;var t=0,e=Oe;try{var n=Cr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cr=null,zd=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(t+1)),xw(dp,Ss),i}finally{Oe=e,eh=!1}}return null}var Oi=[],Li=0,Kc=null,Yc=0,An=[],Dn=0,ni=null,kr=1,_r="";function Is(t,e){Oi[Li++]=Yc,Oi[Li++]=Kc,Kc=t,Yc=e}function Gw(t,e,n){An[Dn++]=kr,An[Dn++]=_r,An[Dn++]=ni,ni=t;var r=kr;t=_r;var i=32-er(r)-1;r&=~(1<<i),n+=1;var a=32-er(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kr=1<<32-er(e)+i|n<<i|r,_r=a+t}else kr=1<<a|n<<i|r,_r=t}function vp(t){t.return!==null&&(Is(t,1),Gw(t,1,0))}function bp(t){for(;t===Kc;)Kc=Oi[--Li],Oi[Li]=null,Yc=Oi[--Li],Oi[Li]=null;for(;t===ni;)ni=An[--Dn],An[Dn]=null,_r=An[--Dn],An[Dn]=null,kr=An[--Dn],An[Dn]=null}var gn=null,fn=null,Ye=!1,Xn=null;function Kw(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Y0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,fn=ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ni!==null?{id:kr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,fn=null,!0):!1;default:return!1}}function jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nm(t){if(Ye){var e=fn;if(e){var n=e;if(!Y0(t,e)){if(jm(t))throw Error(q(418));e=ls(n.nextSibling);var r=gn;e&&Y0(t,e)?Kw(r,n):(t.flags=t.flags&-4097|2,Ye=!1,gn=t)}}else{if(jm(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ye=!1,gn=t}}}function Q0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function Bl(t){if(t!==gn)return!1;if(!Ye)return Q0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ym(t.type,t.memoizedProps)),e&&(e=fn)){if(jm(t))throw Yw(),Error(q(418));for(;e;)Kw(t,e),e=ls(e.nextSibling)}if(Q0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=gn?ls(t.stateNode.nextSibling):null;return!0}function Yw(){for(var t=fn;t;)t=ls(t.nextSibling)}function ia(){fn=gn=null,Ye=!1}function wp(t){Xn===null?Xn=[t]:Xn.push(t)}var qk=Ur.ReactCurrentBatchConfig;function $a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function zl(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J0(t){var e=t._init;return e(t._payload)}function Qw(t){function e(v,b){if(t){var p=v.deletions;p===null?(v.deletions=[b],v.flags|=16):p.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=hs(v,b),v.index=0,v.sibling=null,v}function a(v,b,p){return v.index=p,t?(p=v.alternate,p!==null?(p=p.index,p<b?(v.flags|=2,b):p):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function c(v,b,p,j){return b===null||b.tag!==6?(b=oh(p,v.mode,j),b.return=v,b):(b=i(b,p),b.return=v,b)}function l(v,b,p,j){var N=p.type;return N===Pi?u(v,b,p.props.children,j,p.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Kr&&J0(N)===b.type)?(j=i(b,p.props),j.ref=$a(v,b,p),j.return=v,j):(j=Ec(p.type,p.key,p.props,null,v.mode,j),j.ref=$a(v,b,p),j.return=v,j)}function d(v,b,p,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==p.containerInfo||b.stateNode.implementation!==p.implementation?(b=lh(p,v.mode,j),b.return=v,b):(b=i(b,p.children||[]),b.return=v,b)}function u(v,b,p,j,N){return b===null||b.tag!==7?(b=Xs(p,v.mode,j,N),b.return=v,b):(b=i(b,p),b.return=v,b)}function h(v,b,p){if(typeof b=="string"&&b!==""||typeof b=="number")return b=oh(""+b,v.mode,p),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dl:return p=Ec(b.type,b.key,b.props,null,v.mode,p),p.ref=$a(v,null,b),p.return=v,p;case Ti:return b=lh(b,v.mode,p),b.return=v,b;case Kr:var j=b._init;return h(v,j(b._payload),p)}if(Qa(b)||Ia(b))return b=Xs(b,v.mode,p,null),b.return=v,b;zl(v,b)}return null}function m(v,b,p,j){var N=b!==null?b.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:c(v,b,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Dl:return p.key===N?l(v,b,p,j):null;case Ti:return p.key===N?d(v,b,p,j):null;case Kr:return N=p._init,m(v,b,N(p._payload),j)}if(Qa(p)||Ia(p))return N!==null?null:u(v,b,p,j,null);zl(v,p)}return null}function f(v,b,p,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(p)||null,c(b,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Dl:return v=v.get(j.key===null?p:j.key)||null,l(b,v,j,N);case Ti:return v=v.get(j.key===null?p:j.key)||null,d(b,v,j,N);case Kr:var S=j._init;return f(v,b,p,S(j._payload),N)}if(Qa(j)||Ia(j))return v=v.get(p)||null,u(b,v,j,N,null);zl(b,j)}return null}function g(v,b,p,j){for(var N=null,S=null,_=b,E=b=0,P=null;_!==null&&E<p.length;E++){_.index>E?(P=_,_=null):P=_.sibling;var C=m(v,_,p[E],j);if(C===null){_===null&&(_=P);break}t&&_&&C.alternate===null&&e(v,_),b=a(C,b,E),S===null?N=C:S.sibling=C,S=C,_=P}if(E===p.length)return n(v,_),Ye&&Is(v,E),N;if(_===null){for(;E<p.length;E++)_=h(v,p[E],j),_!==null&&(b=a(_,b,E),S===null?N=_:S.sibling=_,S=_);return Ye&&Is(v,E),N}for(_=r(v,_);E<p.length;E++)P=f(_,v,E,p[E],j),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?E:P.key),b=a(P,b,E),S===null?N=P:S.sibling=P,S=P);return t&&_.forEach(function(I){return e(v,I)}),Ye&&Is(v,E),N}function w(v,b,p,j){var N=Ia(p);if(typeof N!="function")throw Error(q(150));if(p=N.call(p),p==null)throw Error(q(151));for(var S=N=null,_=b,E=b=0,P=null,C=p.next();_!==null&&!C.done;E++,C=p.next()){_.index>E?(P=_,_=null):P=_.sibling;var I=m(v,_,C.value,j);if(I===null){_===null&&(_=P);break}t&&_&&I.alternate===null&&e(v,_),b=a(I,b,E),S===null?N=I:S.sibling=I,S=I,_=P}if(C.done)return n(v,_),Ye&&Is(v,E),N;if(_===null){for(;!C.done;E++,C=p.next())C=h(v,C.value,j),C!==null&&(b=a(C,b,E),S===null?N=C:S.sibling=C,S=C);return Ye&&Is(v,E),N}for(_=r(v,_);!C.done;E++,C=p.next())C=f(_,v,E,C.value,j),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?E:C.key),b=a(C,b,E),S===null?N=C:S.sibling=C,S=C);return t&&_.forEach(function(A){return e(v,A)}),Ye&&Is(v,E),N}function x(v,b,p,j){if(typeof p=="object"&&p!==null&&p.type===Pi&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Dl:e:{for(var N=p.key,S=b;S!==null;){if(S.key===N){if(N=p.type,N===Pi){if(S.tag===7){n(v,S.sibling),b=i(S,p.props.children),b.return=v,v=b;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Kr&&J0(N)===S.type){n(v,S.sibling),b=i(S,p.props),b.ref=$a(v,S,p),b.return=v,v=b;break e}n(v,S);break}else e(v,S);S=S.sibling}p.type===Pi?(b=Xs(p.props.children,v.mode,j,p.key),b.return=v,v=b):(j=Ec(p.type,p.key,p.props,null,v.mode,j),j.ref=$a(v,b,p),j.return=v,v=j)}return o(v);case Ti:e:{for(S=p.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===p.containerInfo&&b.stateNode.implementation===p.implementation){n(v,b.sibling),b=i(b,p.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=lh(p,v.mode,j),b.return=v,v=b}return o(v);case Kr:return S=p._init,x(v,b,S(p._payload),j)}if(Qa(p))return g(v,b,p,j);if(Ia(p))return w(v,b,p,j);zl(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,p),b.return=v,v=b):(n(v,b),b=oh(p,v.mode,j),b.return=v,v=b),o(v)):n(v,b)}return x}var aa=Qw(!0),Jw=Qw(!1),Qc=Ns(null),Jc=null,Fi=null,jp=null;function Np(){jp=Fi=Jc=null}function Sp(t){var e=Qc.current;He(Qc),t._currentValue=e}function Sm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zi(t,e){Jc=t,jp=Fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(jp!==t)if(t={context:t,memoizedValue:e,next:null},Fi===null){if(Jc===null)throw Error(q(308));Fi=t,Jc.dependencies={lanes:0,firstContext:t}}else Fi=Fi.next=t;return e}var Ks=null;function Cp(t){Ks===null?Ks=[t]:Ks.push(t)}function Zw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function kp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Cp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function jc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}function Z0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zc(t,e,n,r){var i=t.updateQueue;Yr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var l=c,d=l.next;l.next=null,o===null?a=d:o.next=d,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==o&&(c===null?u.firstBaseUpdate=d:c.next=d,u.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;o=0,u=d=l=null,c=a;do{var m=c.lane,f=c.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=t,w=c;switch(m=e,f=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(f,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,m=typeof g=="function"?g.call(f,h,m):g,m==null)break e;h=et({},h,m);break e;case 2:Yr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[c]:m.push(c))}else f={eventTime:f,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(d=u=f,l=h):u=u.next=f,o|=m;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;m=c,c=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);si|=o,t.lanes=o,t.memoizedState=h}}function X0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var ul={},mr=Ns(ul),Fo=Ns(ul),$o=Ns(ul);function Ys(t){if(t===ul)throw Error(q(174));return t}function _p(t,e){switch(Be($o,e),Be(Fo,t),Be(mr,ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sm(e,t)}He(mr),Be(mr,e)}function oa(){He(mr),He(Fo),He($o)}function e1(t){Ys($o.current);var e=Ys(mr.current),n=sm(e,t.type);e!==n&&(Be(Fo,t),Be(mr,n))}function Ep(t){Fo.current===t&&(He(mr),He(Fo))}var Qe=Ns(0);function Xc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var th=[];function Tp(){for(var t=0;t<th.length;t++)th[t]._workInProgressVersionPrimary=null;th.length=0}var Nc=Ur.ReactCurrentDispatcher,nh=Ur.ReactCurrentBatchConfig,ri=0,Xe=null,vt=null,St=null,ed=!1,fo=!1,Vo=0,Gk=0;function Vt(){throw Error(q(321))}function Pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function Ap(t,e,n,r,i,a){if(ri=a,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nc.current=t===null||t.memoizedState===null?Jk:Zk,t=n(r,i),fo){a=0;do{if(fo=!1,Vo=0,25<=a)throw Error(q(301));a+=1,St=vt=null,e.updateQueue=null,Nc.current=Xk,t=n(r,i)}while(fo)}if(Nc.current=td,e=vt!==null&&vt.next!==null,ri=0,St=vt=Xe=null,ed=!1,e)throw Error(q(300));return t}function Dp(){var t=Vo!==0;return Vo=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Xe.memoizedState=St=t:St=St.next=t,St}function Fn(){if(vt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=St===null?Xe.memoizedState:St.next;if(e!==null)St=e,vt=t;else{if(t===null)throw Error(q(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?Xe.memoizedState=St=t:St=St.next=t}return St}function Uo(t,e){return typeof e=="function"?e(t):e}function rh(t){var e=Fn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var c=o=null,l=null,d=a;do{var u=d.lane;if((ri&u)===u)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(c=l=h,o=r):l=l.next=h,Xe.lanes|=u,si|=u}d=d.next}while(d!==null&&d!==a);l===null?o=r:l.next=c,nr(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Xe.lanes|=a,si|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sh(t){var e=Fn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);nr(a,e.memoizedState)||(nn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function t1(){}function n1(t,e){var n=Xe,r=Fn(),i=e(),a=!nr(r.memoizedState,i);if(a&&(r.memoizedState=i,nn=!0),r=r.queue,Mp(i1.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Bo(9,s1.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(q(349));ri&30||r1(n,e,i)}return i}function r1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function s1(t,e,n,r){e.value=n,e.getSnapshot=r,a1(e)&&o1(t)}function i1(t,e,n){return n(function(){a1(e)&&o1(t)})}function a1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function o1(t){var e=Ir(t,1);e!==null&&tr(e,t,1,-1)}function ex(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},e.queue=t,t=t.dispatch=Qk.bind(null,Xe,t),[e.memoizedState,t]}function Bo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function l1(){return Fn().memoizedState}function Sc(t,e,n,r){var i=ir();Xe.flags|=t,i.memoizedState=Bo(1|e,n,void 0,r===void 0?null:r)}function Wd(t,e,n,r){var i=Fn();r=r===void 0?null:r;var a=void 0;if(vt!==null){var o=vt.memoizedState;if(a=o.destroy,r!==null&&Pp(r,o.deps)){i.memoizedState=Bo(e,n,a,r);return}}Xe.flags|=t,i.memoizedState=Bo(1|e,n,a,r)}function tx(t,e){return Sc(8390656,8,t,e)}function Mp(t,e){return Wd(2048,8,t,e)}function c1(t,e){return Wd(4,2,t,e)}function d1(t,e){return Wd(4,4,t,e)}function u1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h1(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4,4,u1.bind(null,e,t),n)}function Ip(){}function m1(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f1(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p1(t,e,n){return ri&21?(nr(n,e)||(n=bw(),Xe.lanes|=n,si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function Kk(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=nh.transition;nh.transition={};try{t(!1),e()}finally{Oe=n,nh.transition=r}}function g1(){return Fn().memoizedState}function Yk(t,e,n){var r=us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x1(t))y1(e,n);else if(n=Zw(t,e,n,r),n!==null){var i=Jt();tr(n,t,r,i),v1(n,e,r)}}function Qk(t,e,n){var r=us(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x1(t))y1(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,c=a(o,n);if(i.hasEagerState=!0,i.eagerState=c,nr(c,o)){var l=e.interleaved;l===null?(i.next=i,Cp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Zw(t,e,i,r),n!==null&&(i=Jt(),tr(n,t,r,i),v1(n,e,r))}}function x1(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function y1(t,e){fo=ed=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function v1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}var td={readContext:Ln,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Jk={readContext:Ln,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:tx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sc(4194308,4,u1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sc(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Yk.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:ex,useDebugValue:Ip,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=ex(!1),e=t[0];return t=Kk.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=ir();if(Ye){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),kt===null)throw Error(q(349));ri&30||r1(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,tx(i1.bind(null,r,a,t),[t]),r.flags|=2048,Bo(9,s1.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ir(),e=kt.identifierPrefix;if(Ye){var n=_r,r=kr;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Gk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zk={readContext:Ln,useCallback:m1,useContext:Ln,useEffect:Mp,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:d1,useMemo:f1,useReducer:rh,useRef:l1,useState:function(){return rh(Uo)},useDebugValue:Ip,useDeferredValue:function(t){var e=Fn();return p1(e,vt.memoizedState,t)},useTransition:function(){var t=rh(Uo)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:t1,useSyncExternalStore:n1,useId:g1,unstable_isNewReconciler:!1},Xk={readContext:Ln,useCallback:m1,useContext:Ln,useEffect:Mp,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:d1,useMemo:f1,useReducer:sh,useRef:l1,useState:function(){return sh(Uo)},useDebugValue:Ip,useDeferredValue:function(t){var e=Fn();return vt===null?e.memoizedState=t:p1(e,vt.memoizedState,t)},useTransition:function(){var t=sh(Uo)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:t1,useSyncExternalStore:n1,useId:g1,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hd={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=us(t),a=Er(r,i);a.payload=e,n!=null&&(a.callback=n),e=cs(t,a,i),e!==null&&(tr(e,t,i,r),jc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=us(t),a=Er(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=cs(t,a,i),e!==null&&(tr(e,t,i,r),jc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=us(t),i=Er(n,r);i.tag=2,e!=null&&(i.callback=e),e=cs(t,i,r),e!==null&&(tr(e,t,r,n),jc(e,t,r))}};function nx(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Io(n,r)||!Io(i,a):!0}function b1(t,e,n){var r=!1,i=xs,a=e.contextType;return typeof a=="object"&&a!==null?a=Ln(a):(i=sn(e)?ti:Kt.current,r=e.contextTypes,a=(r=r!=null)?sa(t,i):xs),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function rx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hd.enqueueReplaceState(e,e.state,null)}function km(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kp(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ln(a):(a=sn(e)?ti:Kt.current,i.context=sa(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Cm(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hd.enqueueReplaceState(i,i.state,null),Zc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function la(t,e){try{var n="",r=e;do n+=_C(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ih(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _m(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var e_=typeof WeakMap=="function"?WeakMap:Map;function w1(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rd||(rd=!0,Lm=r),_m(t,e)},n}function j1(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_m(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){_m(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new e_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=f_.bind(null,t,e,n),e.then(t,t))}function ix(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ax(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var t_=Ur.ReactCurrentOwner,nn=!1;function Qt(t,e,n,r){e.child=t===null?Jw(e,null,n,r):aa(e,t.child,n,r)}function ox(t,e,n,r,i){n=n.render;var a=e.ref;return Zi(e,i),r=Ap(t,e,n,r,a,i),n=Dp(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Ye&&n&&vp(e),e.flags|=1,Qt(t,e,r,i),e.child)}function lx(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Bp(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,N1(t,e,a,r,i)):(t=Ec(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Io,n(o,r)&&t.ref===e.ref)return Rr(t,e,i)}return e.flags|=1,t=hs(a,r),t.ref=e.ref,t.return=e,e.child=t}function N1(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Io(a,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Rr(t,e,i)}return Em(t,e,n,r,i)}function S1(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Vi,hn),hn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Vi,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Be(Vi,hn),hn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Be(Vi,hn),hn|=r;return Qt(t,e,i,n),e.child}function C1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Em(t,e,n,r,i){var a=sn(n)?ti:Kt.current;return a=sa(e,a),Zi(e,i),n=Ap(t,e,n,r,a,i),r=Dp(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Ye&&r&&vp(e),e.flags|=1,Qt(t,e,n,i),e.child)}function cx(t,e,n,r,i){if(sn(n)){var a=!0;Gc(e)}else a=!1;if(Zi(e,i),e.stateNode===null)Cc(t,e),b1(e,n,r),km(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ln(d):(d=sn(n)?ti:Kt.current,d=sa(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||l!==d)&&rx(e,o,r,d),Yr=!1;var m=e.memoizedState;o.state=m,Zc(e,r,o,i),l=e.memoizedState,c!==r||m!==l||rn.current||Yr?(typeof u=="function"&&(Cm(e,n,u,r),l=e.memoizedState),(c=Yr||nx(e,n,c,r,m,l,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xw(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Qn(e.type,c),o.props=d,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=sn(n)?ti:Kt.current,l=sa(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||m!==l)&&rx(e,o,r,l),Yr=!1,m=e.memoizedState,o.state=m,Zc(e,r,o,i);var g=e.memoizedState;c!==h||m!==g||rn.current||Yr?(typeof f=="function"&&(Cm(e,n,f,r),g=e.memoizedState),(d=Yr||nx(e,n,d,r,m,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Tm(t,e,n,r,a,i)}function Tm(t,e,n,r,i,a){C1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&K0(e,n,!1),Rr(t,e,a);r=e.stateNode,t_.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=aa(e,t.child,null,a),e.child=aa(e,null,c,a)):Qt(t,e,c,a),e.memoizedState=r.state,i&&K0(e,n,!0),e.child}function k1(t){var e=t.stateNode;e.pendingContext?G0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G0(t,e.context,!1),_p(t,e.containerInfo)}function dx(t,e,n,r,i){return ia(),wp(i),e.flags|=256,Qt(t,e,n,r),e.child}var Pm={dehydrated:null,treeContext:null,retryLane:0};function Am(t){return{baseLanes:t,cachePool:null,transitions:null}}function _1(t,e,n){var r=e.pendingProps,i=Qe.current,a=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Qe,i&1),t===null)return Nm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Kd(o,r,0,null),t=Xs(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Am(n),e.memoizedState=Pm,t):Rp(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return n_(t,e,o,r,c,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,c=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=hs(c,a):(a=Xs(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Pm,r}return a=t.child,t=a.sibling,r=hs(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rp(t,e){return e=Kd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wl(t,e,n,r){return r!==null&&wp(r),aa(e,t.child,null,n),t=Rp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n_(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=ih(Error(q(422))),Wl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Kd({mode:"visible",children:r.children},i,0,null),a=Xs(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&aa(e,t.child,null,o),e.child.memoizedState=Am(o),e.memoizedState=Pm,a);if(!(e.mode&1))return Wl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(q(419)),r=ih(a,r,void 0),Wl(t,e,o,r)}if(c=(o&t.childLanes)!==0,nn||c){if(r=kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ir(t,i),tr(r,t,i,-1))}return Up(),r=ih(Error(q(421))),Wl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=p_.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,fn=ls(i.nextSibling),gn=e,Ye=!0,Xn=null,t!==null&&(An[Dn++]=kr,An[Dn++]=_r,An[Dn++]=ni,kr=t.id,_r=t.overflow,ni=e),e=Rp(e,r.children),e.flags|=4096,e)}function ux(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sm(t.return,e,n)}function ah(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function E1(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Qt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ux(t,n,e);else if(t.tag===19)ux(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ah(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ah(e,!0,n,null,a);break;case"together":ah(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function r_(t,e,n){switch(e.tag){case 3:k1(e),ia();break;case 5:e1(e);break;case 1:sn(e.type)&&Gc(e);break;case 4:_p(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(Qc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?_1(t,e,n):(Be(Qe,Qe.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return E1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,S1(t,e,n)}return Rr(t,e,n)}var T1,Dm,P1,A1;T1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dm=function(){};P1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ys(mr.current);var a=null;switch(n){case"input":i=em(t,i),r=em(t,r),a=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),a=[];break;case"textarea":i=rm(t,i),r=rm(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hc)}im(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var l=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(l!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(a=a||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_o.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&ze("scroll",t),a||c===l||(a=[])):(a=a||[]).push(d,l))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};A1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Va(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function s_(t,e,n){var r=e.pendingProps;switch(bp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return sn(e.type)&&qc(),Ut(e),null;case 3:return r=e.stateNode,oa(),He(rn),He(Kt),Tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(Vm(Xn),Xn=null))),Dm(t,e),Ut(e),null;case 5:Ep(e);var i=Ys($o.current);if(n=e.type,t!==null&&e.stateNode!=null)P1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Ut(e),null}if(t=Ys(mr.current),Bl(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[cr]=e,r[Lo]=a,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Za.length;i++)ze(Za[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":b0(r,a),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ze("invalid",r);break;case"textarea":j0(r,a),ze("invalid",r)}im(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&Ul(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Ul(r.textContent,c,t),i=["children",""+c]):_o.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Ml(r),w0(r,a,!0);break;case"textarea":Ml(r),N0(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Hc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[Lo]=r,T1(t,e,!1,!1),e.stateNode=t;e:{switch(o=am(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Za.length;i++)ze(Za[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":b0(t,r),i=em(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),ze("invalid",t);break;case"textarea":j0(t,r),i=rm(t,r),ze("invalid",t);break;default:i=r}im(n,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];a==="style"?lw(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aw(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eo(t,l):typeof l=="number"&&Eo(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_o.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ze("scroll",t):l!=null&&ip(t,a,l,o))}switch(n){case"input":Ml(t),w0(t,r,!1);break;case"textarea":Ml(t),N0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gs(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ki(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)A1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Ys($o.current),Ys(mr.current),Bl(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(a=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:Ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Ut(e),null;case 13:if(He(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&fn!==null&&e.mode&1&&!(e.flags&128))Yw(),ia(),e.flags|=98560,a=!1;else if(a=Bl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(q(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[cr]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),a=!1}else Xn!==null&&(Vm(Xn),Xn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?bt===0&&(bt=3):Up())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return oa(),Dm(t,e),t===null&&Ro(e.stateNode.containerInfo),Ut(e),null;case 10:return Sp(e.type._context),Ut(e),null;case 17:return sn(e.type)&&qc(),Ut(e),null;case 19:if(He(Qe),a=e.memoizedState,a===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Va(a,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xc(t),o!==null){for(e.flags|=128,Va(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Qe,Qe.current&1|2),e.child}t=t.sibling}a.tail!==null&&ot()>ca&&(e.flags|=128,r=!0,Va(a,!1),e.lanes=4194304)}else{if(!r)if(t=Xc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Va(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ye)return Ut(e),null}else 2*ot()-a.renderingStartTime>ca&&n!==1073741824&&(e.flags|=128,r=!0,Va(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ot(),e.sibling=null,n=Qe.current,Be(Qe,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Vp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function i_(t,e){switch(bp(e),e.tag){case 1:return sn(e.type)&&qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(),He(rn),He(Kt),Tp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ep(e),null;case 13:if(He(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Qe),null;case 4:return oa(),null;case 10:return Sp(e.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var Hl=!1,Wt=!1,a_=typeof WeakSet=="function"?WeakSet:Set,te=null;function $i(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Mm(t,e,n){try{n()}catch(r){nt(t,e,r)}}var hx=!1;function o_(t,e){if(gm=Bc,t=Ow(),yp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,c=-1,l=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(c=o+i),h!==a||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===n&&++d===i&&(c=o),m===a&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xm={focusedElem:t,selectionRange:n},Bc=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,x=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Qn(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){nt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return g=hx,hx=!1,g}function po(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Mm(e,n,a)}i=i.next}while(i!==r)}}function qd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Im(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function D1(t){var e=t.alternate;e!==null&&(t.alternate=null,D1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[Lo],delete e[bm],delete e[zk],delete e[Wk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M1(t){return t.tag===5||t.tag===3||t.tag===4}function mx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hc));else if(r!==4&&(t=t.child,t!==null))for(Rm(t,e,n),t=t.sibling;t!==null;)Rm(t,e,n),t=t.sibling}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}var Pt=null,Jn=!1;function zr(t,e,n){for(n=n.child;n!==null;)I1(t,e,n),n=n.sibling}function I1(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Fd,n)}catch{}switch(n.tag){case 5:Wt||$i(n,e);case 6:var r=Pt,i=Jn;Pt=null,zr(t,e,n),Pt=r,Jn=i,Pt!==null&&(Jn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Jn?(t=Pt,n=n.stateNode,t.nodeType===8?Xu(t.parentNode,n):t.nodeType===1&&Xu(t,n),Do(t)):Xu(Pt,n.stateNode));break;case 4:r=Pt,i=Jn,Pt=n.stateNode.containerInfo,Jn=!0,zr(t,e,n),Pt=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Mm(n,e,o),i=i.next}while(i!==r)}zr(t,e,n);break;case 1:if(!Wt&&($i(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){nt(n,e,c)}zr(t,e,n);break;case 21:zr(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,zr(t,e,n),Wt=r):zr(t,e,n);break;default:zr(t,e,n)}}function fx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new a_),e.forEach(function(r){var i=g_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:Pt=c.stateNode,Jn=!1;break e;case 3:Pt=c.stateNode.containerInfo,Jn=!0;break e;case 4:Pt=c.stateNode.containerInfo,Jn=!0;break e}c=c.return}if(Pt===null)throw Error(q(160));I1(a,o,i),Pt=null,Jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){nt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)R1(e,t),e=e.sibling}function R1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),sr(t),r&4){try{po(3,t,t.return),qd(3,t)}catch(w){nt(t,t.return,w)}try{po(5,t,t.return)}catch(w){nt(t,t.return,w)}}break;case 1:qn(e,t),sr(t),r&512&&n!==null&&$i(n,n.return);break;case 5:if(qn(e,t),sr(t),r&512&&n!==null&&$i(n,n.return),t.flags&32){var i=t.stateNode;try{Eo(i,"")}catch(w){nt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,c=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&rw(i,a),am(c,o);var d=am(c,a);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?lw(i,h):u==="dangerouslySetInnerHTML"?aw(i,h):u==="children"?Eo(i,h):ip(i,u,h,d)}switch(c){case"input":tm(i,a);break;case"textarea":sw(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Ki(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ki(i,!!a.multiple,a.defaultValue,!0):Ki(i,!!a.multiple,a.multiple?[]:"",!1))}i[Lo]=a}catch(w){nt(t,t.return,w)}}break;case 6:if(qn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(w){nt(t,t.return,w)}}break;case 3:if(qn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(e.containerInfo)}catch(w){nt(t,t.return,w)}break;case 4:qn(e,t),sr(t);break;case 13:qn(e,t),sr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Fp=ot())),r&4&&fx(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(d=Wt)||u,qn(e,t),Wt=d):qn(e,t),sr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(te=t,u=t.child;u!==null;){for(h=te=u;te!==null;){switch(m=te,f=m.child,m.tag){case 0:case 11:case 14:case 15:po(4,m,m.return);break;case 1:$i(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){nt(r,n,w)}}break;case 5:$i(m,m.return);break;case 22:if(m.memoizedState!==null){gx(h);continue}}f!==null?(f.return=m,te=f):gx(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=ow("display",o))}catch(w){nt(t,t.return,w)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){nt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qn(e,t),sr(t),r&4&&fx(t);break;case 21:break;default:qn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M1(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Eo(i,""),r.flags&=-33);var a=mx(t);Om(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=mx(t);Rm(t,c,o);break;default:throw Error(q(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l_(t,e,n){te=t,O1(t)}function O1(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Hl;if(!o){var c=i.alternate,l=c!==null&&c.memoizedState!==null||Wt;c=Hl;var d=Wt;if(Hl=o,(Wt=l)&&!d)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?xx(i):l!==null?(l.return=o,te=l):xx(i);for(;a!==null;)te=a,O1(a),a=a.sibling;te=i,Hl=c,Wt=d}px(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,te=a):px(t)}}function px(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||qd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&X0(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X0(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Do(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Wt||e.flags&512&&Im(e)}catch(m){nt(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function gx(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function xx(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qd(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nt(e,i,l)}}var a=e.return;try{Im(e)}catch(l){nt(e,a,l)}break;case 5:var o=e.return;try{Im(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){te=null;break}var c=e.sibling;if(c!==null){c.return=e.return,te=c;break}te=e.return}}var c_=Math.ceil,nd=Ur.ReactCurrentDispatcher,Op=Ur.ReactCurrentOwner,In=Ur.ReactCurrentBatchConfig,Ee=0,kt=null,pt=null,Mt=0,hn=0,Vi=Ns(0),bt=0,zo=null,si=0,Gd=0,Lp=0,go=null,en=null,Fp=0,ca=1/0,Nr=null,rd=!1,Lm=null,ds=null,ql=!1,ts=null,sd=0,xo=0,Fm=null,kc=-1,_c=0;function Jt(){return Ee&6?ot():kc!==-1?kc:kc=ot()}function us(t){return t.mode&1?Ee&2&&Mt!==0?Mt&-Mt:qk.transition!==null?(_c===0&&(_c=bw()),_c):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:_w(t.type)),t):1}function tr(t,e,n,r){if(50<xo)throw xo=0,Fm=null,Error(q(185));ll(t,n,r),(!(Ee&2)||t!==kt)&&(t===kt&&(!(Ee&2)&&(Gd|=n),bt===4&&Zr(t,Mt)),an(t,r),n===1&&Ee===0&&!(e.mode&1)&&(ca=ot()+500,zd&&Ss()))}function an(t,e){var n=t.callbackNode;qC(t,e);var r=Uc(t,t===kt?Mt:0);if(r===0)n!==null&&k0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k0(n),e===1)t.tag===0?Hk(yx.bind(null,t)):qw(yx.bind(null,t)),Uk(function(){!(Ee&6)&&Ss()}),n=null;else{switch(ww(r)){case 1:n=dp;break;case 4:n=yw;break;case 16:n=Vc;break;case 536870912:n=vw;break;default:n=Vc}n=W1(n,L1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function L1(t,e){if(kc=-1,_c=0,Ee&6)throw Error(q(327));var n=t.callbackNode;if(Xi()&&t.callbackNode!==n)return null;var r=Uc(t,t===kt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=id(t,r);else{e=r;var i=Ee;Ee|=2;var a=$1();(kt!==t||Mt!==e)&&(Nr=null,ca=ot()+500,Zs(t,e));do try{h_();break}catch(c){F1(t,c)}while(!0);Np(),nd.current=a,Ee=i,pt!==null?e=0:(kt=null,Mt=0,e=bt)}if(e!==0){if(e===2&&(i=um(t),i!==0&&(r=i,e=$m(t,i))),e===1)throw n=zo,Zs(t,0),Zr(t,r),an(t,ot()),n;if(e===6)Zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!d_(i)&&(e=id(t,r),e===2&&(a=um(t),a!==0&&(r=a,e=$m(t,a))),e===1))throw n=zo,Zs(t,0),Zr(t,r),an(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Rs(t,en,Nr);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=Fp+500-ot(),10<e)){if(Uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vm(Rs.bind(null,t,en,Nr),e);break}Rs(t,en,Nr);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-er(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c_(r/1960))-r,10<r){t.timeoutHandle=vm(Rs.bind(null,t,en,Nr),r);break}Rs(t,en,Nr);break;case 5:Rs(t,en,Nr);break;default:throw Error(q(329))}}}return an(t,ot()),t.callbackNode===n?L1.bind(null,t):null}function $m(t,e){var n=go;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=id(t,e),t!==2&&(e=en,en=n,e!==null&&Vm(e)),t}function Vm(t){en===null?en=t:en.push.apply(en,t)}function d_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~Lp,e&=~Gd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function yx(t){if(Ee&6)throw Error(q(327));Xi();var e=Uc(t,0);if(!(e&1))return an(t,ot()),null;var n=id(t,e);if(t.tag!==0&&n===2){var r=um(t);r!==0&&(e=r,n=$m(t,r))}if(n===1)throw n=zo,Zs(t,0),Zr(t,e),an(t,ot()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rs(t,en,Nr),an(t,ot()),null}function $p(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(ca=ot()+500,zd&&Ss())}}function ii(t){ts!==null&&ts.tag===0&&!(Ee&6)&&Xi();var e=Ee;Ee|=1;var n=In.transition,r=Oe;try{if(In.transition=null,Oe=1,t)return t()}finally{Oe=r,In.transition=n,Ee=e,!(Ee&6)&&Ss()}}function Vp(){hn=Vi.current,He(Vi)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Vk(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(bp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qc();break;case 3:oa(),He(rn),He(Kt),Tp();break;case 5:Ep(r);break;case 4:oa();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:Sp(r.type._context);break;case 22:case 23:Vp()}n=n.return}if(kt=t,pt=t=hs(t.current,null),Mt=hn=e,bt=0,zo=null,Lp=Gd=si=0,en=go=null,Ks!==null){for(e=0;e<Ks.length;e++)if(n=Ks[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Ks=null}return t}function F1(t,e){do{var n=pt;try{if(Np(),Nc.current=td,ed){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ed=!1}if(ri=0,St=vt=Xe=null,fo=!1,Vo=0,Op.current=null,n===null||n.return===null){bt=1,zo=e,pt=null;break}e:{var a=t,o=n.return,c=n,l=e;if(e=Mt,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,u=c,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ix(o);if(f!==null){f.flags&=-257,ax(f,o,c,a,e),f.mode&1&&sx(a,d,e),e=f,l=d;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){sx(a,d,e),Up();break e}l=Error(q(426))}}else if(Ye&&c.mode&1){var x=ix(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ax(x,o,c,a,e),wp(la(l,c));break e}}a=l=la(l,c),bt!==4&&(bt=2),go===null?go=[a]:go.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=w1(a,l,e);Z0(a,v);break e;case 1:c=l;var b=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ds===null||!ds.has(p)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=j1(a,c,e);Z0(a,j);break e}}a=a.return}while(a!==null)}U1(n)}catch(N){e=N,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function $1(){var t=nd.current;return nd.current=td,t===null?td:t}function Up(){(bt===0||bt===3||bt===2)&&(bt=4),kt===null||!(si&268435455)&&!(Gd&268435455)||Zr(kt,Mt)}function id(t,e){var n=Ee;Ee|=2;var r=$1();(kt!==t||Mt!==e)&&(Nr=null,Zs(t,e));do try{u_();break}catch(i){F1(t,i)}while(!0);if(Np(),Ee=n,nd.current=r,pt!==null)throw Error(q(261));return kt=null,Mt=0,bt}function u_(){for(;pt!==null;)V1(pt)}function h_(){for(;pt!==null&&!LC();)V1(pt)}function V1(t){var e=z1(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?U1(t):pt=e,Op.current=null}function U1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=i_(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,pt=null;return}}else if(n=s_(n,e,hn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);bt===0&&(bt=5)}function Rs(t,e,n){var r=Oe,i=In.transition;try{In.transition=null,Oe=1,m_(t,e,n,r)}finally{In.transition=i,Oe=r}return null}function m_(t,e,n,r){do Xi();while(ts!==null);if(Ee&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(GC(t,a),t===kt&&(pt=kt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ql||(ql=!0,W1(Vc,function(){return Xi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=In.transition,In.transition=null;var o=Oe;Oe=1;var c=Ee;Ee|=4,Op.current=null,o_(t,n),R1(n,t),Mk(xm),Bc=!!gm,xm=gm=null,t.current=n,l_(n),FC(),Ee=c,Oe=o,In.transition=a}else t.current=n;if(ql&&(ql=!1,ts=t,sd=i),a=t.pendingLanes,a===0&&(ds=null),UC(n.stateNode),an(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rd)throw rd=!1,t=Lm,Lm=null,t;return sd&1&&t.tag!==0&&Xi(),a=t.pendingLanes,a&1?t===Fm?xo++:(xo=0,Fm=t):xo=0,Ss(),null}function Xi(){if(ts!==null){var t=ww(sd),e=In.transition,n=Oe;try{if(In.transition=null,Oe=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,sd=0,Ee&6)throw Error(q(331));var i=Ee;for(Ee|=4,te=t.current;te!==null;){var a=te,o=a.child;if(te.flags&16){var c=a.deletions;if(c!==null){for(var l=0;l<c.length;l++){var d=c[l];for(te=d;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:po(8,u,a)}var h=u.child;if(h!==null)h.return=u,te=h;else for(;te!==null;){u=te;var m=u.sibling,f=u.return;if(D1(u),u===d){te=null;break}if(m!==null){m.return=f,te=m;break}te=f}}}var g=a.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,te=o;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:po(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,te=v;break e}te=a.return}}var b=t.current;for(te=b;te!==null;){o=te;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,te=p;else e:for(o=b;te!==null;){if(c=te,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:qd(9,c)}}catch(N){nt(c,c.return,N)}if(c===o){te=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,te=j;break e}te=c.return}}if(Ee=i,Ss(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Fd,t)}catch{}r=!0}return r}finally{Oe=n,In.transition=e}}return!1}function vx(t,e,n){e=la(n,e),e=w1(t,e,1),t=cs(t,e,1),e=Jt(),t!==null&&(ll(t,1,e),an(t,e))}function nt(t,e,n){if(t.tag===3)vx(t,t,n);else for(;e!==null;){if(e.tag===3){vx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=la(n,t),t=j1(e,t,1),e=cs(e,t,1),t=Jt(),e!==null&&(ll(e,1,t),an(e,t));break}}e=e.return}}function f_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Mt&n)===n&&(bt===4||bt===3&&(Mt&130023424)===Mt&&500>ot()-Fp?Zs(t,0):Lp|=n),an(t,e)}function B1(t,e){e===0&&(t.mode&1?(e=Ol,Ol<<=1,!(Ol&130023424)&&(Ol=4194304)):e=1);var n=Jt();t=Ir(t,e),t!==null&&(ll(t,e,n),an(t,n))}function p_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),B1(t,n)}function g_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),B1(t,n)}var z1;z1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,r_(t,e,n);nn=!!(t.flags&131072)}else nn=!1,Ye&&e.flags&1048576&&Gw(e,Yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cc(t,e),t=e.pendingProps;var i=sa(e,Kt.current);Zi(e,n),i=Ap(null,e,r,t,i,n);var a=Dp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(a=!0,Gc(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kp(e),i.updater=Hd,e.stateNode=i,i._reactInternals=e,km(e,r,t,n),e=Tm(null,e,r,!0,a,n)):(e.tag=0,Ye&&a&&vp(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=y_(r),t=Qn(r,t),i){case 0:e=Em(null,e,r,t,n);break e;case 1:e=cx(null,e,r,t,n);break e;case 11:e=ox(null,e,r,t,n);break e;case 14:e=lx(null,e,r,Qn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Em(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),cx(t,e,r,i,n);case 3:e:{if(k1(e),t===null)throw Error(q(387));r=e.pendingProps,a=e.memoizedState,i=a.element,Xw(t,e),Zc(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=la(Error(q(423)),e),e=dx(t,e,r,n,i);break e}else if(r!==i){i=la(Error(q(424)),e),e=dx(t,e,r,n,i);break e}else for(fn=ls(e.stateNode.containerInfo.firstChild),gn=e,Ye=!0,Xn=null,n=Jw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),r===i){e=Rr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return e1(e),t===null&&Nm(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,ym(r,i)?o=null:a!==null&&ym(r,a)&&(e.flags|=32),C1(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&Nm(e),null;case 13:return _1(t,e,n);case 4:return _p(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=aa(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),ox(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Be(Qc,r._currentValue),r._currentValue=o,a!==null)if(nr(a.value,o)){if(a.children===i.children&&!rn.current){e=Rr(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var l=c.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Er(-1,n&-n),l.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?l.next=l:(l.next=u.next,u.next=l),d.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Sm(a.return,n,e),c.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(q(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Sm(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zi(e,n),i=Ln(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=Qn(r,e.pendingProps),i=Qn(r.type,i),lx(t,e,r,i,n);case 15:return N1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Cc(t,e),e.tag=1,sn(r)?(t=!0,Gc(e)):t=!1,Zi(e,n),b1(e,r,i),km(e,r,i,n),Tm(null,e,r,!0,t,n);case 19:return E1(t,e,n);case 22:return S1(t,e,n)}throw Error(q(156,e.tag))};function W1(t,e){return xw(t,e)}function x_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new x_(t,e,n,r)}function Bp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y_(t){if(typeof t=="function")return Bp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===op)return 11;if(t===lp)return 14}return 2}function hs(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ec(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")Bp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pi:return Xs(n.children,i,a,e);case ap:o=8,i|=8;break;case Qh:return t=Mn(12,n,e,i|2),t.elementType=Qh,t.lanes=a,t;case Jh:return t=Mn(13,n,e,i),t.elementType=Jh,t.lanes=a,t;case Zh:return t=Mn(19,n,e,i),t.elementType=Zh,t.lanes=a,t;case ew:return Kd(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zb:o=10;break e;case Xb:o=9;break e;case op:o=11;break e;case lp:o=14;break e;case Kr:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Xs(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Kd(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=ew,t.lanes=n,t.stateNode={isHidden:!1},t}function oh(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function lh(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bu(0),this.expirationTimes=Bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zp(t,e,n,r,i,a,o,c,l){return t=new v_(t,e,n,c,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Mn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(a),t}function b_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function H1(t){if(!t)return xs;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(sn(n))return Hw(t,n,e)}return e}function q1(t,e,n,r,i,a,o,c,l){return t=zp(n,r,!0,t,i,a,o,c,l),t.context=H1(null),n=t.current,r=Jt(),i=us(n),a=Er(r,i),a.callback=e??null,cs(n,a,i),t.current.lanes=i,ll(t,i,r),an(t,r),t}function Yd(t,e,n,r){var i=e.current,a=Jt(),o=us(i);return n=H1(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(i,e,o),t!==null&&(tr(t,i,o,a),jc(t,i,o)),o}function ad(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wp(t,e){bx(t,e),(t=t.alternate)&&bx(t,e)}function w_(){return null}var G1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hp(t){this._internalRoot=t}Qd.prototype.render=Hp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Yd(t,e,null,null)};Qd.prototype.unmount=Hp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){Yd(null,t,null,null)}),e[Mr]=null}};function Qd(t){this._internalRoot=t}Qd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&kw(t)}};function qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wx(){}function j_(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=ad(o);a.call(d)}}var o=q1(e,r,t,0,null,!1,!1,"",wx);return t._reactRootContainer=o,t[Mr]=o.current,Ro(t.nodeType===8?t.parentNode:t),ii(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=ad(l);c.call(d)}}var l=zp(t,0,!1,null,null,!1,!1,"",wx);return t._reactRootContainer=l,t[Mr]=l.current,Ro(t.nodeType===8?t.parentNode:t),ii(function(){Yd(e,l,n,r)}),l}function Zd(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var l=ad(o);c.call(l)}}Yd(e,o,t,i)}else o=j_(n,e,t,i,r);return ad(o)}jw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ja(e.pendingLanes);n!==0&&(up(e,n|1),an(e,ot()),!(Ee&6)&&(ca=ot()+500,Ss()))}break;case 13:ii(function(){var r=Ir(t,1);if(r!==null){var i=Jt();tr(r,t,1,i)}}),Wp(t,1)}};hp=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Jt();tr(e,t,134217728,n)}Wp(t,134217728)}};Nw=function(t){if(t.tag===13){var e=us(t),n=Ir(t,e);if(n!==null){var r=Jt();tr(n,t,e,r)}Wp(t,e)}};Sw=function(){return Oe};Cw=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};lm=function(t,e,n){switch(e){case"input":if(tm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bd(r);if(!i)throw Error(q(90));nw(r),tm(r,i)}}}break;case"textarea":sw(t,n);break;case"select":e=n.value,e!=null&&Ki(t,!!n.multiple,e,!1)}};uw=$p;hw=ii;var N_={usingClientEntryPoint:!1,Events:[dl,Ii,Bd,cw,dw,$p]},Ua={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S_={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||w_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{Fd=Gl.inject(S_),hr=Gl}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qp(e))throw Error(q(200));return b_(t,e,null,n)};Sn.createRoot=function(t,e){if(!qp(t))throw Error(q(299));var n=!1,r="",i=G1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zp(t,1,!1,null,null,n,!1,r,i),t[Mr]=e.current,Ro(t.nodeType===8?t.parentNode:t),new Hp(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=pw(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return ii(t)};Sn.hydrate=function(t,e,n){if(!Jd(e))throw Error(q(200));return Zd(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!qp(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=G1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=q1(e,null,t,1,n??null,i,!1,a,o),t[Mr]=e.current,Ro(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qd(e)};Sn.render=function(t,e,n){if(!Jd(e))throw Error(q(200));return Zd(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!Jd(t))throw Error(q(40));return t._reactRootContainer?(ii(function(){Zd(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};Sn.unstable_batchedUpdates=$p;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jd(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Zd(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function K1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K1)}catch(t){console.error(t)}}K1(),Kb.exports=Sn;var Y1=Kb.exports,Q1,jx=Y1;Q1=jx.createRoot,jx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(this,arguments)}var ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ns||(ns={}));const Nx="popstate";function C_(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return Um("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:od(i)}return __(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k_(){return Math.random().toString(36).substr(2,8)}function Sx(t,e){return{usr:t.state,key:t.key,idx:e}}function Um(t,e,n,r){return n===void 0&&(n=null),Wo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sa(e):e,{state:n,key:e&&e.key||r||k_()})}function od(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function __(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c=ns.Pop,l=null,d=u();d==null&&(d=0,o.replaceState(Wo({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){c=ns.Pop;let x=u(),v=x==null?null:x-d;d=x,l&&l({action:c,location:w.location,delta:v})}function m(x,v){c=ns.Push;let b=Um(w.location,x,v);d=u()+1;let p=Sx(b,d),j=w.createHref(b);try{o.pushState(p,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(j)}a&&l&&l({action:c,location:w.location,delta:1})}function f(x,v){c=ns.Replace;let b=Um(w.location,x,v);d=u();let p=Sx(b,d),j=w.createHref(b);o.replaceState(p,"",j),a&&l&&l({action:c,location:w.location,delta:0})}function g(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:od(x);return b=b.replace(/ $/,"%20"),ct(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let w={get action(){return c},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Nx,h),l=x,()=>{i.removeEventListener(Nx,h),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:f,go(x){return o.go(x)}};return w}var Cx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cx||(Cx={}));function E_(t,e,n){return n===void 0&&(n="/"),T_(t,e,n)}function T_(t,e,n,r){let i=typeof e=="string"?Sa(e):e,a=Gp(i.pathname||"/",n);if(a==null)return null;let o=Z1(t);P_(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let d=B_(a);c=$_(o[l],d)}return c}function Z1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,c)=>{let l={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=ms([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Z1(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:L_(d,a.index),routesMeta:u})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let l of X1(a.path))i(a,o,l)}),e}function X1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=X1(r.join("/")),c=[];return c.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&c.push(...o),c.map(l=>t.startsWith("/")&&l===""?"/":l)}function P_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A_=/^:[\w-]+$/,D_=3,M_=2,I_=1,R_=10,O_=-2,kx=t=>t==="*";function L_(t,e){let n=t.split("/"),r=n.length;return n.some(kx)&&(r+=O_),e&&(r+=M_),n.filter(i=>!kx(i)).reduce((i,a)=>i+(A_.test(a)?D_:a===""?I_:R_),r)}function F_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $_(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let l=r[c],d=c===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=V_({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},u),m=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ms([a,h.pathname]),pathnameBase:q_(ms([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=ms([a,h.pathnameBase]))}return o}function V_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=U_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let w=c[h]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const g=c[h];return f&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function U_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),J1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function B_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return J1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function z_(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sa(t):t;return{pathname:n?n.startsWith("/")?n:W_(n,e):e,search:G_(r),hash:K_(i)}}function W_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ch(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kp(t,e){let n=H_(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Sa(t):(i=Wo({},t),ct(!i.pathname||!i.pathname.includes("?"),ch("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),ch("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),ch("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}c=h>=0?e[h]:"/"}let l=z_(i,c),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),q_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Y_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ej=["post","put","patch","delete"];new Set(ej);const Q_=["get",...ej];new Set(Q_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(this,arguments)}const Qp=y.createContext(null),J_=y.createContext(null),Cs=y.createContext(null),Xd=y.createContext(null),vr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),tj=y.createContext(null);function Z_(t,e){let{relative:n}=e===void 0?{}:e;Ca()||ct(!1);let{basename:r,navigator:i}=y.useContext(Cs),{hash:a,pathname:o,search:c}=sj(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ms([r,o])),i.createHref({pathname:l,search:c,hash:a})}function Ca(){return y.useContext(Xd)!=null}function Bn(){return Ca()||ct(!1),y.useContext(Xd).location}function nj(t){y.useContext(Cs).static||y.useLayoutEffect(t)}function Ke(){let{isDataRoute:t}=y.useContext(vr);return t?m5():X_()}function X_(){Ca()||ct(!1);let t=y.useContext(Qp),{basename:e,future:n,navigator:r}=y.useContext(Cs),{matches:i}=y.useContext(vr),{pathname:a}=Bn(),o=JSON.stringify(Kp(i,n.v7_relativeSplatPath)),c=y.useRef(!1);return nj(()=>{c.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let h=Yp(d,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ms([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,a,t])}const e5=y.createContext(null);function t5(t){let e=y.useContext(vr).outlet;return e&&y.createElement(e5.Provider,{value:t},e)}function rj(){let{matches:t}=y.useContext(vr),e=t[t.length-1];return e?e.params:{}}function sj(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Cs),{matches:i}=y.useContext(vr),{pathname:a}=Bn(),o=JSON.stringify(Kp(i,r.v7_relativeSplatPath));return y.useMemo(()=>Yp(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function n5(t,e){return r5(t,e)}function r5(t,e,n,r){Ca()||ct(!1);let{navigator:i}=y.useContext(Cs),{matches:a}=y.useContext(vr),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=Bn(),u;if(e){var h;let x=typeof e=="string"?Sa(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ct(!1),u=x}else u=d;let m=u.pathname||"/",f=m;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=E_(t,{pathname:f}),w=l5(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:ms([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ms([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&w?y.createElement(Xd.Provider,{value:{location:Ho({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ns.Pop}},w):w}function s5(){let t=h5(),e=Y_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const i5=y.createElement(s5,null);class a5 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(vr.Provider,{value:this.props.routeContext},y.createElement(tj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o5(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(Qp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(vr.Provider,{value:e},r)}function l5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let u=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);u>=0||ct(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=n,g=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,g=!1,w=null,x=null;n&&(f=c&&h.route.id?c[h.route.id]:void 0,w=h.route.errorElement||i5,l&&(d<0&&m===0?(f5("route-fallback"),g=!0,x=null):d===m&&(g=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),b=()=>{let p;return f?p=w:g?p=x:h.route.Component?p=y.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=u,y.createElement(o5,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(a5,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var ij=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ij||{}),aj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(aj||{});function c5(t){let e=y.useContext(Qp);return e||ct(!1),e}function d5(t){let e=y.useContext(J_);return e||ct(!1),e}function u5(t){let e=y.useContext(vr);return e||ct(!1),e}function oj(t){let e=u5(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function h5(){var t;let e=y.useContext(tj),n=d5(),r=oj();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function m5(){let{router:t}=c5(ij.UseNavigateStable),e=oj(aj.UseNavigateStable),n=y.useRef(!1);return nj(()=>{n.current=!0}),y.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ho({fromRouteId:e},a)))},[t,e])}const _x={};function f5(t,e,n){_x[t]||(_x[t]=!0)}function p5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bm(t){let{to:e,replace:n,state:r,relative:i}=t;Ca()||ct(!1);let{future:a,static:o}=y.useContext(Cs),{matches:c}=y.useContext(vr),{pathname:l}=Bn(),d=Ke(),u=Yp(e,Kp(c,a.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return y.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:i}),[d,h,i,n,r]),null}function Ex(t){return t5(t.context)}function $e(t){ct(!1)}function g5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ns.Pop,navigator:a,static:o=!1,future:c}=t;Ca()&&ct(!1);let l=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:l,navigator:a,static:o,future:Ho({v7_relativeSplatPath:!1},c)}),[l,c,a,o]);typeof r=="string"&&(r=Sa(r));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:g="default"}=r,w=y.useMemo(()=>{let x=Gp(u,l);return x==null?null:{location:{pathname:x,search:h,hash:m,state:f,key:g},navigationType:i}},[l,u,h,m,f,g,i]);return w==null?null:y.createElement(Cs.Provider,{value:d},y.createElement(Xd.Provider,{children:n,value:w}))}function x5(t){let{children:e,location:n}=t;return n5(zm(e),n)}new Promise(()=>{});function zm(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let a=[...e,i];if(r.type===y.Fragment){n.push.apply(n,zm(r.props.children,a));return}r.type!==$e&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zm(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}function y5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function v5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b5(t,e){return t.button===0&&(!e||e==="_self")&&!v5(t)}function Hm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function w5(t,e){let n=Hm(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const j5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N5="6";try{window.__reactRouterVersion=N5}catch{}const S5="startTransition",Tx=Kh[S5];function C5(t){let{basename:e,children:n,future:r,window:i}=t,a=y.useRef();a.current==null&&(a.current=C_({window:i,v5Compat:!0}));let o=a.current,[c,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=y.useCallback(h=>{d&&Tx?Tx(()=>l(h)):l(h)},[l,d]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.useEffect(()=>p5(r),[r]),y.createElement(g5,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const k5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:c,target:l,to:d,preventScrollReset:u,viewTransition:h}=e,m=y5(e,j5),{basename:f}=y.useContext(Cs),g,w=!1;if(typeof d=="string"&&_5.test(d)&&(g=d,k5))try{let p=new URL(window.location.href),j=d.startsWith("//")?new URL(p.protocol+d):new URL(d),N=Gp(j.pathname,f);j.origin===p.origin&&N!=null?d=N+j.search+j.hash:w=!0}catch{}let x=Z_(d,{relative:i}),v=E5(d,{replace:o,state:c,target:l,preventScrollReset:u,relative:i,viewTransition:h});function b(p){r&&r(p),p.defaultPrevented||v(p)}return y.createElement("a",Wm({},m,{href:g||x,onClick:w||a?r:b,ref:n,target:l}))});var Px;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Px||(Px={}));var Ax;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ax||(Ax={}));function E5(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:c}=e===void 0?{}:e,l=Ke(),d=Bn(),u=sj(t,{relative:o});return y.useCallback(h=>{if(b5(h,n)){h.preventDefault();let m=r!==void 0?r:od(d)===od(u);l(t,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[d,l,u,r,i,n,t,a,o,c])}function eu(t){let e=y.useRef(Hm(t)),n=y.useRef(!1),r=Bn(),i=y.useMemo(()=>w5(r.search,n.current?null:e.current),[r.search]),a=Ke(),o=y.useCallback((c,l)=>{const d=Hm(typeof c=="function"?c(i):c);n.current=!0,a("?"+d,l)},[a,i]);return[i,o]}const T5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rn(async()=>{const{default:r}=await Promise.resolve().then(()=>ka);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Jp extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class P5 extends Jp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dx extends Jp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mx extends Jp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qm||(qm={}));var A5=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(c,l)}d((r=r.apply(t,e||[])).next())})};class D5{constructor(e,{headers:n={},customFetch:r,region:i=qm.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=T5(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return A5(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let c={},{region:l}=n;l||(l=this.region);const d=new URL(`${this.url}/${e}`);l&&l!=="any"&&(c["x-region"]=l,d.searchParams.set("forceFunctionRegion",l));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(c["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(c["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:u}).catch(w=>{throw new P5(w)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new Dx(h);if(!h.ok)throw new Mx(h);let f=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield h.json():f==="application/octet-stream"?g=yield h.blob():f==="text/event-stream"?g=h:f==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Mx||i instanceof Dx?i.context:void 0}}})}}var tn={},Zp={},tu={},hl={},nu={},ru={},M5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},da=M5();const I5=da.fetch,lj=da.fetch.bind(da),cj=da.Headers,R5=da.Request,O5=da.Response,ka=Object.freeze(Object.defineProperty({__proto__:null,Headers:cj,Request:R5,Response:O5,default:lj,fetch:I5},Symbol.toStringTag,{value:"Module"})),L5=XS(ka);var su={};Object.defineProperty(su,"__esModule",{value:!0});let F5=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};su.default=F5;var dj=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ru,"__esModule",{value:!0});const $5=dj(L5),V5=dj(su);let U5=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,c,l,d;let u=null,h=null,m=null,f=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=b:h=JSON.parse(b))}const x=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&v&&v.length>1&&(m=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,f=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await a.text();try{u=JSON.parse(x),Array.isArray(u)&&a.status===404&&(h=[],u=null,f=200,g="OK")}catch{a.status===404&&x===""?(f=204,g="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new V5.default(u)}return{error:u,data:h,count:m,status:f,statusText:g}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,c,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};ru.default=U5;var B5=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nu,"__esModule",{value:!0});const z5=B5(ru);let W5=class extends z5.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var c;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};nu.default=W5;var H5=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hl,"__esModule",{value:!0});const q5=H5(nu);let G5=class extends q5.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};hl.default=G5;var K5=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tu,"__esModule",{value:!0});const Ba=K5(hl);let Y5=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Ba.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(o.length>0){const c=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ba.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ba.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ba.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ba.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};tu.default=Y5;var uj=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zp,"__esModule",{value:!0});const Q5=uj(tu),J5=uj(hl);let Z5=class hj{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Q5.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let c;const l=new URL(`${this.url}/rpc/${e}`);let d;r||i?(c=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{l.searchParams.append(h,m)})):(c="POST",d=n);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new J5.default({method:c,url:l,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Zp.default=Z5;var _a=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});tn.PostgrestError=tn.PostgrestBuilder=tn.PostgrestTransformBuilder=tn.PostgrestFilterBuilder=tn.PostgrestQueryBuilder=tn.PostgrestClient=void 0;const mj=_a(Zp);tn.PostgrestClient=mj.default;const fj=_a(tu);tn.PostgrestQueryBuilder=fj.default;const pj=_a(hl);tn.PostgrestFilterBuilder=pj.default;const gj=_a(nu);tn.PostgrestTransformBuilder=gj.default;const xj=_a(ru);tn.PostgrestBuilder=xj.default;const yj=_a(su);tn.PostgrestError=yj.default;var X5=tn.default={PostgrestClient:mj.default,PostgrestQueryBuilder:fj.default,PostgrestFilterBuilder:pj.default,PostgrestTransformBuilder:gj.default,PostgrestBuilder:xj.default,PostgrestError:yj.default};const{PostgrestClient:eE,PostgrestQueryBuilder:o8,PostgrestFilterBuilder:l8,PostgrestTransformBuilder:c8,PostgrestBuilder:d8,PostgrestError:u8}=X5;class tE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const nE="2.15.5",rE=`realtime-js/${nE}`,sE="1.0.0",Gm=1e4,iE=1e3,aE=100;var yo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yo||(yo={}));var xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xt||(xt={}));var Zn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zn||(Zn={}));var Km;(function(t){t.websocket="websocket"})(Km||(Km={}));var Vs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vs||(Vs={}));class oE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:l,payload:d}}}let vj=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const Ix=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=lE(o,t,e,i),a),{})},lE=(t,e,n,r)=>{const i=e.find(c=>c.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?bj(a,o):Ym(o)},bj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return hE(e,n)}switch(t){case Ve.bool:return cE(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return dE(e);case Ve.json:case Ve.jsonb:return uE(e);case Ve.timestamp:return mE(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Ym(e);default:return Ym(e)}},Ym=t=>t,cE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},hE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>bj(e,c))}return t},mE=t=>typeof t=="string"?t.replace(" ","T"):t,wj=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class dh{constructor(e,n,r={},i=Gm){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Rx||(Rx={}));class vo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vo.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=vo.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vo.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),c={},l={};return this.map(a,(d,u)=>{o[d]||(l[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const m=u.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),g=u.filter(x=>f.indexOf(x.presence_ref)<0),w=h.filter(x=>m.indexOf(x.presence_ref)<0);g.length>0&&(c[d]=g),w.length>0&&(l[d]=w)}else c[d]=u}),this.syncDiff(a,{joins:c,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,l)=>{var d;const u=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(l),u.length>0){const h=e[c].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);e[c].unshift(...m)}r(c,u,l)}),this.map(o,(c,l)=>{let d=e[c];if(!d)return;const u=l.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[c]=d,i(c,d,l),d.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ox;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ox||(Ox={}));var bo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(bo||(bo={}));var Sr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class Xp{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dh(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new vj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new vo(this),this.broadcastEndpointURL=wj(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:o,presence:c,private:l}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[bo.PRESENCE]&&this.bindings[bo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:u}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Sr.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e==null||e(Sr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(g=w==null?void 0:w.length)!==null&&g!==void 0?g:0,v=[];for(let b=0;b<x;b++){const p=w[b],{filter:{event:j,schema:N,table:S,filter:_}}=p,E=f&&f[b];if(E&&E.event===j&&E.schema===N&&E.table===S&&E.filter===_)v.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=xt.errored,e==null||e(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Sr.SUBSCRIBED);return}}).receive("error",f=>{this.state=xt.errored,e==null||e(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===xt.joined&&e===bo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,l;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new dh(this,Zn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dh(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>aE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:c,error:l,leave:d,join:u}=Zn;if(r&&[c,l,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,w,x;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(w=f.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(m,r)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var g,w,x,v,b,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const j=f.id,N=(g=f.filter)===null||g===void 0?void 0:g.event;return j&&((w=n.ids)===null||w===void 0?void 0:w.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(b=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:w,table:x,commit_timestamp:v,type:b,errors:p}=g;m=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:v,eventType:b,new:{},old:{},errors:p}),this._getPayloadRecords(g))}f.callback(m,r)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Xp.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zn.close,{},e)}_onError(e){this._on(Zn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ix(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ix(e.columns,e.old_record)),n}}const uh=()=>{},Kl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fE=[1e3,2e3,5e3,1e4],pE=1e4,gE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xE{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gm,this.transport=null,this.heartbeatIntervalMs=Kl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uh,this.ref=0,this.reconnectTimer=null,this.logger=uh,this.conn=null,this.sendBuffer=[],this.serializer=new oE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Rn(async()=>{const{default:c}=await Promise.resolve().then(()=>ka);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Km.websocket}`,this.httpEndpoint=wj(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sE}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yo.connecting:return Vs.Connecting;case yo.open:return Vs.Open;case yo.closing:return Vs.Closing;default:return Vs.Closed}}isConnected(){return this.connectionState()===Vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Xp(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Kl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,c=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${c}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([gE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:rE};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Zn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,c,l,d,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Gm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Kl.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:uh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>fE[h-1]||pE,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class eg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function yt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yE extends eg{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qm extends eg{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var vE=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(c,l)}d((r=r.apply(t,e||[])).next())})};const jj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rn(async()=>{const{default:r}=await Promise.resolve().then(()=>ka);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},bE=()=>vE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rn(()=>Promise.resolve().then(()=>ka),void 0)).Response:Response}),Jm=t=>{if(Array.isArray(t))return t.map(n=>Jm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Jm(r)}),e},wE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var mi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(c,l)}d((r=r.apply(t,e||[])).next())})};const hh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jE=(t,e,n)=>mi(void 0,void 0,void 0,function*(){const r=yield bE();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new yE(hh(i),a,o))}).catch(i=>{e(new Qm(hh(i),i))}):e(new Qm(hh(t),t))}),NE=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(wE(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function ml(t,e,n,r,i,a){return mi(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,NE(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>jE(l,c,r))})})}function ld(t,e,n,r){return mi(this,void 0,void 0,function*(){return ml(t,"GET",e,n,r)})}function ar(t,e,n,r,i){return mi(this,void 0,void 0,function*(){return ml(t,"POST",e,r,i,n)})}function Zm(t,e,n,r,i){return mi(this,void 0,void 0,function*(){return ml(t,"PUT",e,r,i,n)})}function SE(t,e,n,r){return mi(this,void 0,void 0,function*(){return ml(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nj(t,e,n,r,i){return mi(this,void 0,void 0,function*(){return ml(t,"DELETE",e,r,i,n)})}var Yt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(c,l)}d((r=r.apply(t,e||[])).next())})};const CE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kE{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=jj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Yt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Lx),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),h=yield(e=="PUT"?Zm:ar)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(yt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Yt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let l;const d=Object.assign({upsert:Lx.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Zm(this.fetch,c.toString(),l,{headers:u});return{data:{path:a,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Yt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new eg("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Yt(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Yt(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ar(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Yt(this,void 0,void 0,function*(){try{const i=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}download(e,n){return Yt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield ld(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(yt(c))return{data:null,error:c};throw c}})}info(e){return Yt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ld(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jm(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}exists(e){return Yt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield SE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r)&&r instanceof Qm){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield Nj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Yt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},CE),n),{prefix:e||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}listV2(e,n){return Yt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _E="2.12.1",EE={"X-Client-Info":`storage-js/${_E}`};var xi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(c,l)}d((r=r.apply(t,e||[])).next())})};class TE{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},EE),n),this.fetch=jj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xi(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yt(e))return{data:null,error:e};throw e}})}getBucket(e){return xi(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return xi(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return xi(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xi(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return xi(this,void 0,void 0,function*(){try{return{data:yield Nj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}})}}class PE extends TE{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new kE(this.url,this.headers,e,this.fetch)}}const AE="2.57.4";let Xa="";typeof Deno<"u"?Xa="deno":typeof document<"u"?Xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xa="react-native":Xa="node";const DE={"X-Client-Info":`supabase-js-${Xa}/${AE}`},ME={headers:DE},IE={schema:"public"},RE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OE={};var LE=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(c,l)}d((r=r.apply(t,e||[])).next())})};const FE=t=>{let e;return t?e=t:typeof fetch>"u"?e=lj:e=fetch,(...n)=>e(...n)},$E=()=>typeof Headers>"u"?cj:Headers,VE=(t,e,n)=>{const r=FE(n),i=$E();return(a,o)=>LE(void 0,void 0,void 0,function*(){var c;const l=(c=yield e())!==null&&c!==void 0?c:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var UE=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(c,l)}d((r=r.apply(t,e||[])).next())})};function BE(t){return t.endsWith("/")?t:t+"/"}function zE(t,e){var n,r;const{db:i,auth:a,realtime:o,global:c}=t,{db:l,auth:d,realtime:u,global:h}=e,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>UE(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function WE(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sj="2.71.1",Ci=30*1e3,Xm=3,mh=Xm*Ci,HE="http://localhost:9999",qE="supabase.auth.token",GE={"X-Client-Info":`gotrue-js/${Sj}`},ef="X-Supabase-Api-Version",Cj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YE=10*60*1e3;class tg extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class QE extends tg{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function JE(t){return ve(t)&&t.name==="AuthApiError"}class kj extends tg{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ks extends tg{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Hr extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZE(t){return ve(t)&&t.name==="AuthSessionMissingError"}class Yl extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ql extends ks{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jl extends ks{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XE(t){return ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fx extends ks{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tf extends ks{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fh(t){return ve(t)&&t.name==="AuthRetryableFetchError"}class $x extends ks{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class nf extends ks{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vx=` 	
\r=`.split(""),e4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vx.length;e+=1)t[Vx[e].charCodeAt(0)]=-2;for(let e=0;e<cd.length;e+=1)t[cd[e].charCodeAt(0)]=e;return t})();function Ux(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(cd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(cd[r]),e.queuedBits-=6}}function _j(t,e,n){const r=e4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Bx(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{r4(o,r,n)};for(let o=0;o<t.length;o+=1)_j(t.charCodeAt(o),i,a);return e.join("")}function t4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}t4(r,e)}}function r4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function s4(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)_j(t.charCodeAt(i),n,r);return new Uint8Array(e)}function i4(t){const e=[];return n4(t,n=>e.push(n)),new Uint8Array(e)}function a4(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Ux(i,n,r)),Ux(null,n,r),e.join("")}function o4(t){return Math.round(Date.now()/1e3)+t}function l4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Gn=()=>typeof window<"u"&&typeof document<"u",As={tested:!1,writable:!1},Ej=()=>{if(!Gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(As.tested)return As.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),As.tested=!0,As.writable=!0}catch{As.tested=!0,As.writable=!1}return As.writable};function c4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Tj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rn(async()=>{const{default:r}=await Promise.resolve().then(()=>ka);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},d4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ki=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ds=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wr=async(t,e)=>{await t.removeItem(e)};class iu{constructor(){this.promise=new iu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}iu.promiseConstructor=Promise;function ph(t){const e=t.split(".");if(e.length!==3)throw new nf("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!KE.test(e[r]))throw new nf("JWT not in base64url format");return{header:JSON.parse(Bx(e[0])),payload:JSON.parse(Bx(e[1])),signature:s4(e[2]),raw:{header:e[0],payload:e[1]}}}async function u4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h4(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function m4(t){return("0"+t.toString(16)).substr(-2)}function f4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,m4).join("")}async function p4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function g4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await p4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(t,e,n=!1){const r=f4();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ki(t,`${e}-code-verifier`,i);const a=await g4(r);return[a,r===a?"plain":"s256"]}const x4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y4(t){const e=t.headers.get(ef);if(!e||!e.match(x4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function v4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function b4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(t){if(!w4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zx(t){return JSON.parse(JSON.stringify(t))}var j4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Os=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),N4=[502,503,504];async function Wx(t){var e;if(!d4(t))throw new tf(Os(t),0);if(N4.includes(t.status))throw new tf(Os(t),t.status);let n;try{n=await t.json()}catch(a){throw new kj(Os(a),a)}let r;const i=y4(t);if(i&&i.getTime()>=Cj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $x(Os(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Hr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new $x(Os(n),t.status,n.weak_password.reasons);throw new QE(Os(n),t.status||500,r)}const S4=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ne(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[ef]||(a[ef]=Cj["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await C4(t,e,n+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function C4(t,e,n,r,i,a){const o=S4(e,r,i,a);let c;try{c=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new tf(Os(l),0)}if(c.ok||await Wx(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(l){await Wx(l)}}function jr(t){var e;let n=null;T4(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=o4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hx(t){const e=jr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function k4(t){return{data:t,error:null}}function _4(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=j4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function E4(t){return t}function T4(t){return t.access_token&&t.refresh_token&&t.expires_in}const xh=["global","local","others"];var P4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class A4{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Tj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=xh[0]){if(xh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xh.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xr})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=P4(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xr})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,c,l;try{const d={nextPage:null,lastPage:0,total:0},u=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:E4});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=w}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ve(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){vi(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xr})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vi(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Xr})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){vi(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xr})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){vi(e.userId);try{const{data:n,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vi(e.userId),vi(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}function qx(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function D4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bi={debug:!!(globalThis&&Ej()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class M4 extends Pj{}async function I4(t,e,n){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new M4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}D4();const R4={url:HE,storageKey:qE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gx(t,e,n){return await n()}const wi={};class qo{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qo.nextInstanceID,qo.nextInstanceID+=1,this.instanceID>0&&Gn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},R4),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new A4({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Tj(i.fetch),this.lock=i.lock||Gx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Gn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=I4:this.lock=Gx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ej()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qx(this.memoryStorage)),Gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=wi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=c4(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Gn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),XE(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ve(n)?{error:n}:{error:new kj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:jr}),{data:o,error:c}=a;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:u,password:h,options:m}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await yi(this.storage,this.storageKey)),a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:g},xform:jr})}else if("phone"in e){const{phone:u,password:h,options:m}=e;a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:jr})}else throw new Ql("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:c}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Hx})}else if("phone"in e){const{phone:a,password:o,options:c}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Hx})}else throw new Ql("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,o,c,l,d,u,h,m,f;let g,w;if("message"in e)g=e.message,w=e.signature;else{const{chain:x,wallet:v,statement:b,options:p}=e;let j;if(Gn())if(typeof v=="object")j=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const N=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),w=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((d=p==null?void 0:p.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(u=p==null?void 0:p.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:x,error:v}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:a4(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:jr});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Yl}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(ve(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await Ds(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:jr});if(await Wr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Yl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ve(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,c=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:jr}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Yl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:c,options:l}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await yi(this.storage,this.storageKey));const{error:h}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:c,options:l}=e,{data:d,error:u}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ql("You must provide either an email or phone number.")}catch(c){if(ve(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:jr});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await yi(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:k4})}catch(a){if(ve(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Hr;const{error:i}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ve(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:c}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Ql("You must provide either an email or phone number and a type")}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ds(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=gh()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xr}):await this._useSession(async n=>{var r,i,a;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hr}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Xr})})}catch(n){if(ve(n))return ZE(n)&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Hr;const o=i.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await yi(this.storage,this.storageKey));const{data:d,error:u}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:Xr});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hr;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=ph(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:c}=n;if(c)throw c;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Hr;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Gn())throw new Jl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fx("No code detected.");const{data:b,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:l,token_type:d}=e;if(!a||!c||!o||!d)throw new Jl("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(c);let m=u+h;l&&(m=parseInt(l));const f=m-u;f*1e3<=Ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=m-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,u);const{data:w,error:x}=await this._getUser(a);if(x)throw x;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ds(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(JE(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=l4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await yi(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ve(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,c,l,d,u;const{data:h,error:m}=a;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Gn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ve(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await h4(async i=>(i>0&&await u4(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&fh(a)&&Date.now()+o-r<Ci})}catch(r){if(this._debug(n,"error",r),ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Gn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ds(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ki(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:gh()}else if(i&&!i.user&&!i.user){const o=await Ds(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Wr(this.storage,this.storageKey+"-user"),await ki(this.storage,this.storageKey,i)):i.user=gh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<mh;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${mh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),fh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new iu;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Hr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),ve(a)){const o={session:null,error:a};return fh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ki(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=zx(i);await ki(this.storage,this.storageKey,a)}else{const i=zx(n);await ki(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wr(this.storage,this.storageKey),await Wr(this.storage,this.storageKey+"-code-verifier"),await Wr(this.storage,this.storageKey+"-user"),this.userStorage&&await Wr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ci);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ci}ms, refresh threshold is ${Xm} ticks`),i<=Xm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await yi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(ve(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ph(i.access_token);let c=null;o.aal&&(c=o.aal);let l=c;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+YE>i)return r;const{data:a,error:o}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};r=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:l}}=ph(r);n!=null&&n.allowExpired||v4(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const u=b4(i.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,i4(`${c}.${l}`)))throw new nf("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}qo.nextInstanceID=0;const O4=qo;class L4 extends O4{constructor(e){super(e)}}var F4=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(c,l)}d((r=r.apply(t,e||[])).next())})};class $4{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const c=WE(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:IE,realtime:OE,auth:Object.assign(Object.assign({},RE),{storageKey:l}),global:ME},u=zE(r??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=VE(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new eE(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new PE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new D5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return F4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:c,lock:l,debug:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L4({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:l,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new xE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const V4=(t,e,n)=>new $4(t,e,n);function U4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}U4()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bs=class Bs{constructor(){Tt(this,"logs",[]);Tt(this,"maxLogs",1e3)}static getInstance(){return Bs.instance||(Bs.instance=new Bs),Bs.instance}formatError(e){return e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:e}formatData(e){if(e instanceof Error)return this.formatError(e);if(typeof e=="object"&&e!==null){const n={};for(const[r,i]of Object.entries(e))n[r]=i instanceof Error?this.formatError(i):i;return n}return e}log(e,n,r){const i={timestamp:new Date().toISOString(),level:e,message:n,data:r?this.formatData(r):void 0};this.logs.push(i),this.logs.length>this.maxLogs&&this.logs.shift();const a=`[${i.timestamp}] ${e.toUpperCase()}: ${n}`;switch(e){case"debug":console.debug(a,i.data?JSON.stringify(i.data,null,2):"");break;case"info":console.info(a,i.data?JSON.stringify(i.data,null,2):"");break;case"warn":console.warn(a,i.data?JSON.stringify(i.data,null,2):"");break;case"error":console.error(a),i.data&&console.error("Error details:",JSON.stringify(i.data,null,2));break}this.persistLog(i)}async persistLog(e){}debug(e,n){this.log("debug",e,n)}info(e,n){this.log("info",e,n)}warn(e,n){this.log("warn",e,n)}error(e,n){this.log("error",e,n)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}};Tt(Bs,"instance");let rf=Bs;const k=rf.getInstance(),Tn="https://bbonxxvifycwpoeaxsor.supabase.co",dd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJib254eHZpZnljd3BvZWF4c29yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0Mjg5NDUsImV4cCI6MjA3MDAwNDk0NX0.rUuAcPIHVCfpAMEU2ADyb0F4Q3_eL0mkEyhBcbu0O70";console.log("🔍 Supabase Environment Check:");console.log("- Environment variables loaded:",!0);console.log("- Using real Supabase:",!Tn.includes("placeholder"));console.log("✅ Supabase connection ready");console.log("✅ Environment variables loaded successfully from .env.local");k.info("Supabase configuration:",{urlAvailable:!0,keyAvailable:!0,environment:"production",production:!0});const L=V4(Tn,dd,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:typeof window<"u"?localStorage:void 0,flowType:"pkce",debug:!1},global:{headers:{"x-application-name":"dislink","x-environment":"production","x-client-info":"dislink-web@1.0.0"}},realtime:{params:{eventsPerSecond:5}},db:{schema:"public"}});let ud=!1,Zl=null;const eo=[];let to=!1,Kx=0;const B4=3e4,z4=async()=>{try{const t=Date.now();if(to&&t-Kx<B4)return!0;const{data:e,error:n}=await L.from("profiles").select("id").limit(1);return n?(k.error("Supabase connection check failed:",n),to=!1,!1):(to=!0,Kx=t,k.info("✅ Supabase connection healthy"),!0)}catch(t){return k.error("Supabase connection error:",t),to=!1,!1}},W4=async(t=3,e=1e3)=>{for(let n=0;n<t;n++){if(await z4())return!0;n<t-1&&(k.info(`🔄 Retrying connection in ${e}ms... (${n+1}/${t})`),await new Promise(i=>setTimeout(i,e)),e*=2)}return!1},Aj=async()=>{await ng();try{k.info("🔐 Getting session (safe)...");const t=await L.auth.getSession();return k.info("🔐 Session result:",{hasSession:!!t.data.session,error:!!t.error}),t}catch(t){return k.error("🔐 Error getting safe session:",t),{data:{session:null},error:t}}},ng=()=>ud?Promise.resolve():Zl||(Zl=new Promise(t=>{if(ud){t();return}eo.push(t)}),Zl),H4=async()=>{setTimeout(async()=>{try{k.info("🔗 Initializing Supabase connection...");const{data:{session:t},error:e}=await L.auth.getSession();e?k.warn("Session recovery error (non-critical):",e):t&&k.info("✅ Existing session recovered"),await W4()||k.error("❌ Failed to establish healthy Supabase connection after retries"),ud=!0,k.info("✅ Supabase connection initialized successfully - ready for session checks"),eo.forEach(r=>r()),eo.length=0}catch(t){k.error("❌ Critical error during Supabase initialization:",t),ud=!0,eo.forEach(e=>e()),eo.length=0}},100)},Dj=()=>to,rg=async()=>{var t;try{if(console.log("🧪 Testing Supabase production connection..."),!Tn||!dd||Tn.includes("placeholder"))return{status:"error",message:"Missing or invalid Supabase environment variables",details:{url:Tn?"Present":"Missing",key:dd?"Present":"Missing",isPlaceholder:(Tn==null?void 0:Tn.includes("placeholder"))||!1}};const{data:e,error:n}=await L.from("profiles").select("count",{count:"exact"}).limit(0);if(n)return{status:"error",message:"Database connection failed",details:n};const{data:{session:r},error:i}=await L.auth.getSession();return{status:"success",message:"Supabase connection successful",details:{database:"Connected",profilesCount:(e==null?void 0:e.length)??"Unknown",hasSession:!!r,sessionUser:((t=r==null?void 0:r.user)==null?void 0:t.email)||"No user",environment:"production",url:(Tn==null?void 0:Tn.substring(0,30))+"...",timestamp:new Date().toISOString()}}}catch(e){return{status:"error",message:"Connection test failed",details:e}}},Mj=async()=>{console.log("🚀 Starting LIVE Supabase Production Test...");const t=await rg();return t.status==="success"?(console.log("✅ SUPABASE CONNECTION SUCCESSFUL!"),console.log("📊 Connection Details:",t.details)):(console.error("❌ SUPABASE CONNECTION FAILED!"),console.error("💥 Error Details:",t.details)),t},au=(t,e)=>{var n,r,i,a;return k.error(`Supabase ${e} error:`,t),(n=t==null?void 0:t.message)!=null&&n.includes("Invalid login credentials")?"Invalid email or password. Please check your credentials and try again.":(r=t==null?void 0:t.message)!=null&&r.includes("Email not confirmed")?"Please check your email and click the confirmation link before signing in.":(i=t==null?void 0:t.message)!=null&&i.includes("Too many requests")?"Too many attempts. Please wait a moment before trying again.":(a=t==null?void 0:t.message)!=null&&a.includes("Network")?"Network error. Please check your internet connection and try again.":(t==null?void 0:t.message)||`An error occurred during ${e}. Please try again.`},Ij=async t=>{var n,r,i;const e=t||`test.${Date.now()}@example.com`;console.log("🧪 Testing email registration..."),console.log(`📧 Test email: ${e}`),console.log(`🔗 Redirect URL: ${window.location.origin}/confirmed`);try{const{data:a,error:o}=await L.auth.signUp({email:e,password:"testpassword123",options:{data:{firstName:"Test",lastName:"User",full_name:"Test User"},emailRedirectTo:`${window.location.origin}/confirmed`}});console.log(`
📊 Registration Result:`),console.log("Data:",a),o?(console.log("❌ Registration Error:",o.message),o.message.includes("Email not confirmed")?(console.log(`
💡 ISSUE: Email confirmation required but not being sent`),console.log("🔧 SOLUTION: Check Supabase Dashboard → Authentication → Settings"),console.log('   ✅ Enable "Confirm email"'),console.log("   ✅ Check URL Configuration")):o.message.includes("already registered")?console.log(`
💡 User already exists (this is normal for test emails)`):console.log(`
🚨 Unexpected error - check SUPABASE_EMAIL_DIAGNOSIS.md`)):(console.log("✅ Registration submitted successfully!"),console.log(`User ID: ${(n=a.user)==null?void 0:n.id}`),console.log(`Email Confirmed: ${(r=a.user)!=null&&r.email_confirmed_at?"Yes":"No"}`),console.log(`Session: ${a.session?"Active":"None (email confirmation required)"}`),!a.session&&!((i=a.user)!=null&&i.email_confirmed_at)?(console.log(`
📧 ✅ EMAIL CONFIRMATION REQUIRED`),console.log("   User should receive confirmation email"),console.log("   Check your email (including spam folder)")):a.session&&console.log(`
⚠️ User logged in immediately - email confirmation might be disabled`))}catch(a){console.log(`
🚨 Network/Connection Error:`,a.message),console.log("Check your internet connection and Supabase configuration")}};typeof window<"u"&&(window.testSupabase=rg,window.testConnection=Mj,window.testEmailRegistration=Ij,console.log("🔧 Available test functions:"),console.log("  • window.testSupabase() - Test Supabase connection"),console.log("  • window.testConnection() - Comprehensive connection test"),console.log("  • window.testEmailRegistration() - Test email registration"),console.log('  • window.testEmailRegistration("your.email@example.com") - Test with specific email'));const q4=Object.freeze(Object.defineProperty({__proto__:null,getSafeSession:Aj,handleSupabaseError:au,initializeConnection:H4,isConnectionHealthy:Dj,runLiveProductionTest:Mj,supabase:L,testEmailRegistration:Ij,testProductionConnection:rg,waitForSupabaseReady:ng},Symbol.toStringTag,{value:"Module"})),zs=class zs{constructor(){Tt(this,"cache",new Map);Tt(this,"userId",null)}static getInstance(){return zs.instance||(zs.instance=new zs),zs.instance}setUserId(e){this.userId=e}async savePreference(e,n){try{if(localStorage.setItem(`pref_${e}`,JSON.stringify(n)),this.cache.set(e,n),this.userId){const{data:r,error:i}=await L.from("profiles").select("preferences").eq("id",this.userId).single();if(i){k.error("Error fetching user preferences:",i);return}const o={...(r==null?void 0:r.preferences)||{},[e]:n},{error:c}=await L.from("profiles").update({preferences:o}).eq("id",this.userId);c?k.error("Error updating user preferences:",c):k.info(`Saved preference ${e} to Supabase`)}}catch(r){k.error(`Error saving preference ${e}:`,r)}}async getPreference(e,n){try{if(this.cache.has(e))return this.cache.get(e);const r=localStorage.getItem(`pref_${e}`);if(r){const i=JSON.parse(r);return this.cache.set(e,i),i}if(this.userId){const{data:i,error:a}=await L.from("profiles").select("preferences").eq("id",this.userId).single();if(a)k.error("Error fetching user preferences:",a);else if(i!=null&&i.preferences&&i.preferences[e]!==void 0){const o=i.preferences[e];return this.cache.set(e,o),localStorage.setItem(`pref_${e}`,JSON.stringify(o)),o}}return n}catch(r){return k.error(`Error getting preference ${e}:`,r),n}}async removePreference(e){try{if(localStorage.removeItem(`pref_${e}`),this.cache.delete(e),this.userId){const{data:n,error:r}=await L.from("profiles").select("preferences").eq("id",this.userId).single();if(r){k.error("Error fetching user preferences:",r);return}const a={...(n==null?void 0:n.preferences)||{}};delete a[e];const{error:o}=await L.from("profiles").update({preferences:a}).eq("id",this.userId);o?k.error("Error updating user preferences:",o):k.info(`Removed preference ${e} from Supabase`)}}catch(n){k.error(`Error removing preference ${e}:`,n)}}async saveLocationPreference(e,n){try{if(localStorage.setItem(`location_${e}`,JSON.stringify(n)),await this.savePreference(`location_${e}`,n),this.userId){const{data:r,error:i}=await L.from("profiles").select("bio").eq("id",this.userId).single();if(i){k.error("Error fetching profile for location update:",i);return}const a=`${n.name}${n.country?`, ${n.country}`:""}`,c={...(r==null?void 0:r.bio)||{},[e]:a},{error:l}=await L.from("profiles").update({bio:c}).eq("id",this.userId);l?k.error("Error updating profile with location:",l):k.info(`Saved location ${e} to profile bio:`,a)}}catch(r){k.error(`Error saving location preference ${e}:`,r)}}async getLocationPreference(e){try{const n=localStorage.getItem(`location_${e}`);if(n)return JSON.parse(n);const r=await this.getPreference(`location_${e}`);return r||null}catch(n){return k.error(`Error getting location preference ${e}:`,n),null}}async clearAllPreferences(){try{const e=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);r&&(r.startsWith("pref_")||r.startsWith("location_"))&&e.push(r)}if(e.forEach(n=>localStorage.removeItem(n)),this.cache.clear(),this.userId){const{error:n}=await L.from("profiles").update({preferences:{}}).eq("id",this.userId);n?k.error("Error clearing user preferences in Supabase:",n):k.info("Cleared all preferences in Supabase")}}catch(e){k.error("Error clearing all preferences:",e)}}async syncPreferencesFromSupabase(){if(this.userId)try{const{data:e,error:n}=await L.from("profiles").select("preferences, bio").eq("id",this.userId).single();if(n){k.error("Error fetching preferences from Supabase:",n);return}const r=(e==null?void 0:e.preferences)||{};Object.entries(r).forEach(([a,o])=>{localStorage.setItem(`pref_${a}`,JSON.stringify(o)),this.cache.set(a,o)});const i=(e==null?void 0:e.bio)||{};Object.entries(i).forEach(([a,o])=>{typeof o=="string"&&o.includes(",")&&localStorage.setItem(`bio_${a}`,o)}),k.info("Synced preferences from Supabase")}catch(e){k.error("Error syncing preferences from Supabase:",e)}}};Tt(zs,"instance");let sf=zs;const wo=sf.getInstance(),ji=async t=>{wo.setUserId(t),t&&await wo.syncPreferencesFromSupabase()},Rj=y.createContext({user:null,loading:!0,error:null,isOwner:!1,isTestingChannel:!1,refreshUser:async()=>{},reconnectSupabase:async()=>!1,connectionStatus:"connecting"});function Ft(){return y.useContext(Rj)}function G4({children:t}){const e=Ke(),n=Bn(),[r,i]=y.useState(null),[a,o]=y.useState(!0),[c,l]=y.useState(null),[d,u]=y.useState(!1),[h,m]=y.useState(!1),[f,g]=y.useState(!1),[w,x]=y.useState("connecting"),v=["/","/waitlist","/story","/app/login","/app/register","/app/terms","/app/test-terms","/terms","/privacy","/testing","/testing/login","/verify","/confirm","/confirmed","/share","/app/reset-password","/demo"],b=async N=>{var S,_,E,P,C;return k.error("Auth error:",N),(S=N.message)!=null&&S.includes("Invalid Refresh Token")||(_=N.message)!=null&&_.includes("refresh_token_not_found")?(k.info("Invalid refresh token detected, signing out user"),await L.auth.signOut(),i(null),l("Session expired. Please sign in again."),v.some(I=>n.pathname.startsWith(I))||localStorage.setItem("redirectUrl",n.pathname),e("/app/login"),!0):(E=N.message)!=null&&E.includes("Failed to fetch")||(P=N.message)!=null&&P.includes("Network Error")||(C=N.message)!=null&&C.includes("connection")?(x("disconnected"),l("Connection to Supabase lost. Please check your internet connection."),!0):!1},p=async()=>{x("connecting"),l(null);try{const N=await Dj();return x(N?"connected":"disconnected"),N?(await j(),!0):(l("Failed to reconnect to Supabase. Please try again later."),!1)}catch(N){return k.error("Error reconnecting to Supabase:",N),x("disconnected"),l("Failed to reconnect to Supabase. Please try again later."),!1}},j=async()=>{var N;try{if(v.some(R=>n.pathname.startsWith(R))){console.log("🎯 Public path in refreshUser, skipping auth check"),o(!1),g(!0);return}k.info("Refreshing user data");const{data:{session:_},error:E}=await L.auth.getSession();if(E){if(await b(E))return;throw E}if(!_){k.debug("No active session"),i(null),o(!1),await ji(null);return}const{data:P,error:C}=await L.from("profiles").select("*").eq("id",_.user.id).single();if(C){if((N=C.message)!=null&&N.includes("Failed to fetch")){x("disconnected"),l("Connection to Supabase lost. Please check your internet connection."),o(!1);return}throw k.error("Profile error:",C),C}if(!P){i(null),o(!1),await ji(null);return}const I={id:P.id,email:P.email,firstName:P.first_name,middleName:P.middle_name,lastName:P.last_name,name:`${P.first_name} ${P.middle_name?P.middle_name+" ":""}${P.last_name}`.trim(),company:P.company,jobTitle:P.job_title,industry:P.industry,profileImage:P.profile_image,coverImage:P.cover_image,bio:P.bio,interests:P.interests,socialLinks:P.social_links||{},onboardingComplete:P.onboarding_complete,registrationComplete:P.registration_complete,registrationStatus:P.registration_status,registrationCompletedAt:P.registration_completed_at?new Date(P.registration_completed_at):void 0,createdAt:new Date(P.created_at),updatedAt:new Date(P.updated_at),twoFactorEnabled:!1,publicProfile:P.public_profile||{enabled:!0,defaultSharedLinks:{},allowedFields:{email:!1,phone:!1,company:!0,jobTitle:!0,bio:!0,interests:!0,location:!0}}};if(i(I),l(null),x("connected"),await ji(P.id),!v.some(R=>n.pathname.startsWith(R))){if(P.registration_status==="pending"&&!n.pathname.startsWith("/app/register")){e("/app/register");return}if(!P.onboarding_complete&&!n.pathname.startsWith("/app/onboarding")){e("/app/onboarding");return}}if(n.pathname==="/app/login"||n.pathname==="/app/register"){e("/app");return}}catch(S){await b(S)||(k.error("Error getting current user:",S),i(null),l("Failed to load user data"))}finally{o(!1),g(!0)}};return y.useEffect(()=>{v.some(S=>n.pathname.startsWith(S))?(k.info("🎯 Public path detected, auth state listener will handle session restoration"),o(!1),g(!0)):k.info("🎯 Protected path detected, auth state listener will check session")},[n.pathname]),y.useEffect(()=>{let N=!0;(async()=>{try{k.info("🔐 Initializing auth session on app load...");const{data:{session:E},error:P}=await L.auth.getSession();if(P){k.error("Session initialization error:",P),N&&(i(null),o(!1));return}if(E!=null&&E.user){k.info("✅ Session found on app load, restoring user");const{data:C,error:I}=await L.from("profiles").select("*").eq("id",E.user.id).single();if(!I&&C&&N){const A={id:C.id,email:C.email,firstName:C.first_name,middleName:C.middle_name,lastName:C.last_name,name:`${C.first_name} ${C.middle_name?C.middle_name+" ":""}${C.last_name}`.trim(),company:C.company,jobTitle:C.job_title,industry:C.industry,profileImage:C.profile_image,coverImage:C.cover_image,bio:C.bio,interests:C.interests,socialLinks:C.social_links||{},onboardingComplete:C.onboarding_complete,registrationComplete:C.registration_complete,registrationStatus:C.registration_status,registrationCompletedAt:C.registration_completed_at?new Date(C.registration_completed_at):void 0,createdAt:new Date(C.created_at),updatedAt:new Date(C.updated_at),twoFactorEnabled:!1,publicProfile:C.public_profile||{enabled:!0,defaultSharedLinks:{},allowedFields:{email:!1,phone:!1,company:!0,jobTitle:!0,bio:!0,interests:!0,location:!0}}};i(A),l(null),x("connected"),await ji(C.id),k.info("✅ User session restored successfully")}}else k.info("No session found on app load"),N&&i(null);N&&o(!1)}catch(E){k.error("Critical error during session initialization:",E),N&&(i(null),o(!1))}})();const{data:{subscription:_}}=L.auth.onAuthStateChange(async(E,P)=>{if(N)if(k.info("🔐 Auth state changed:",E,P?"Session exists":"No session"),P!=null&&P.user){k.info("✅ User authenticated, updating state...");try{const{data:C,error:I}=await L.from("profiles").select("*").eq("id",P.user.id).single();if(!I&&C){const A={id:C.id,email:C.email,firstName:C.first_name,middleName:C.middle_name,lastName:C.last_name,name:`${C.first_name} ${C.middle_name?C.middle_name+" ":""}${C.last_name}`.trim(),company:C.company,jobTitle:C.job_title,industry:C.industry,profileImage:C.profile_image,coverImage:C.cover_image,bio:C.bio,interests:C.interests,socialLinks:C.social_links||{},onboardingComplete:C.onboarding_complete,registrationComplete:C.registration_complete,registrationStatus:C.registration_status,registrationCompletedAt:C.registration_completed_at?new Date(C.registration_completed_at):void 0,createdAt:new Date(C.created_at),updatedAt:new Date(C.updated_at),twoFactorEnabled:!1,publicProfile:C.public_profile||{enabled:!0,defaultSharedLinks:{},allowedFields:{email:!1,phone:!1,company:!0,jobTitle:!0,bio:!0,interests:!0,location:!0}}};if(i(A),l(null),x("connected"),o(!1),await ji(C.id),E==="SIGNED_IN"&&n.pathname==="/app/login"){const R=localStorage.getItem("redirectUrl");R?(localStorage.removeItem("redirectUrl"),k.info("🔄 Redirecting to stored URL:",R),e(R)):C.onboarding_complete?(k.info("🔄 Redirecting to app home"),e("/app")):(k.info("🔄 Redirecting to onboarding"),e("/app/onboarding"))}}else k.error("Failed to fetch profile after auth state change:",I),i(null),l("Failed to load user profile")}catch(C){k.error("Error processing auth state change:",C),i(null),l("Failed to process authentication")}}else k.info("🔐 User signed out, clearing state..."),i(null),l(null),o(!1),await ji(null),!v.some(I=>n.pathname.startsWith(I))&&E==="SIGNED_OUT"&&(k.info("🔄 Redirecting to login after sign out"),e("/app/login"))});return()=>{N=!1,_.unsubscribe()}},[n.pathname,e]),s.jsx(Rj.Provider,{value:{user:r,loading:a&&!f,error:c,isOwner:d,isTestingChannel:h,refreshUser:j,reconnectSupabase:p,connectionStatus:w},children:t})}function K4({children:t}){const{user:e,loading:n,refreshUser:r}=Ft(),i=Bn(),a=Ke(),[o,c]=y.useState(!1),l=["/","/waitlist","/story","/app/login","/app/register","/app/terms","/app/test-terms","/terms","/privacy","/testing","/testing/login","/verify","/confirm","/confirmed","/share","/app/reset-password"];return y.useEffect(()=>{(async()=>{var h,m;if(l.some(f=>i.pathname===f||i.pathname.startsWith(`${f}/`))){c(!1);return}if(!n){c(!0);try{const{data:{session:f},error:g}=await L.auth.getSession();if(g){if(k.error("Session error:",g),(h=g.message)!=null&&h.includes("Invalid Refresh Token")||(m=g.message)!=null&&m.includes("refresh_token_not_found")){await L.auth.signOut(),i.pathname.startsWith("/app")&&localStorage.setItem("redirectUrl",i.pathname),a("/app/login");return}throw g}f?e?!e.onboardingComplete&&!i.pathname.startsWith("/app/onboarding")&&a("/app/onboarding"):await r():i.pathname.startsWith("/app")?(localStorage.setItem("redirectUrl",i.pathname),a("/app/login")):a("/")}catch(f){k.error("Error checking session:",f),a("/app/login")}finally{c(!1)}}})()},[e,n,i.pathname,a,r]),n&&o?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):s.jsx(s.Fragment,{children:t})}/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(t,e)=>{const n=y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:l,...d},u)=>y.createElement("svg",{ref:u,...Y4,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Q4(t)}`,c].join(" "),...d},[...e.map(([h,m])=>y.createElement(h,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=W("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=W("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=W("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=W("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=W("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=W("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=W("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=W("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=W("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=W("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=W("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=W("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=W("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=W("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=W("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=W("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=W("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=W("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=W("Dribbble",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M19.13 5.09C15.22 9.14 10 10.44 2.25 10.94",key:"hpej1"}],["path",{d:"M21.75 12.84c-6.62-1.41-12.14 1-16.38 6.32",key:"1tr44o"}],["path",{d:"M8.56 2.75c4.37 6 6 9.42 8 17.72",key:"kbh691"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=W("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=W("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=W("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=W("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=W("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=W("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=W("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=W("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=W("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=W("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=W("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=W("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=W("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=W("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=W("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=W("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=W("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=W("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=W("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=W("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=W("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=W("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=W("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=W("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=W("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=W("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=W("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=W("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=W("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=W("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=W("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=W("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=W("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=W("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=W("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=W("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=W("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=W("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=W("Twitch",[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7",key:"c0yzno"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=W("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=W("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=W("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=W("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=W("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=W("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cg=y.createContext({});function ou(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const lu=y.createContext(null),dg=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class NT extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ST({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=y.useContext(dg);return y.useInsertionEffect(()=>{const{width:o,height:c,top:l,left:d}=i.current;if(e||!r.current||!o||!c)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),s.jsx(NT,{isPresent:e,childRef:r,sizeRef:i,children:y.cloneElement(t,{ref:r})})}const CT=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const c=ou(kT),l=y.useId(),d=y.useCallback(h=>{c.set(h,!0);for(const m of c.values())if(!m)return;r&&r()},[c,r]),u=y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d,register:h=>(c.set(h,!1),()=>c.delete(h))}),a?[Math.random(),d]:[n,d]);return y.useMemo(()=>{c.forEach((h,m)=>c.set(m,!1))},[n]),y.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=s.jsx(ST,{isPresent:n,children:t})),s.jsx(lu.Provider,{value:u,children:t})};function kT(){return new Map}function Wj(t=!0){const e=y.useContext(lu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=y.useId();y.useEffect(()=>{t&&i(a)},[t]);const o=y.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const ec=t=>t.key||"";function ty(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const ug=typeof window<"u",hg=ug?y.useLayoutEffect:y.useEffect,ne=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[c,l]=Wj(o),d=y.useMemo(()=>ty(t),[t]),u=o&&!c?[]:d.map(ec),h=y.useRef(!0),m=y.useRef(d),f=ou(()=>new Map),[g,w]=y.useState(d),[x,v]=y.useState(d);hg(()=>{h.current=!1,m.current=d;for(let j=0;j<x.length;j++){const N=ec(x[j]);u.includes(N)?f.delete(N):f.get(N)!==!0&&f.set(N,!1)}},[x,u.length,u.join("-")]);const b=[];if(d!==g){let j=[...d];for(let N=0;N<x.length;N++){const S=x[N],_=ec(S);u.includes(_)||(j.splice(N,0,S),b.push(S))}a==="wait"&&b.length&&(j=b),v(ty(j)),w(d);return}const{forceRender:p}=y.useContext(cg);return s.jsx(s.Fragment,{children:x.map(j=>{const N=ec(j),S=o&&!c?!1:d===x||u.includes(N),_=()=>{if(f.has(N))f.set(N,!0);else return;let E=!0;f.forEach(P=>{P||(E=!1)}),E&&(p==null||p(),v(m.current),o&&(l==null||l()),r&&r())};return s.jsx(CT,{isPresent:S,initial:!h.current||n?void 0:!1,custom:S?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:S?void 0:_,children:j},N)})})},yn=t=>t;let Hj=yn;function mg(t){let e;return()=>(e===void 0&&(e=t()),e)}const ua=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Pr=t=>t*1e3,Ar=t=>t/1e3,_T={useManualTiming:!1};function ET(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(l.schedule(d),t()),d(o)}const l={schedule:(d,u=!1,h=!1)=>{const f=h&&r?e:n;return u&&a.add(d),f.has(d)||f.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(o=d,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,l.process(d))}};return l}const tc=["read","resolveKeyframes","update","preRender","render","postRender"],TT=40;function qj(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=tc.reduce((v,b)=>(v[b]=ET(a),v),{}),{read:c,resolveKeyframes:l,update:d,preRender:u,render:h,postRender:m}=o,f=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,TT),1),i.timestamp=v,i.isProcessing=!0,c.process(i),l.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(f))},g=()=>{n=!0,r=!0,i.isProcessing||t(f)};return{schedule:tc.reduce((v,b)=>{const p=o[b];return v[b]=(j,N=!1,S=!1)=>(n||g(),p.schedule(j,N,S)),v},{}),cancel:v=>{for(let b=0;b<tc.length;b++)o[tc[b]].cancel(v)},state:i,steps:o}}const{schedule:Ge,cancel:ys,state:At,steps:bh}=qj(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0),Gj=y.createContext({strict:!1}),ny={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ha={};for(const t in ny)ha[t]={isEnabled:e=>ny[t].some(n=>!!e[n])};function PT(t){for(const e in t)ha[e]={...ha[e],...t[e]}}const AT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AT.has(t)}let Kj=t=>!fd(t);function DT(t){t&&(Kj=e=>e.startsWith("on")?!fd(e):t(e))}try{DT(require("@emotion/is-prop-valid").default)}catch{}function MT(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Kj(i)||n===!0&&fd(i)||!e&&!fd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function IT(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const cu=y.createContext({});function Yo(t){return typeof t=="string"||Array.isArray(t)}function du(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pg=["initial",...fg];function uu(t){return du(t.animate)||pg.some(e=>Yo(t[e]))}function Yj(t){return!!(uu(t)||t.variants)}function RT(t,e){if(uu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yo(n)?n:void 0,animate:Yo(r)?r:void 0}}return t.inherit!==!1?e:{}}function OT(t){const{initial:e,animate:n}=RT(t,y.useContext(cu));return y.useMemo(()=>({initial:e,animate:n}),[ry(e),ry(n)])}function ry(t){return Array.isArray(t)?t.join(" "):t}const LT=Symbol.for("motionComponentSymbol");function Bi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FT(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bi(n)&&(n.current=r))},[e])}const gg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$T="framerAppearId",Qj="data-"+gg($T),{schedule:xg}=qj(queueMicrotask,!1),Jj=y.createContext({});function VT(t,e,n,r,i){var a,o;const{visualElement:c}=y.useContext(cu),l=y.useContext(Gj),d=y.useContext(lu),u=y.useContext(dg).reducedMotion,h=y.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=y.useContext(Jj);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&UT(h.current,n,i,f);const g=y.useRef(!1);y.useInsertionEffect(()=>{m&&g.current&&m.update(n,d)});const w=n[Qj],x=y.useRef(!!w&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return hg(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),xg.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())}),y.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,w)}),x.current=!1))}),m}function UT(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:l,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Zj(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&Bi(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:d})}function Zj(t){if(t)return t.options.allowProjection!==!1?t.projection:Zj(t.parent)}function BT({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,o;t&&PT(t);function c(d,u){let h;const m={...y.useContext(dg),...d,layoutId:zT(d)},{isStatic:f}=m,g=OT(d),w=r(d,f);if(!f&&ug){WT();const x=HT(m);h=x.MeasureLayout,g.visualElement=VT(i,w,m,e,x.ProjectionNode)}return s.jsxs(cu.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...m}):null,n(i,d,FT(w,g.visualElement,u),w,f,g.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const l=y.forwardRef(c);return l[LT]=i,l}function zT({layoutId:t}){const e=y.useContext(cg).id;return e&&t!==void 0?e+"-"+t:t}function WT(t,e){y.useContext(Gj).strict}function HT(t){const{drag:e,layout:n}=ha;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yg(t){return typeof t!="string"||t.includes("-")?!1:!!(qT.indexOf(t)>-1||/[A-Z]/u.test(t))}function sy(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vg(t,e,n,r){if(typeof e=="function"){const[i,a]=sy(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=sy(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const cf=t=>Array.isArray(t),GT=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),KT=t=>cf(t)?t[t.length-1]||0:t,qt=t=>!!(t&&t.getVelocity);function Tc(t){const e=qt(t)?t.get():t;return GT(e)?e.toValue():e}function YT({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const o={latestValues:QT(r,i,a,t),renderState:e()};return n&&(o.onMount=c=>n({props:r,current:c,...o}),o.onUpdate=c=>n(c)),o}const Xj=t=>(e,n)=>{const r=y.useContext(cu),i=y.useContext(lu),a=()=>YT(t,e,r,i);return n?a():ou(a)};function QT(t,e,n,r){const i={},a=r(t,{});for(const m in a)i[m]=Tc(a[m]);let{initial:o,animate:c}=t;const l=uu(t),d=Yj(t);e&&d&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?c:o;if(h&&typeof h!="boolean"&&!du(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const g=vg(t,m[f]);if(g){const{transitionEnd:w,transition:x,...v}=g;for(const b in v){let p=v[b];if(Array.isArray(p)){const j=u?p.length-1:0;p=p[j]}p!==null&&(i[b]=p)}for(const b in w)i[b]=w[b]}}}return i}const Ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pi=new Set(Ta),eN=t=>e=>typeof e=="string"&&e.startsWith(t),tN=eN("--"),JT=eN("var(--"),bg=t=>JT(t)?ZT.test(t.split("/*")[0].trim()):!1,ZT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Lr=(t,e,n)=>n>e?e:n<t?t:n,Pa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qo={...Pa,transform:t=>Lr(0,1,t)},nc={...Pa,default:1},jl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qr=jl("deg"),pr=jl("%"),he=jl("px"),XT=jl("vh"),eP=jl("vw"),iy={...pr,parse:t=>pr.parse(t)/100,transform:t=>pr.transform(t*100)},tP={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,backgroundPositionX:he,backgroundPositionY:he},nP={rotate:qr,rotateX:qr,rotateY:qr,rotateZ:qr,scale:nc,scaleX:nc,scaleY:nc,scaleZ:nc,skew:qr,skewX:qr,skewY:qr,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:Qo,originX:iy,originY:iy,originZ:he},ay={...Pa,transform:Math.round},wg={...tP,...nP,zIndex:ay,size:he,fillOpacity:Qo,strokeOpacity:Qo,numOctaves:ay},rP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sP=Ta.length;function iP(t,e,n){let r="",i=!0;for(let a=0;a<sP;a++){const o=Ta[a],c=t[o];if(c===void 0)continue;let l=!0;if(typeof c=="number"?l=c===(o.startsWith("scale")?1:0):l=parseFloat(c)===0,!l||n){const d=nN(c,wg[o]);if(!l){i=!1;const u=rP[o]||o;r+=`${u}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function jg(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const l in e){const d=e[l];if(pi.has(l)){o=!0;continue}else if(tN(l)){i[l]=d;continue}else{const u=nN(d,wg[l]);l.startsWith("origin")?(c=!0,a[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=iP(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:l="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${d} ${u}`}}const aP={offset:"stroke-dashoffset",array:"stroke-dasharray"},oP={offset:"strokeDashoffset",array:"strokeDasharray"};function lP(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?aP:oP;t[a.offset]=he.transform(-r);const o=he.transform(e),c=he.transform(n);t[a.array]=`${o} ${c}`}function oy(t,e,n){return typeof t=="string"?t:he.transform(e+n*t)}function cP(t,e,n){const r=oy(e,t.x,t.width),i=oy(n,t.y,t.height);return`${r} ${i}`}function Ng(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:c=1,pathOffset:l=0,...d},u,h){if(jg(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:f,dimensions:g}=t;m.transform&&(g&&(f.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||f.transform)&&(f.transformOrigin=cP(g,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&lP(m,o,c,l,!1)}const Sg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rN=()=>({...Sg(),attrs:{}}),Cg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sN(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const iN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aN(t,e,n,r){sN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(iN.has(i)?i:gg(i),e.attrs[i])}const pd={};function dP(t){Object.assign(pd,t)}function oN(t,{layout:e,layoutId:n}){return pi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pd[t]||t==="opacity")}function kg(t,e,n){var r;const{style:i}=t,a={};for(const o in i)(qt(i[o])||e.style&&qt(e.style[o])||oN(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function lN(t,e,n){const r=kg(t,e,n);for(const i in t)if(qt(t[i])||qt(e[i])){const a=Ta.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function uP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const ly=["x","y","width","height","cx","cy","r"],hP={useVisualState:Xj({scrapeMotionValuesFromProps:lN,createRenderState:rN,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(pi.has(c)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let c=0;c<ly.length;c++){const l=ly[c];t[l]!==e[l]&&(o=!0)}o&&Ge.read(()=>{uP(n,r),Ge.render(()=>{Ng(r,i,Cg(n.tagName),t.transformTemplate),aN(n,r)})})}})},mP={useVisualState:Xj({scrapeMotionValuesFromProps:kg,createRenderState:Sg})};function cN(t,e,n){for(const r in e)!qt(e[r])&&!oN(r,n)&&(t[r]=e[r])}function fP({transformTemplate:t},e){return y.useMemo(()=>{const n=Sg();return jg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pP(t,e){const n=t.style||{},r={};return cN(r,n,t),Object.assign(r,fP(t,e)),r}function gP(t,e){const n={},r=pP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function xP(t,e,n,r){const i=y.useMemo(()=>{const a=rN();return Ng(a,e,Cg(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};cN(a,t.style,t),i.style={...a,...i.style}}return i}function yP(t=!1){return(n,r,i,{latestValues:a},o)=>{const l=(yg(n)?xP:gP)(r,a,o,n),d=MT(r,typeof n=="string",t),u=n!==y.Fragment?{...d,...l,ref:i}:{},{children:h}=r,m=y.useMemo(()=>qt(h)?h.get():h,[h]);return y.createElement(n,{...u,children:m})}}function vP(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...yg(r)?hP:mP,preloadedFeatures:t,useRender:yP(i),createVisualElement:e,Component:r};return BT(o)}}function dN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function hu(t,e,n){const r=t.getProps();return vg(r,e,n!==void 0?n:r.custom,t)}const bP=mg(()=>window.ScrollTimeline!==void 0);class wP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(bP()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jP extends wP{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function _g(t,e){return t?t[e]||t.default||t:void 0}const df=2e4;function uN(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<df;)e+=n,r=t.next(e);return e>=df?1/0:e}function Eg(t){return typeof t=="function"}function cy(t,e){t.timeline=e,t.onfinish=null}const Tg=t=>Array.isArray(t)&&typeof t[0]=="number",NP={linearEasing:void 0};function SP(t,e){const n=mg(t);return()=>{var r;return(r=NP[e])!==null&&r!==void 0?r:n()}}const gd=SP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hN=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(ua(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function mN(t){return!!(typeof t=="function"&&gd()||!t||typeof t=="string"&&(t in uf||gd())||Tg(t)||Array.isArray(t)&&t.every(mN))}const ro=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ro([0,.65,.55,1]),circOut:ro([.55,0,1,.45]),backIn:ro([.31,.01,.66,-.59]),backOut:ro([.33,1.53,.69,.99])};function fN(t,e){if(t)return typeof t=="function"&&gd()?hN(t,e):Tg(t)?ro(t):Array.isArray(t)?t.map(n=>fN(n,e)||uf.easeOut):uf[t]}const Yn={x:!1,y:!1};function pN(){return Yn.x||Yn.y}function CP(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function gN(t,e){const n=CP(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function dy(t){return e=>{e.pointerType==="touch"||pN()||t(e)}}function kP(t,e,n={}){const[r,i,a]=gN(t,n),o=dy(c=>{const{target:l}=c,d=e(c);if(typeof d!="function"||!l)return;const u=dy(h=>{d(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const xN=(t,e)=>e?t===e?!0:xN(t,e.parentElement):!1,Pg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_P=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EP(t){return _P.has(t.tagName)||t.tabIndex!==-1}const so=new WeakSet;function uy(t){return e=>{e.key==="Enter"&&t(e)}}function wh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TP=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=uy(()=>{if(so.has(n))return;wh(n,"down");const i=uy(()=>{wh(n,"up")}),a=()=>wh(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function hy(t){return Pg(t)&&!pN()}function PP(t,e,n={}){const[r,i,a]=gN(t,n),o=c=>{const l=c.currentTarget;if(!hy(c)||so.has(l))return;so.add(l);const d=e(c),u=(f,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!hy(f)||!so.has(l))&&(so.delete(l),typeof d=="function"&&d(f,{success:g}))},h=f=>{u(f,n.useGlobalTarget||xN(l,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(c=>{!EP(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),c.addEventListener("focus",d=>TP(d,i),i)}),a}function AP(t){return t==="x"||t==="y"?Yn[t]?null:(Yn[t]=!0,()=>{Yn[t]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}const yN=new Set(["width","height","top","left","right","bottom",...Ta]);let Pc;function DP(){Pc=void 0}const gr={now:()=>(Pc===void 0&&gr.set(At.isProcessing||_T.useManualTiming?At.timestamp:performance.now()),Pc),set:t=>{Pc=t,queueMicrotask(DP)}};function Ag(t,e){t.indexOf(e)===-1&&t.push(e)}function Dg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Mg{constructor(){this.subscriptions=[]}add(e){return Ag(this.subscriptions,e),()=>Dg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function vN(t,e){return e?t*(1e3/e):0}const my=30,MP=t=>!isNaN(parseFloat(t));class IP{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=gr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Mg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>my)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,my);return vN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(t,e){return new IP(t,e)}function RP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jo(n))}function Ig(t,e){const n=hu(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const c=KT(a[o]);RP(t,o,c)}}function OP(t){return!!(qt(t)&&t.add)}function hf(t,e){const n=t.getValue("willChange");if(OP(n))return n.add(e)}function bN(t){return t.props[Qj]}const wN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,LP=1e-7,FP=12;function $P(t,e,n,r,i){let a,o,c=0;do o=e+(n-e)/2,a=wN(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>LP&&++c<FP);return o}function Nl(t,e,n,r){if(t===e&&n===r)return yn;const i=a=>$P(a,0,1,t,n);return a=>a===0||a===1?a:wN(i(a),e,r)}const jN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,NN=t=>e=>1-t(1-e),SN=Nl(.33,1.53,.69,.99),Rg=NN(SN),CN=jN(Rg),kN=t=>(t*=2)<1?.5*Rg(t):.5*(2-Math.pow(2,-10*(t-1))),Og=t=>1-Math.sin(Math.acos(t)),_N=NN(Og),EN=jN(Og),TN=t=>/^0[^.\s]+$/u.test(t);function VP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TN(t):!0}const jo=t=>Math.round(t*1e5)/1e5,Lg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UP(t){return t==null}const BP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fg=(t,e)=>n=>!!(typeof n=="string"&&BP.test(n)&&n.startsWith(t)||e&&!UP(n)&&Object.prototype.hasOwnProperty.call(n,e)),PN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(Lg);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},zP=t=>Lr(0,255,t),jh={...Pa,transform:t=>Math.round(zP(t))},Qs={test:Fg("rgb","red"),parse:PN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jh.transform(t)+", "+jh.transform(e)+", "+jh.transform(n)+", "+jo(Qo.transform(r))+")"};function WP(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const mf={test:Fg("#"),parse:WP,transform:Qs.transform},zi={test:Fg("hsl","hue"),parse:PN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pr.transform(jo(e))+", "+pr.transform(jo(n))+", "+jo(Qo.transform(r))+")"},zt={test:t=>Qs.test(t)||mf.test(t)||zi.test(t),parse:t=>Qs.test(t)?Qs.parse(t):zi.test(t)?zi.parse(t):mf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qs.transform(t):zi.transform(t)},HP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Lg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(HP))===null||n===void 0?void 0:n.length)||0)>0}const AN="number",DN="color",GP="var",KP="var(",fy="${}",YP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zo(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(YP,l=>(zt.test(l)?(r.color.push(a),i.push(DN),n.push(zt.parse(l))):l.startsWith(KP)?(r.var.push(a),i.push(GP),n.push(l)):(r.number.push(a),i.push(AN),n.push(parseFloat(l))),++a,fy)).split(fy);return{values:n,split:c,indexes:r,types:i}}function MN(t){return Zo(t).values}function IN(t){const{split:e,types:n}=Zo(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const c=n[o];c===AN?a+=jo(i[o]):c===DN?a+=zt.transform(i[o]):a+=i[o]}return a}}const QP=t=>typeof t=="number"?0:t;function JP(t){const e=MN(t);return IN(t)(e.map(QP))}const vs={test:qP,parse:MN,createTransformer:IN,getAnimatableNone:JP},ZP=new Set(["brightness","contrast","saturate","opacity"]);function XP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Lg)||[];if(!r)return t;const i=n.replace(r,"");let a=ZP.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const eA=/\b([a-z-]*)\(.*?\)/gu,ff={...vs,getAnimatableNone:t=>{const e=t.match(eA);return e?e.map(XP).join(" "):t}},tA={...wg,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:ff,WebkitFilter:ff},$g=t=>tA[t];function RN(t,e){let n=$g(t);return n!==ff&&(n=vs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nA=new Set(["auto","none","0"]);function rA(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!nA.has(a)&&Zo(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=RN(n,i)}const py=t=>t===Pa||t===he,gy=(t,e)=>parseFloat(t.split(", ")[e]),xy=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return gy(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?gy(a[1],t):0}},sA=new Set(["x","y","z"]),iA=Ta.filter(t=>!sA.has(t));function aA(t){const e=[];return iA.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ma={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xy(4,13),y:xy(5,14)};ma.translateX=ma.x;ma.translateY=ma.y;const ei=new Set;let pf=!1,gf=!1;function ON(){if(gf){const t=Array.from(ei).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=aA(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gf=!1,pf=!1,ei.forEach(t=>t.complete()),ei.clear()}function LN(){ei.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gf=!0)})}function oA(){LN(),ON()}class Vg{constructor(e,n,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ei.add(this),pf||(pf=!0,Ge.read(LN),Ge.resolveKeyframes(ON))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,c);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=c),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ei.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ei.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const FN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),lA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cA(t){const e=lA.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function $N(t,e,n=1){const[r,i]=cA(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return FN(o)?parseFloat(o):o}return bg(i)?$N(i,e,n+1):i}const VN=t=>e=>e.test(t),dA={test:t=>t==="auto",parse:t=>t},UN=[Pa,he,pr,qr,eP,XT,dA],yy=t=>UN.find(VN(t));class BN extends Vg{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="string"&&(d=d.trim(),bg(d))){const u=$N(d,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!yN.has(r)||e.length!==2)return;const[i,a]=e,o=yy(i),c=yy(a);if(o!==c)if(py(o)&&py(c))for(let l=0;l<e.length;l++){const d=e[l];typeof d=="string"&&(e[l]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)VP(e[i])&&r.push(i);r.length&&rA(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ma[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=ma[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,d])=>{n.getValue(l).set(d)}),this.resolveNoneKeyframes()}}const vy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vs.test(t)||t==="0")&&!t.startsWith("url("));function uA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hA(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=vy(i,e),c=vy(a,e);return!o||!c?!1:uA(t)||(n==="spring"||Eg(n))&&r}const mA=t=>t!==null;function mu(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(mA),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const fA=40;class zN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oA(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=gr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:c,onUpdate:l,isGenerator:d}=this.options;if(!d&&!hA(e,r,i,a))if(o)this.options.duration=0;else{l&&l(mu(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Je=(t,e,n)=>t+(e-t)*n;function Nh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pA({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,l=2*n-c;i=Nh(l,c,t+1/3),a=Nh(l,c,t),o=Nh(l,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function xd(t,e){return n=>n>0?e:t}const Sh=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},gA=[mf,Qs,zi],xA=t=>gA.find(e=>e.test(t));function by(t){const e=xA(t);if(!e)return!1;let n=e.parse(t);return e===zi&&(n=pA(n)),n}const wy=(t,e)=>{const n=by(t),r=by(e);if(!n||!r)return xd(t,e);const i={...n};return a=>(i.red=Sh(n.red,r.red,a),i.green=Sh(n.green,r.green,a),i.blue=Sh(n.blue,r.blue,a),i.alpha=Je(n.alpha,r.alpha,a),Qs.transform(i))},yA=(t,e)=>n=>e(t(n)),Sl=(...t)=>t.reduce(yA),xf=new Set(["none","hidden"]);function vA(t,e){return xf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bA(t,e){return n=>Je(t,e,n)}function Ug(t){return typeof t=="number"?bA:typeof t=="string"?bg(t)?xd:zt.test(t)?wy:NA:Array.isArray(t)?WN:typeof t=="object"?zt.test(t)?wy:wA:xd}function WN(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>Ug(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function wA(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ug(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function jA(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=t.indexes[o][i[o]],l=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=l,i[o]++}return r}const NA=(t,e)=>{const n=vs.createTransformer(e),r=Zo(t),i=Zo(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?xf.has(t)&&!i.values.length||xf.has(e)&&!r.values.length?vA(t,e):Sl(WN(jA(r,i),i.values),n):xd(t,e)};function HN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):Ug(t)(t,e)}const SA=5;function qN(t,e,n){const r=Math.max(e-SA,0);return vN(n-t(r),e-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ch=.001;function CA({duration:t=tt.duration,bounce:e=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let i,a,o=1-e;o=Lr(tt.minDamping,tt.maxDamping,o),t=Lr(tt.minDuration,tt.maxDuration,Ar(t)),o<1?(i=d=>{const u=d*o,h=u*t,m=u-n,f=yf(d,o),g=Math.exp(-h);return Ch-m/f*g},a=d=>{const h=d*o*t,m=h*n+n,f=Math.pow(o,2)*Math.pow(d,2)*t,g=Math.exp(-h),w=yf(Math.pow(d,2),o);return(-i(d)+Ch>0?-1:1)*((m-f)*g)/w}):(i=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-Ch+u*h},a=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const c=5/t,l=_A(i,a,c);if(t=Pr(t),isNaN(l))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const kA=12;function _A(t,e,n){let r=n;for(let i=1;i<kA;i++)r=r-t(r)/e(r);return r}function yf(t,e){return t*Math.sqrt(1-e*e)}const EA=["duration","bounce"],TA=["stiffness","damping","mass"];function jy(t,e){return e.some(n=>t[n]!==void 0)}function PA(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!jy(t,TA)&&jy(t,EA))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Lr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:tt.mass,stiffness:i,damping:a}}else{const n=CA(t);e={...e,...n,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function GN(t=tt.visualDuration,e=tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:l,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=PA({...n,velocity:-Ar(n.velocity||0)}),g=m||0,w=d/(2*Math.sqrt(l*u)),x=o-a,v=Ar(Math.sqrt(l/u)),b=Math.abs(x)<5;r||(r=b?tt.restSpeed.granular:tt.restSpeed.default),i||(i=b?tt.restDelta.granular:tt.restDelta.default);let p;if(w<1){const N=yf(v,w);p=S=>{const _=Math.exp(-w*v*S);return o-_*((g+w*v*x)/N*Math.sin(N*S)+x*Math.cos(N*S))}}else if(w===1)p=N=>o-Math.exp(-v*N)*(x+(g+v*x)*N);else{const N=v*Math.sqrt(w*w-1);p=S=>{const _=Math.exp(-w*v*S),E=Math.min(N*S,300);return o-_*((g+w*v*x)*Math.sinh(E)+N*x*Math.cosh(E))/N}}const j={calculatedDuration:f&&h||null,next:N=>{const S=p(N);if(f)c.done=N>=h;else{let _=0;w<1&&(_=N===0?Pr(g):qN(p,N,S));const E=Math.abs(_)<=r,P=Math.abs(o-S)<=i;c.done=E&&P}return c.value=c.done?o:S,c},toString:()=>{const N=Math.min(uN(j),df),S=hN(_=>j.next(N*_).value,N,30);return N+"ms "+S}};return j}function Ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:l,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},f=E=>c!==void 0&&E<c||l!==void 0&&E>l,g=E=>c===void 0?l:l===void 0||Math.abs(c-E)<Math.abs(l-E)?c:l;let w=n*e;const x=h+w,v=o===void 0?x:o(x);v!==x&&(w=v-h);const b=E=>-w*Math.exp(-E/r),p=E=>v+b(E),j=E=>{const P=b(E),C=p(E);m.done=Math.abs(P)<=d,m.value=m.done?v:C};let N,S;const _=E=>{f(m.value)&&(N=E,S=GN({keyframes:[m.value,g(m.value)],velocity:qN(p,E,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return _(0),{calculatedDuration:null,next:E=>{let P=!1;return!S&&N===void 0&&(P=!0,j(E),_(E)),N!==void 0&&E>=N?S.next(E-N):(!P&&j(E),m)}}}const AA=Nl(.42,0,1,1),DA=Nl(0,0,.58,1),KN=Nl(.42,0,.58,1),MA=t=>Array.isArray(t)&&typeof t[0]!="number",IA={linear:yn,easeIn:AA,easeInOut:KN,easeOut:DA,circIn:Og,circInOut:EN,circOut:_N,backIn:Rg,backInOut:CN,backOut:SN,anticipate:kN},Sy=t=>{if(Tg(t)){Hj(t.length===4);const[e,n,r,i]=t;return Nl(e,n,r,i)}else if(typeof t=="string")return IA[t];return t};function RA(t,e,n){const r=[],i=n||HN,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yn:e;c=Sl(l,c)}r.push(c)}return r}function OA(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Hj(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=RA(e,r,i),l=c.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=ua(t[h],t[h+1],u);return c[h](m)};return n?u=>d(Lr(t[0],t[a-1],u)):d}function LA(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ua(0,e,r);t.push(Je(n,1,i))}}function FA(t){const e=[0];return LA(e,t.length-1),e}function $A(t,e){return t.map(n=>n*e)}function VA(t,e){return t.map(()=>e||KN).splice(0,t.length-1)}function yd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=MA(r)?r.map(Sy):Sy(r),a={done:!1,value:e[0]},o=$A(n&&n.length===e.length?n:FA(e),t),c=OA(o,e,{ease:Array.isArray(i)?i:VA(e,i)});return{calculatedDuration:t,next:l=>(a.value=c(l),a.done=l>=t,a)}}const UA=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ge.update(e,!0),stop:()=>ys(e),now:()=>At.isProcessing?At.timestamp:gr.now()}},BA={decay:Ny,inertia:Ny,tween:yd,keyframes:yd,spring:GN},zA=t=>t/100;class Bg extends zN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Vg,c=(l,d)=>this.onKeyframesResolved(l,d);this.resolver=new o(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,c=Eg(n)?n:BA[n]||yd;let l,d;c!==yd&&typeof e[0]!="number"&&(l=Sl(zA,HN(e[0],e[1])),e=[0,100]);const u=c({...this.options,keyframes:e});a==="mirror"&&(d=c({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=uN(u));const{calculatedDuration:h}=u,m=h+i,f=m*(r+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:c,keyframes:l,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:f,repeatType:g,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),b=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let p=this.currentTime,j=a;if(f){const E=Math.min(this.currentTime,u)/h;let P=Math.floor(E),C=E%1;!C&&E>=1&&(C=1),C===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(g==="reverse"?(C=1-C,w&&(C-=w/h)):g==="mirror"&&(j=o)),p=Lr(0,1,C)*h}const N=b?{done:!1,value:l[0]}:j.next(p);c&&(N.value=c(N.value));let{done:S}=N;!b&&d!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return _&&i!==void 0&&(N.value=mu(l,this.options,i)),x&&x(N.value),_&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Ar(e.calculatedDuration):0}get time(){return Ar(this.currentTime)}set time(e){e=Pr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ar(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=UA,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const WA=new Set(["opacity","clipPath","filter","transform"]);function HA(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeInOut",times:l}={}){const d={[e]:n};l&&(d.offset=l);const u=fN(c,i);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const qA=mg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vd=10,GA=2e4;function KA(t){return Eg(t.type)||t.type==="spring"||!mN(t.ease)}function YA(t,e){const n=new Bg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<GA;)r=n.sample(a),i.push(r.value),a+=vd;return{times:void 0,keyframes:i,duration:a-vd,ease:"linear"}}const YN={anticipate:kN,backInOut:CN,circInOut:EN};function QA(t){return t in YN}class Cy extends zN{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new BN(a,(o,c)=>this.onKeyframesResolved(o,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:o,motionValue:c,name:l,startTime:d}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&gd()&&QA(a)&&(a=YN[a]),KA(this.options)){const{onComplete:h,onUpdate:m,motionValue:f,element:g,...w}=this.options,x=YA(e,w);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,a=x.ease,o="keyframes"}const u=HA(c.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(cy(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;c.set(mu(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ar(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ar(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Pr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return yn;const{animation:r}=n;cy(r,e)}return yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:o,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,g=new Bg({...f,keyframes:r,duration:i,type:a,ease:o,times:c,isGenerator:!0}),w=Pr(this.time);d.setWithVelocity(g.sample(w-vd).value,g.sample(w).value,vd)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=n.owner.getProps();return qA()&&r&&WA.has(r)&&!l&&!d&&!i&&a!=="mirror"&&o!==0&&c!=="inertia"}}const JA={type:"spring",stiffness:500,damping:25,restSpeed:10},ZA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XA={type:"keyframes",duration:.8},e3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t3=(t,{keyframes:e})=>e.length>2?XA:pi.has(t)?t.startsWith("scale")?ZA(e[1]):JA:e3;function n3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:l,elapsed:d,...u}){return!!Object.keys(u).length}const zg=(t,e,n,r={},i,a)=>o=>{const c=_g(r,t)||{},l=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Pr(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:m=>{e.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};n3(c)||(u={...u,...t3(t,u)}),u.duration&&(u.duration=Pr(u.duration)),u.repeatDelay&&(u.repeatDelay=Pr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const m=mu(u.keyframes,c);if(m!==void 0)return Ge.update(()=>{u.onUpdate(m),u.onComplete()}),new jP([])}return!a&&Cy.supports(u)?new Cy(u):new Bg(u)};function r3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function QN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:c,...l}=e;r&&(o=r);const d=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const m=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),f=l[h];if(f===void 0||u&&r3(u,h))continue;const g={delay:n,..._g(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const v=bN(t);if(v){const b=window.MotionHandoffAnimation(v,h,Ge);b!==null&&(g.startTime=b,w=!0)}}hf(t,h),m.start(zg(h,m,f,t.shouldReduceMotion&&yN.has(h)?{type:!1}:g,t,w));const x=m.animation;x&&d.push(x)}return c&&Promise.all(d).then(()=>{Ge.update(()=>{c&&Ig(t,c)})}),d}function vf(t,e,n={}){var r;const i=hu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(QN(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return s3(t,e,u+d,h,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[o,c]:[c,o];return d().then(()=>u())}else return Promise.all([o(),c(n.delay)])}function s3(t,e,n=0,r=0,i=1,a){const o=[],c=(t.variantChildren.size-1)*r,l=i===1?(d=0)=>d*r:(d=0)=>c-d*r;return Array.from(t.variantChildren).sort(i3).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(vf(d,e,{...a,delay:n+l(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function i3(t,e){return t.sortNodePosition(e)}function JN(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>vf(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=vf(t,e,n);else{const i=typeof e=="function"?hu(t,e,n.custom):e;r=Promise.all(QN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const a3=pg.length;function ZN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<a3;n++){const r=pg[n],i=t.props[r];(Yo(i)||i===!1)&&(e[r]=i)}return e}const o3=[...fg].reverse(),l3=fg.length;function c3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JN(t,n,r)))}function d3(t){let e=c3(t),n=ky(),r=!0;const i=l=>(d,u)=>{var h;const m=hu(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:g,...w}=m;d={...d,...w,...g}}return d};function a(l){e=l(t)}function o(l){const{props:d}=t,u=ZN(t.parent)||{},h=[],m=new Set;let f={},g=1/0;for(let x=0;x<l3;x++){const v=o3[x],b=n[v],p=d[v]!==void 0?d[v]:u[v],j=Yo(p),N=v===l?b.isActive:null;N===!1&&(g=x);let S=p===u[v]&&p!==d[v]&&j;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...f},!b.isActive&&N===null||!p&&!b.prevProp||du(p)||typeof p=="boolean")continue;const _=u3(b.prevProp,p);let E=_||v===l&&b.isActive&&!S&&j||x>g&&j,P=!1;const C=Array.isArray(p)?p:[p];let I=C.reduce(i(v),{});N===!1&&(I={});const{prevResolvedValues:A={}}=b,R={...A,...I},F=O=>{E=!0,m.has(O)&&(P=!0,m.delete(O)),b.needsAnimating[O]=!0;const M=t.getValue(O);M&&(M.liveStyle=!1)};for(const O in R){const M=I[O],D=A[O];if(f.hasOwnProperty(O))continue;let V=!1;cf(M)&&cf(D)?V=!dN(M,D):V=M!==D,V?M!=null?F(O):m.add(O):M!==void 0&&m.has(O)?F(O):b.protectedKeys[O]=!0}b.prevProp=p,b.prevResolvedValues=I,b.isActive&&(f={...f,...I}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(S&&_)||P)&&h.push(...C.map(O=>({animation:O,options:{type:v}})))}if(m.size){const x={};m.forEach(v=>{const b=t.getBaseTarget(v),p=t.getValue(v);p&&(p.liveStyle=!0),x[v]=b??null}),h.push({animation:x})}let w=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function c(l,d){var u;if(n[l].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(l,d)}),n[l].isActive=d;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ky(),r=!0}}}function u3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dN(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ky(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class Es{constructor(e){this.isMounted=!1,this.node=e}update(){}}class h3 extends Es{constructor(e){super(e),e.animationState||(e.animationState=d3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();du(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let m3=0;class f3 extends Es{constructor(){super(...arguments),this.id=m3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const p3={animation:{Feature:h3},exit:{Feature:f3}};function Xo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Cl(t){return{point:{x:t.pageX,y:t.pageY}}}const g3=t=>e=>Pg(e)&&t(e,Cl(e));function No(t,e,n,r){return Xo(t,e,g3(n),r)}const _y=(t,e)=>Math.abs(t-e);function x3(t,e){const n=_y(t.x,e.x),r=_y(t.y,e.y);return Math.sqrt(n**2+r**2)}class XN{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_h(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=x3(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:g}=h,{timestamp:w}=At;this.history.push({...g,timestamp:w});const{onStart:x,onMove:v}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=kh(m,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=_h(h.type==="pointercancel"?this.lastMoveEventInfo:kh(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,x),g&&g(h,x)},!Pg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Cl(e),c=kh(o,this.transformPagePoint),{point:l}=c,{timestamp:d}=At;this.history=[{...l,timestamp:d}];const{onSessionStart:u}=n;u&&u(e,_h(c,this.history)),this.removeListeners=Sl(No(this.contextWindow,"pointermove",this.handlePointerMove),No(this.contextWindow,"pointerup",this.handlePointerUp),No(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ys(this.updatePoint)}}function kh(t,e){return e?{point:e(t.point)}:t}function Ey(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _h({point:t},e){return{point:t,delta:Ey(t,e2(e)),offset:Ey(t,y3(e)),velocity:v3(e,.1)}}function y3(t){return t[0]}function e2(t){return t[t.length-1]}function v3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=e2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Pr(e)));)n--;if(!r)return{x:0,y:0};const a=Ar(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const t2=1e-4,b3=1-t2,w3=1+t2,n2=.01,j3=0-n2,N3=0+n2;function jn(t){return t.max-t.min}function S3(t,e,n){return Math.abs(t-e)<=n}function Ty(t,e,n,r=.5){t.origin=r,t.originPoint=Je(e.min,e.max,t.origin),t.scale=jn(n)/jn(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=b3&&t.scale<=w3||isNaN(t.scale))&&(t.scale=1),(t.translate>=j3&&t.translate<=N3||isNaN(t.translate))&&(t.translate=0)}function So(t,e,n,r){Ty(t.x,e.x,n.x,r?r.originX:void 0),Ty(t.y,e.y,n.y,r?r.originY:void 0)}function Py(t,e,n){t.min=n.min+e.min,t.max=t.min+jn(e)}function C3(t,e,n){Py(t.x,e.x,n.x),Py(t.y,e.y,n.y)}function Ay(t,e,n){t.min=e.min-n.min,t.max=t.min+jn(e)}function Co(t,e,n){Ay(t.x,e.x,n.x),Ay(t.y,e.y,n.y)}function k3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Je(n,t,r.max):Math.min(t,n)),t}function Dy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _3(t,{top:e,left:n,bottom:r,right:i}){return{x:Dy(t.x,n,i),y:Dy(t.y,e,r)}}function My(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function E3(t,e){return{x:My(t.x,e.x),y:My(t.y,e.y)}}function T3(t,e){let n=.5;const r=jn(t),i=jn(e);return i>r?n=ua(e.min,e.max-r,t.min):r>i&&(n=ua(t.min,t.max-i,e.min)),Lr(0,1,n)}function P3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bf=.35;function A3(t=bf){return t===!1?t=0:t===!0&&(t=bf),{x:Iy(t,"left","right"),y:Iy(t,"top","bottom")}}function Iy(t,e,n){return{min:Ry(t,e),max:Ry(t,n)}}function Ry(t,e){return typeof t=="number"?t:t[e]||0}const Oy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wi=()=>({x:Oy(),y:Oy()}),Ly=()=>({min:0,max:0}),at=()=>({x:Ly(),y:Ly()});function En(t){return[t("x"),t("y")]}function r2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function D3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function M3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Eh(t){return t===void 0||t===1}function wf({scale:t,scaleX:e,scaleY:n}){return!Eh(t)||!Eh(e)||!Eh(n)}function Ls(t){return wf(t)||s2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s2(t){return Fy(t.x)||Fy(t.y)}function Fy(t){return t&&t!=="0%"}function bd(t,e,n){const r=t-n,i=e*r;return n+i}function $y(t,e,n,r,i){return i!==void 0&&(t=bd(t,i,r)),bd(t,n,r)+e}function jf(t,e=0,n=1,r,i){t.min=$y(t.min,e,n,r,i),t.max=$y(t.max,e,n,r,i)}function i2(t,{x:e,y:n}){jf(t.x,e.translate,e.scale,e.originPoint),jf(t.y,n.translate,n.scale,n.originPoint)}const Vy=.999999999999,Uy=1.0000000000001;function I3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qi(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,i2(t,o)),r&&Ls(a.latestValues)&&qi(t,a.latestValues))}e.x<Uy&&e.x>Vy&&(e.x=1),e.y<Uy&&e.y>Vy&&(e.y=1)}function Hi(t,e){t.min=t.min+e,t.max=t.max+e}function By(t,e,n,r,i=.5){const a=Je(t.min,t.max,i);jf(t,e,n,a,r)}function qi(t,e){By(t.x,e.x,e.scaleX,e.scale,e.originX),By(t.y,e.y,e.scaleY,e.scale,e.originY)}function a2(t,e){return r2(M3(t.getBoundingClientRect(),e))}function R3(t,e,n){const r=a2(t,n),{scroll:i}=e;return i&&(Hi(r.x,i.offset.x),Hi(r.y,i.offset.y)),r}const o2=({current:t})=>t?t.ownerDocument.defaultView:null,O3=new WeakMap;class L3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cl(u).point)},a=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:g}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AP(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),En(x=>{let v=this.getAxisMotionValue(x).get()||0;if(pr.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const p=b.layout.layoutBox[x];p&&(v=jn(p)*(parseFloat(v)/100))}}this.originPoint[x]=v}),g&&Ge.postRender(()=>g(u,h)),hf(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:g,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=h;if(f&&this.currentDirection===null){this.currentDirection=F3(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(u,h)},c=(u,h)=>this.stop(u,h),l=()=>En(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new XN(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:o2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Ge.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!rc(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=k3(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Bi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_3(i.layoutBox,n):this.constraints=!1,this.elastic=A3(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&En(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=P3(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=R3(r,i.root,this.visualElement.getTransformPagePoint());let o=E3(i.layout.layoutBox,a);if(n){const c=n(D3(o));this.hasMutatedConstraints=!!c,c&&(o=r2(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},d=En(u=>{if(!rc(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hf(this.visualElement,e),r.start(zg(e,r,0,n,this.visualElement,!1))}stopAnimation(){En(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){En(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){En(n=>{const{drag:r}=this.getProps();if(!rc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(e[n]-Je(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};En(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const l=c.get();i[o]=T3({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),En(o=>{if(!rc(o,e,null))return;const c=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];c.set(Je(l,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;O3.set(this.visualElement,this);const e=this.visualElement.current,n=No(e,"pointerdown",l=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Bi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ge.read(r);const o=Xo(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(En(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=bf,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function rc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $3 extends Es{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new L3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const zy=t=>(e,n)=>{t&&Ge.postRender(()=>t(e,n))};class V3 extends Es{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new XN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:zy(e),onStart:zy(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Ge.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=No(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const za={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=Wy(t,e.target.x),r=Wy(t,e.target.y);return`${n}% ${r}%`}},U3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=vs.parse(t);if(i.length>5)return r;const a=vs.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=l;const d=Je(c,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class B3 extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;dP(z3),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Ge.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function l2(t){const[e,n]=Wj(),r=y.useContext(cg);return s.jsx(B3,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(Jj),isPresent:e,safeToRemove:n})}const z3={borderRadius:{...za,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:za,borderTopRightRadius:za,borderBottomLeftRadius:za,borderBottomRightRadius:za,boxShadow:U3};function W3(t,e,n){const r=qt(t)?t:Jo(t);return r.start(zg("",r,e,n)),r.animation}function H3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const q3=(t,e)=>t.depth-e.depth;class G3{constructor(){this.children=[],this.isDirty=!1}add(e){Ag(this.children,e),this.isDirty=!0}remove(e){Dg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(q3),this.isDirty=!1,this.children.forEach(e)}}function K3(t,e){const n=gr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(ys(r),t(a-e))};return Ge.read(r,!0),()=>ys(r)}const c2=["TopLeft","TopRight","BottomLeft","BottomRight"],Y3=c2.length,Hy=t=>typeof t=="string"?parseFloat(t):t,qy=t=>typeof t=="number"||he.test(t);function Q3(t,e,n,r,i,a){i?(t.opacity=Je(0,n.opacity!==void 0?n.opacity:1,J3(r)),t.opacityExit=Je(e.opacity!==void 0?e.opacity:1,0,Z3(r))):a&&(t.opacity=Je(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Y3;o++){const c=`border${c2[o]}Radius`;let l=Gy(e,c),d=Gy(n,c);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||qy(l)===qy(d)?(t[c]=Math.max(Je(Hy(l),Hy(d),r),0),(pr.test(d)||pr.test(l))&&(t[c]+="%")):t[c]=d}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,r))}function Gy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const J3=d2(0,.5,_N),Z3=d2(.5,.95,yn);function d2(t,e,n){return r=>r<t?0:r>e?1:n(ua(t,e,r))}function Ky(t,e){t.min=e.min,t.max=e.max}function _n(t,e){Ky(t.x,e.x),Ky(t.y,e.y)}function Yy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Qy(t,e,n,r,i){return t-=e,t=bd(t,1/n,r),i!==void 0&&(t=bd(t,1/i,r)),t}function X3(t,e=0,n=1,r=.5,i,a=t,o=t){if(pr.test(e)&&(e=parseFloat(e),e=Je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Je(a.min,a.max,r);t===a&&(c-=e),t.min=Qy(t.min,e,n,c,i),t.max=Qy(t.max,e,n,c,i)}function Jy(t,e,[n,r,i],a,o){X3(t,e[n],e[r],e[i],e.scale,a,o)}const eD=["x","scaleX","originX"],tD=["y","scaleY","originY"];function Zy(t,e,n,r){Jy(t.x,e,eD,n?n.x:void 0,r?r.x:void 0),Jy(t.y,e,tD,n?n.y:void 0,r?r.y:void 0)}function Xy(t){return t.translate===0&&t.scale===1}function u2(t){return Xy(t.x)&&Xy(t.y)}function ev(t,e){return t.min===e.min&&t.max===e.max}function nD(t,e){return ev(t.x,e.x)&&ev(t.y,e.y)}function tv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function h2(t,e){return tv(t.x,e.x)&&tv(t.y,e.y)}function nv(t){return jn(t.x)/jn(t.y)}function rv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rD{constructor(){this.members=[]}add(e){Ag(this.members,e),e.scheduleRender()}remove(e){if(Dg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sD(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:g}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const c=t.x.scale*e.x,l=t.y.scale*e.y;return(c!==1||l!==1)&&(r+=`scale(${c}, ${l})`),r||"none"}const Fs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},io=typeof window<"u"&&window.MotionDebug!==void 0,Th=["","X","Y","Z"],iD={visibility:"hidden"},sv=1e3;let aD=0;function Ph(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function m2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&m2(r)}function f2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e==null?void 0:e()){this.id=aD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,io&&(Fs.totalNodes=Fs.resolvedTargetDeltas=Fs.recalculatedProjection=0),this.nodes.forEach(cD),this.nodes.forEach(fD),this.nodes.forEach(pD),this.nodes.forEach(dD),io&&window.MotionDebug.record(Fs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new G3)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Mg),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const l=this.eventHandlers.get(o);l&&l.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=H3(o),this.instance=o;const{layoutId:l,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=K3(m,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(av))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||bD,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!h2(this.targetLayout,g)||f,p=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,p);const j={..._g(w,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||av(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iv);return}this.isUpdating||this.nodes.forEach(hD),this.isUpdating=!1,this.nodes.forEach(mD),this.nodes.forEach(oD),this.nodes.forEach(lD),this.clearAllSnapshots();const c=gr.now();At.delta=Lr(0,1e3/60,c-At.timestamp),At.timestamp=c,At.isProcessing=!0,bh.update.process(At),bh.preRender.process(At),bh.render.process(At),At.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uD),this.sharedNodes.forEach(xD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!u2(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(c||Ls(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return o&&(l=this.removeTransform(l)),wD(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:c}=this.options;if(!c)return at();const l=c.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jD))){const{scroll:u}=this.root;u&&(Hi(l.x,u.offset.x),Hi(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=at();if(_n(l,o),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&_n(l,o),Hi(l.x,h.offset.x),Hi(l.y,h.offset.y))}return l}applyTransform(o,c=!1){const l=at();_n(l,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!c&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ls(u.latestValues)&&qi(l,u.latestValues)}return Ls(this.latestValues)&&qi(l,this.latestValues),l}removeTransform(o){const c=at();_n(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!Ls(d.latestValues))continue;wf(d.latestValues)&&d.updateSnapshot();const u=at(),h=d.measurePageBox();_n(u,h),Zy(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ls(this.latestValues)&&Zy(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==At.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=At.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Co(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),i2(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Co(this.relativeTargetOrigin,this.target,f.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}io&&Fs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wf(this.parent.latestValues)||s2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),l=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===At.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;_n(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;I3(this.layoutCorrected,this.treeScale,this.path,l),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=at());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yy(this.prevProjectionDelta.x,this.projectionDelta.x),Yy(this.prevProjectionDelta.y,this.projectionDelta.y)),So(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!rv(this.projectionDelta.x,this.prevProjectionDelta.x)||!rv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),io&&Fs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wi(),this.projectionDelta=Wi(),this.projectionDeltaWithTransform=Wi()}setAnimationOrigin(o,c=!1){const l=this.snapshot,d=l?l.latestValues:{},u={...this.latestValues},h=Wi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=at(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,w=f!==g,x=this.getStack(),v=!x||x.members.length<=1,b=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(vD));this.animationProgress=0;let p;this.mixTargetDelta=j=>{const N=j/1e3;ov(h.x,o.x,N),ov(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Co(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yD(this.relativeTarget,this.relativeTargetOrigin,m,N),p&&nD(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=at()),_n(p,this.relativeTarget)),w&&(this.animationValues=u,Q3(u,d,this.latestValues,N,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Ac.hasAnimatedSinceResize=!0,this.currentAnimation=W3(0,sv,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:l,layout:d,latestValues:u}=o;if(!(!c||!l||!d)){if(this!==o&&this.layout&&d&&p2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||at();const h=jn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=jn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}_n(c,l),qi(c,u),So(this.projectionDeltaWithTransform,this.layoutCorrected,c,u)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rD),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(c=!0),!c)return;const d={};l.z&&Ph("z",o,d,this.animationValues);for(let u=0;u<Th.length;u++)Ph(`rotate${Th[u]}`,o,d,this.animationValues),Ph(`skew${Th[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var c,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iD;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Tc(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Tc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(w.transform=u?u({},""):"none",this.hasProjected=!1),w}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=sD(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:g}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(l=(c=m.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in pd){if(m[w]===void 0)continue;const{correct:x,applyTo:v}=pd[w],b=d.transform==="none"?m[w]:x(m[w],h);if(v){const p=v.length;for(let j=0;j<p;j++)d[v[j]]=b}else d[w]=b}return this.options.layoutId&&(d.pointerEvents=h===this?Tc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(iv),this.root.sharedNodes.clear()}}}function oD(t){t.updateLayout()}function lD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?En(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],f=jn(m);m.min=r[h].min,m.max=m.min+f}):p2(a,n.layoutBox,r)&&En(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],f=jn(r[h]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const c=Wi();So(c,r,n.layoutBox);const l=Wi();o?So(l,t.applyTransform(i,!0),n.measuredBox):So(l,r,n.layoutBox);const d=!u2(c);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const g=at();Co(g,n.layoutBox,m.layoutBox);const w=at();Co(w,r,f.layoutBox),h2(g,w)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cD(t){io&&Fs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uD(t){t.clearSnapshot()}function iv(t){t.clearMeasurements()}function hD(t){t.isLayoutDirty=!1}function mD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function av(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fD(t){t.resolveTargetDelta()}function pD(t){t.calcProjection()}function gD(t){t.resetSkewAndRotation()}function xD(t){t.removeLeadSnapshot()}function ov(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lv(t,e,n,r){t.min=Je(e.min,n.min,r),t.max=Je(e.max,n.max,r)}function yD(t,e,n,r){lv(t.x,e.x,n.x,r),lv(t.y,e.y,n.y,r)}function vD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bD={duration:.45,ease:[.4,0,.1,1]},cv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),dv=cv("applewebkit/")&&!cv("chrome/")?Math.round:yn;function uv(t){t.min=dv(t.min),t.max=dv(t.max)}function wD(t){uv(t.x),uv(t.y)}function p2(t,e,n){return t==="position"||t==="preserve-aspect"&&!S3(nv(e),nv(n),.2)}function jD(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ND=f2({attachResizeListener:(t,e)=>Xo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ah={current:void 0},g2=f2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ah.current){const t=new ND({});t.mount(window),t.setOptions({layoutScroll:!0}),Ah.current=t}return Ah.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SD={pan:{Feature:V3},drag:{Feature:$3,ProjectionNode:g2,MeasureLayout:l2}};function hv(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Ge.postRender(()=>a(e,Cl(e)))}class CD extends Es{mount(){const{current:e}=this.node;e&&(this.unmount=kP(e,n=>(hv(this.node,n,"Start"),r=>hv(this.node,r,"End"))))}unmount(){}}class kD extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sl(Xo(this.node.current,"focus",()=>this.onFocus()),Xo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mv(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Ge.postRender(()=>a(e,Cl(e)))}class _D extends Es{mount(){const{current:e}=this.node;e&&(this.unmount=PP(e,n=>(mv(this.node,n,"Start"),(r,{success:i})=>mv(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nf=new WeakMap,Dh=new WeakMap,ED=t=>{const e=Nf.get(t.target);e&&e(t)},TD=t=>{t.forEach(ED)};function PD({root:t,...e}){const n=t||document;Dh.has(n)||Dh.set(n,{});const r=Dh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(TD,{root:t,...e})),r[i]}function AD(t,e,n){const r=PD(e);return Nf.set(t,n),r.observe(t),()=>{Nf.delete(t),r.unobserve(t)}}const DD={some:0,all:1};class MD extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:DD[i]},c=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(l)};return AD(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ID(e,n))&&this.startObserver()}unmount(){}}function ID({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RD={inView:{Feature:MD},tap:{Feature:_D},focus:{Feature:kD},hover:{Feature:CD}},OD={layout:{ProjectionNode:g2,MeasureLayout:l2}},Sf={current:null},x2={current:!1};function LD(){if(x2.current=!0,!!ug)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sf.current=t.matches;t.addListener(e),e()}else Sf.current=!1}const FD=[...UN,zt,vs],$D=t=>FD.find(VN(t)),fv=new WeakMap;function VD(t,e,n){for(const r in e){const i=e[r],a=n[r];if(qt(i))t.addValue(r,i);else if(qt(a))t.addValue(r,Jo(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Jo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const pv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UD{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=gr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ge.render(this.render,!1,!0))};const{latestValues:l,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=uu(n),this.isVariantNode=Yj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in m){const g=m[f];l[f]!==void 0&&qt(g)&&g.set(l[f],!1)}}mount(e){this.current=e,fv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),x2.current||LD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fv.delete(this.current),this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pi.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ha){const n=ha[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pv.length;r++){const i=pv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=VD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(FN(i)||TN(i))?i=parseFloat(i):!$D(i)&&vs.test(n)&&(i=RN(e,n)),this.setBaseTarget(e,qt(i)?i.get():i)),qt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=vg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!qt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Mg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class y2 extends UD{constructor(){super(...arguments),this.KeyframeResolver=BN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BD(t){return window.getComputedStyle(t)}class zD extends y2{constructor(){super(...arguments),this.type="html",this.renderInstance=sN}readValueFromInstance(e,n){if(pi.has(n)){const r=$g(n);return r&&r.default||0}else{const r=BD(e),i=(tN(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return a2(e,n)}build(e,n,r){jg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kg(e,n,r)}}class WD extends y2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=at}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pi.has(n)){const r=$g(n);return r&&r.default||0}return n=iN.has(n)?n:gg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lN(e,n,r)}build(e,n,r){Ng(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){aN(e,n,r,i)}mount(e){this.isSVGTag=Cg(e.tagName),super.mount(e)}}const HD=(t,e)=>yg(t)?new WD(e):new zD(e,{allowProjection:t!==y.Fragment}),qD=vP({...p3,...RD,...SD,...OD},HD),T=IT(qD);function GD(t){t.values.forEach(e=>e.stop())}function Cf(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&Ig(t,i),t.variantChildren&&t.variantChildren.forEach(a=>{Cf(a,e)})})}function KD(t,e){if(Array.isArray(e))return Cf(t,e);if(typeof e=="string")return Cf(t,[e]);Ig(t,e)}function YD(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(a=>{i.push(JN(a,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{KD(r,n)})},stop(){t.forEach(n=>{GD(n)})},mount(){return()=>{e.stop()}}};return e}function QD(){const t=ou(YD);return hg(t.mount,[]),t}const kf=QD;async function JD(t){try{if(console.log("🔍 AUTH: Starting login function",{email:t.email.substring(0,5)+"...",hasPassword:!!t.password,supabaseReady:typeof L<"u"}),k.info("🔐 Attempting login for:",t.email),!t.email||!t.password)return console.log("🔍 AUTH: Validation failed - missing credentials"),{user:null,session:null,error:{message:"Email and password are required"},success:!1};console.log("🔍 AUTH: About to call signInWithPassword");const{data:e,error:n}=await L.auth.signInWithPassword({email:t.email.trim().toLowerCase(),password:t.password});if(console.log("🔍 AUTH: signInWithPassword result:",{hasData:!!e,hasUser:!!(e!=null&&e.user),hasSession:!!(e!=null&&e.session),error:n==null?void 0:n.message,errorCode:(n==null?void 0:n.code)||(n==null?void 0:n.status)}),n){if(console.error("🔍 AUTH: Login error details:",{message:n.message,status:n.status,code:n.code,details:n}),k.error("Login error:",n),n.message.includes("Email not confirmed"))return{user:null,session:null,error:null,success:!1,emailConfirmationRequired:!0};if(n.message.includes("Invalid login credentials"))try{const{data:i}=await L.from("profiles").select("id").ilike("email",t.email.trim().toLowerCase()).limit(1);if(!i||i.length===0)return{user:null,session:null,error:null,success:!1,emailNotFound:!0}}catch(i){k.error("Error checking profile existence:",i)}return{user:null,session:null,error:{message:au(n,"login"),code:n.message},success:!1}}if(!e.user||!e.session)return{user:null,session:null,error:{message:"Login failed: No user data received"},success:!1};let r=!1;try{const{data:i,error:a}=await L.from("profiles").select("onboarding_complete").eq("id",e.user.id).single();!a&&i&&(r=!i.onboarding_complete)}catch(i){k.warn("Could not check onboarding status:",i)}return k.info("✅ Login successful for:",t.email),{user:e.user,session:e.session,error:null,success:!0,requiresOnboarding:r}}catch(e){return k.error("Critical login error:",e),{user:null,session:null,error:{message:"A network error occurred. Please check your connection and try again.",code:"NETWORK_ERROR"},success:!1}}}async function ZD(t){try{if(k.info("📝 Attempting registration for:",t.email),!t.email||!t.password||!t.firstName||!t.lastName)return{user:null,session:null,error:{message:"All fields are required"}};if(t.password.length<6)return{user:null,session:null,error:{message:"Password must be at least 6 characters long"}};const{data:e,error:n}=await L.auth.signUp({email:t.email.trim().toLowerCase(),password:t.password,options:{data:{firstName:t.firstName.trim(),lastName:t.lastName.trim(),full_name:`${t.firstName.trim()} ${t.lastName.trim()}`},emailRedirectTo:`${window.location.origin}/confirmed`}});return n?(k.error("Registration error:",n),{user:null,session:null,error:{message:au(n,"registration"),code:n.message}}):(k.info("✅ Registration initiated for:",t.email),{user:e.user,session:e.session,error:null})}catch(e){return k.error("Critical registration error:",e),{user:null,session:null,error:{message:"A network error occurred. Please check your connection and try again.",code:"NETWORK_ERROR"}}}}async function XD(){try{k.info("🚪 Attempting logout...");const{error:t}=await L.auth.signOut();return t?(k.error("Logout error:",t),{error:{message:au(t,"logout"),code:t.message}}):(k.info("✅ Logout successful"),{error:null})}catch(t){return k.error("Critical logout error:",t),{error:{message:"Failed to logout properly. Please refresh the page.",code:"LOGOUT_ERROR"}}}}const eM=ZD;function tM(){return[]}function nM(t){return k.info("Approving access request",{userId:t}),`User ${t} has been approved for testing access.`}function rM(t){return k.info("Declining access request",{userId:t}),`User ${t} access request has been declined.`}function sM(t){return t.length<6?{isValid:!1,message:"Password must be at least 6 characters long"}:{isValid:!0,message:""}}function iM({isOpen:t,onClose:e,notifications:n,onMarkAsRead:r,onClearAll:i}){const a=Ke(),o=c=>{r(c.id),c.type==="connection"&&(a("/app"),setTimeout(()=>{const l=document.getElementById("connection-requests");l&&l.scrollIntoView({behavior:"smooth"})},100)),e()};return s.jsx(ne,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:e}),s.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ht,{className:"h-5 w-5 text-indigo-600"}),s.jsx("h3",{className:"ml-2 text-lg font-semibold text-gray-900",children:"Notifications"})]}),n.length>0&&s.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No new notifications"}):s.jsx("div",{className:"divide-y divide-gray-200",children:n.map(c=>s.jsx("div",{onClick:()=>o(c),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${c.read?"":"bg-indigo-50"}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:c.image?s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:c.image,alt:""}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-medium text-indigo-600",children:c.title.charAt(0)})})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.title}),c.description&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c.description}),s.jsxs("div",{className:"mt-1 flex items-center text-xs text-gray-500",children:[s.jsx(qe,{className:"h-3 w-3 mr-1"}),c.time]})]}),!c.read&&s.jsx("div",{className:"ml-3",children:s.jsx("div",{className:"h-2 w-2 bg-indigo-600 rounded-full"})})]})},c.id))})})]})]})})}function v2(){return s.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 py-12 mt-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6 md:mb-0",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-2 rounded-lg mr-2",children:s.jsx(It,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Dislink"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mb-6 md:mb-0",children:[s.jsx(Pe,{to:"/about",className:"text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-200",children:"About"}),s.jsx(Pe,{to:"/privacy",className:"text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-200",children:"Privacy"}),s.jsx(Pe,{to:"/terms",className:"text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-200",children:"Terms"}),s.jsx(Pe,{to:"/contact",className:"text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-200",children:"Contact"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-indigo-600 transition-colors duration-200",children:s.jsx(Lj,{className:"h-5 w-5"})}),s.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-indigo-600 transition-colors duration-200",children:s.jsx(Bj,{className:"h-5 w-5"})}),s.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-indigo-600 transition-colors duration-200",children:s.jsx(Oj,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-8 flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("p",{className:"text-sm text-gray-500 mb-4 md:mb-0 flex items-center",children:["© 2025 Dislink. Built with ",s.jsx(Lt,{className:"h-3 w-3 mx-1 text-red-500"})," in Lisbon."]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("a",{href:"mailto:hello@dislink.com",className:"text-sm text-gray-500 hover:text-indigo-600 flex items-center transition-colors duration-200",children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"hello@dislink.com"]})})]})]})})}var aM=Object.defineProperty,wd=Object.getOwnPropertySymbols,b2=Object.prototype.hasOwnProperty,w2=Object.prototype.propertyIsEnumerable,gv=(t,e,n)=>e in t?aM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oM=(t,e)=>{for(var n in e||(e={}))b2.call(e,n)&&gv(t,n,e[n]);if(wd)for(var n of wd(e))w2.call(e,n)&&gv(t,n,e[n]);return t},lM=(t,e)=>{var n={};for(var r in t)b2.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wd)for(var r of wd(t))e.indexOf(r)<0&&w2.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var li;(t=>{const e=class{constructor(l,d,u,h){if(this.version=l,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let m=[];for(let g=0;g<this.size;g++)m.push(!1);for(let g=0;g<this.size;g++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const f=this.addEccAndInterleave(u);if(this.drawCodewords(f),h==-1){let g=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const x=this.getPenaltyScore();x<g&&(h=w,g=x),this.applyMask(w)}}a(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,d){const u=t.QrSegment.makeSegments(l);return e.encodeSegments(u,d)}static encodeBinary(l,d){const u=t.QrSegment.makeBytes(l);return e.encodeSegments([u],d)}static encodeSegments(l,d,u=1,h=40,m=-1,f=!0){if(!(e.MIN_VERSION<=u&&u<=h&&h<=e.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let g,w;for(g=u;;g++){const p=e.getNumDataCodewords(g,d)*8,j=c.getTotalBits(l,g);if(j<=p){w=j;break}if(g>=h)throw new RangeError("Data too long")}for(const p of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])f&&w<=e.getNumDataCodewords(g,p)*8&&(d=p);let x=[];for(const p of l){r(p.mode.modeBits,4,x),r(p.numChars,p.mode.numCharCountBits(g),x);for(const j of p.getData())x.push(j)}a(x.length==w);const v=e.getNumDataCodewords(g,d)*8;a(x.length<=v),r(0,Math.min(4,v-x.length),x),r(0,(8-x.length%8)%8,x),a(x.length%8==0);for(let p=236;x.length<v;p^=253)r(p,8,x);let b=[];for(;b.length*8<x.length;)b.push(0);return x.forEach((p,j)=>b[j>>>3]|=p<<7-(j&7)),new e(g,d,b,m)}getModule(l,d){return 0<=l&&l<this.size&&0<=d&&d<this.size&&this.modules[d][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),d=l.length;for(let u=0;u<d;u++)for(let h=0;h<d;h++)u==0&&h==0||u==0&&h==d-1||u==d-1&&h==0||this.drawAlignmentPattern(l[u],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const d=this.errorCorrectionLevel.formatBits<<3|l;let u=d;for(let m=0;m<10;m++)u=u<<1^(u>>>9)*1335;const h=(d<<10|u)^21522;a(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,i(h,m));this.setFunctionModule(8,7,i(h,6)),this.setFunctionModule(8,8,i(h,7)),this.setFunctionModule(7,8,i(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,i(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,i(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,i(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const d=this.version<<12|l;a(d>>>18==0);for(let u=0;u<18;u++){const h=i(d,u),m=this.size-11+u%3,f=Math.floor(u/3);this.setFunctionModule(m,f,h),this.setFunctionModule(f,m,h)}}drawFinderPattern(l,d){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(u)),f=l+h,g=d+u;0<=f&&f<this.size&&0<=g&&g<this.size&&this.setFunctionModule(f,g,m!=2&&m!=4)}}drawAlignmentPattern(l,d){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,d+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(l,d,u){this.modules[d][l]=u,this.isFunction[d][l]=!0}addEccAndInterleave(l){const d=this.version,u=this.errorCorrectionLevel;if(l.length!=e.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],m=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],f=Math.floor(e.getNumRawDataModules(d)/8),g=h-f%h,w=Math.floor(f/h);let x=[];const v=e.reedSolomonComputeDivisor(m);for(let p=0,j=0;p<h;p++){let N=l.slice(j,j+w-m+(p<g?0:1));j+=N.length;const S=e.reedSolomonComputeRemainder(N,v);p<g&&N.push(0),x.push(N.concat(S))}let b=[];for(let p=0;p<x[0].length;p++)x.forEach((j,N)=>{(p!=w-m||N>=g)&&b.push(j[p])});return a(b.length==f),b}drawCodewords(l){if(l.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const f=u-m,w=(u+1&2)==0?this.size-1-h:h;!this.isFunction[w][f]&&d<l.length*8&&(this.modules[w][f]=i(l[d>>>3],7-(d&7)),d++)}}a(d==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let h;switch(l){case 0:h=(u+d)%2==0;break;case 1:h=d%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+d)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:h=u*d%2+u*d%3==0;break;case 6:h=(u*d%2+u*d%3)%2==0;break;case 7:h=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&h&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let l=0;for(let m=0;m<this.size;m++){let f=!1,g=0,w=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[m][x]==f?(g++,g==5?l+=e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,w),f||(l+=this.finderPenaltyCountPatterns(w)*e.PENALTY_N3),f=this.modules[m][x],g=1);l+=this.finderPenaltyTerminateAndCount(f,g,w)*e.PENALTY_N3}for(let m=0;m<this.size;m++){let f=!1,g=0,w=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][m]==f?(g++,g==5?l+=e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,w),f||(l+=this.finderPenaltyCountPatterns(w)*e.PENALTY_N3),f=this.modules[x][m],g=1);l+=this.finderPenaltyTerminateAndCount(f,g,w)*e.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let f=0;f<this.size-1;f++){const g=this.modules[m][f];g==this.modules[m][f+1]&&g==this.modules[m+1][f]&&g==this.modules[m+1][f+1]&&(l+=e.PENALTY_N2)}let d=0;for(const m of this.modules)d=m.reduce((f,g)=>f+(g?1:0),d);const u=this.size*this.size,h=Math.ceil(Math.abs(d*20-u*10)/u)-1;return a(0<=h&&h<=9),l+=h*e.PENALTY_N4,a(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let h=this.size-7;u.length<l;h-=d)u.splice(1,0,h);return u}}static getNumRawDataModules(l){if(l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;d-=(25*u-10)*u-55,l>=7&&(d-=36)}return a(208<=d&&d<=29648),d}static getNumDataCodewords(l,d){return Math.floor(e.getNumRawDataModules(l)/8)-e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][l]*e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let d=[];for(let h=0;h<l-1;h++)d.push(0);d.push(1);let u=1;for(let h=0;h<l;h++){for(let m=0;m<d.length;m++)d[m]=e.reedSolomonMultiply(d[m],u),m+1<d.length&&(d[m]^=d[m+1]);u=e.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(l,d){let u=d.map(h=>0);for(const h of l){const m=h^u.shift();u.push(0),d.forEach((f,g)=>u[g]^=e.reedSolomonMultiply(f,m))}return u}static reedSolomonMultiply(l,d){if(l>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(d>>>h&1)*l;return a(u>>>8==0),u}finderPenaltyCountPatterns(l){const d=l[1];a(d<=this.size*3);const u=d>0&&l[2]==d&&l[3]==d*3&&l[4]==d&&l[5]==d;return(u&&l[0]>=d*4&&l[6]>=d?1:0)+(u&&l[6]>=d*4&&l[0]>=d?1:0)}finderPenaltyTerminateAndCount(l,d,u){return l&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,d){d[0]==0&&(l+=this.size),d.pop(),d.unshift(l)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(l,d,u){if(d<0||d>31||l>>>d)throw new RangeError("Value out of range");for(let h=d-1;h>=0;h--)u.push(l>>>h&1)}function i(l,d){return(l>>>d&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,d,u){if(this.mode=l,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let d=[];for(const u of l)r(u,8,d);return new o(o.Mode.BYTE,l.length,d)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<l.length;){const h=Math.min(l.length-u,3);r(parseInt(l.substr(u,h),10),h*3+1,d),u+=h}return new o(o.Mode.NUMERIC,l.length,d)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=l.length;u+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(h,11,d)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,d),new o(o.Mode.ALPHANUMERIC,l.length,d)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let d=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,d);else if(l<16384)r(2,2,d),r(l,14,d);else if(l<1e6)r(6,3,d),r(l,21,d);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,d)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,d){let u=0;for(const h of l){const m=h.mode.numCharCountBits(d);if(h.numChars>=1<<m)return 1/0;u+=4+m+h.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let d=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?d.push(l.charCodeAt(u)):(d.push(parseInt(l.substr(u+1,2),16)),u+=2);return d}};let c=o;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=c})(li||(li={}));(t=>{(e=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(li||(li={}));(t=>{(e=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(li||(li={}));var ao=li;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var cM={L:ao.QrCode.Ecc.LOW,M:ao.QrCode.Ecc.MEDIUM,Q:ao.QrCode.Ecc.QUARTILE,H:ao.QrCode.Ecc.HIGH},dM=128,uM="L",hM="#FFFFFF",mM="#000000",fM=!1,j2=4,pM=.1;function gM(t,e=0){const n=[];return t.forEach(function(r,i){let a=null;r.forEach(function(o,c){if(!o&&a!==null){n.push(`M${a+e} ${i+e}h${c-a}v1H${a+e}z`),a=null;return}if(c===r.length-1){if(!o)return;a===null?n.push(`M${c+e},${i+e} h1v1H${c+e}z`):n.push(`M${a+e},${i+e} h${c+1-a}v1H${a+e}z`);return}o&&a===null&&(a=c)})}),n.join("")}function xM(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function yM(t,e,n,r){if(r==null)return null;const i=n?j2:0,a=t.length+i*2,o=Math.floor(e*pM),c=a/e,l=(r.width||o)*c,d=(r.height||o)*c,u=r.x==null?t.length/2-l/2:r.x*c,h=r.y==null?t.length/2-d/2:r.y*c;let m=null;if(r.excavate){let f=Math.floor(u),g=Math.floor(h),w=Math.ceil(l+u-f),x=Math.ceil(d+h-g);m={x:f,y:g,w,h:x}}return{x:u,y:h,h:d,w:l,excavation:m}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function vM(t){const e=t,{value:n,size:r=dM,level:i=uM,bgColor:a=hM,fgColor:o=mM,includeMargin:c=fM,imageSettings:l}=e,d=lM(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=ao.QrCode.encodeText(n,cM[i]).getModules();const h=c?j2:0,m=u.length+h*2,f=yM(u,r,c,l);let g=null;l!=null&&f!=null&&(f.excavation!=null&&(u=xM(u,f.excavation)),g=ft.createElement("image",{xlinkHref:l.src,height:f.h,width:f.w,x:f.x+h,y:f.y+h,preserveAspectRatio:"none"}));const w=gM(u,h);return ft.createElement("svg",oM({height:r,width:r,viewBox:`0 0 ${m} ${m}`},d),ft.createElement("path",{fill:a,d:`M0,0 h${m}v${m}H0z`,shapeRendering:"crispEdges"}),ft.createElement("path",{fill:o,d:w,shapeRendering:"crispEdges"}),g)}function bM({value:t,size:e=256,includeMargin:n=!0,imageSettings:r,onShare:i,onDownload:a}){return s.jsx("div",{className:"flex flex-col items-center",children:s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-lg",children:s.jsx(vM,{id:"qr-code-svg",value:t,size:e,level:"H",includeMargin:n,imageSettings:r})})})}async function wM(t){try{if(!t)throw new Error("User ID is required");const{data:e,error:n}=await L.from("profiles").select("first_name, last_name, job_title, company, profile_image, public_profile").eq("id",t).single();if(n)throw n;if(!e)throw new Error("Profile not found");const r=`scan_${Date.now()}_${Math.random().toString(36).substr(2,12)}`,i=`qr_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,{data:a,error:o}=await L.from("connection_codes").insert({user_id:t,code:i,is_active:!0,created_at:new Date().toISOString(),scan_count:0,expires_at:new Date(Date.now()+24*60*60*1e3).toISOString()}).select("code").single();if(o)throw o;if(!a)throw new Error("Failed to generate connection code");const{error:c}=await L.from("qr_scan_tracking").insert({scan_id:r,code:i,scanned_at:new Date().toISOString(),device_info:{generated_at:new Date().toISOString(),purpose:"qr_generation",user_id:t},session_id:r});c&&k.warn("Failed to create initial tracking entry:",c);const l=`${window.location.origin}/scan/${r}?code=${i}`;return k.info("Generated UNIQUE QR code URL:",{url:l,userId:t,code:i,scanId:r,expiresAt:new Date(Date.now()+24*60*60*1e3).toISOString()}),l}catch(e){throw k.error("Error generating QR code:",e),e}}async function Wg(t){try{k.info("Validating QR code:",{code:t});let e=t;if(t.startsWith("http")||t.startsWith("/")){const n=t.match(/\/share\/([^/?]+)/);if(n)e=n[1],k.info("Extracted connection code from URL:",{originalCode:t,extractedCode:e});else return k.warn("URL format not recognized:",{code:t}),null}try{const n=JSON.parse(e);if(n&&n.c)return await xv(n.c)}catch{k.debug("Code is not JSON format, trying as direct connection code")}return await xv(e)}catch(e){return k.error("Error validating QR code:",e),null}}async function xv(t){try{k.debug("Validating connection code:",{code:t});const{data:e,error:n}=await L.from("connection_codes").select(`
        id,
        user_id,
        status,
        profiles!connection_codes_user_id_fkey (
          id,
          first_name,
          last_name,
          job_title,
          company,
          profile_image,
          bio,
          social_links,
          interests,
          public_profile
        )
      `).eq("code",t).eq("status","active").maybeSingle();return n?(k.error("Database error while validating connection code:",n),null):e?e.profiles?{userId:e.profiles.id,name:`${e.profiles.first_name} ${e.profiles.last_name}`.trim(),jobTitle:e.profiles.job_title,company:e.profiles.company,profileImage:e.profiles.profile_image,bio:e.profiles.bio,socialLinks:e.profiles.social_links,interests:e.profiles.interests,publicProfile:e.profiles.public_profile,isExpired:!1,code:t,codeId:e.id}:(k.error("Profile not found for connection code:",{code:t}),null):(k.info("No active connection code found:",{code:t}),null)}catch(e){return k.error("Error validating connection code:",e),null}}function jM(t){return`${window.location.origin}/share/${t}`}async function NM(t,e){try{const{error:n}=await L.from("connection_codes").update({scanned_at:new Date().toISOString(),location:e?{latitude:e.latitude,longitude:e.longitude,scanned_at:new Date().toISOString()}:null,status:"used"}).eq("code",t);if(n)throw n;k.info("QR code scan tracked successfully",{code:t,location:e})}catch(n){throw k.error("Error tracking QR code scan:",n),n}}function Hg({isOpen:t,onClose:e,user:n}){const[r,i]=y.useState(""),[a,o]=y.useState(!1),[c,l]=y.useState(!1),[d,u]=y.useState(!0),[h,m]=y.useState(null),[f,g]=y.useState("");y.useEffect(()=>{t&&(n!=null&&n.id)&&wM(n.id).then(j=>{i(j);try{const N=JSON.parse(j);if(N&&N.c){const S=jM(N.c);g(S)}}catch(N){console.error("Error parsing QR data:",N)}u(!1)}).catch(j=>{console.error("Error generating QR code:",j),m("Failed to generate QR code"),u(!1)})},[t,n==null?void 0:n.id]);const w=kf(),x=kf(),v=async j=>{await j.start({scale:[1,1.2,1],backgroundColor:["#4F46E5","#10B981","#4F46E5"],transition:{duration:.5}})},b=async()=>{try{const j=window.location.href;navigator.share?await navigator.share({title:`Connect with ${n.name} on Dislink`,text:"Scan this QR code to connect with me on Dislink!",url:j}):(await navigator.clipboard.writeText(j),l(!0),await v(w),setTimeout(()=>l(!1),2e3))}catch(j){console.error("Error copying link:",j)}},p=()=>{try{const j=document.getElementById("qr-code-svg");if(!j)throw new Error("QR code element not found");const N=document.createElement("canvas"),S=N.getContext("2d");if(!S)throw new Error("Could not get canvas context");const _=3;N.width=256*_,N.height=256*_;const E=new Image,P=new XMLSerializer().serializeToString(j),C=new Blob([P],{type:"image/svg+xml;charset=utf-8"}),I=URL.createObjectURL(C);E.onload=()=>{S.fillStyle="white",S.fillRect(0,0,N.width,N.height),S.scale(_,_),S.drawImage(E,0,0);const A=document.createElement("a");A.download=`${n.name.toLowerCase().replace(/\s+/g,"-")}-qr-code.png`,A.href=N.toDataURL("image/png",1),document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(I),o(!0),v(x),setTimeout(()=>o(!1),2e3)},E.src=I}catch(j){console.error("Error downloading QR code:",j)}};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl p-6 max-w-sm w-full shadow-xl border border-indigo-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg mr-3",children:s.jsx(fr,{className:"h-5 w-5 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Your QR Code"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Share to connect instantly"})]})]}),s.jsx(T.button,{whileHover:{scale:1.1,backgroundColor:"#F3F4F6"},whileTap:{scale:.9},onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]}),d?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):h?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-red-600",children:h})}):s.jsxs(s.Fragment,{children:[s.jsx(bM,{value:r,imageSettings:n.profileImage?{src:n.profileImage,height:48,width:48,excavate:!0}:void 0}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Let others scan this code to connect with you instantly"}),f&&s.jsxs("div",{className:"mt-4 mb-4 p-3 bg-indigo-50 rounded-lg text-sm break-all border border-indigo-100",children:[s.jsx("p",{className:"font-medium text-indigo-700 mb-1",children:"Public Profile URL:"}),s.jsx("p",{className:"text-indigo-600",children:f})]}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-6",children:[s.jsxs(T.button,{animate:w,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-sm",children:[s.jsx(Go,{className:"h-4 w-4 mr-1.5"}),c?"Copied!":"Copy Link"]}),s.jsxs(T.button,{animate:x,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 shadow-sm",children:[s.jsx(rT,{className:"h-4 w-4 mr-1.5"}),a?"Saved!":"Save"]})]})]})]})]})})})}const dr={nebula:{name:"Nebula Glow",description:"Deep & Dreamy",philosophy:"Deep, mysterious, trustworthy",colors:{primary:"#0B1E3D",secondary:"#A259FF",accent:"#FFD37E",pop:"#FF6F61",neutral:"#F4F5F7"},gradients:{main:"linear-gradient(135deg, #0B1E3D 0%, #A259FF 100%)",soft:"linear-gradient(135deg, #0B1E3D 0%, #A259FF 50%, #FFD37E 100%)",radial:"radial-gradient(circle at center, #A259FF 0%, #0B1E3D 70%)"}},aurora:{name:"Aurora Dream",description:"Vibrant & Inspiring",philosophy:"Bright, inspiring, energetic",colors:{primary:"#142850",secondary:"#00C1D4",accent:"#FF9B85",pop:"#9D4EDD",neutral:"#F9FAFB"},gradients:{main:"linear-gradient(135deg, #142850 0%, #00C1D4 100%)",soft:"linear-gradient(135deg, #142850 0%, #00C1D4 50%, #FF9B85 100%)",radial:"radial-gradient(circle at center, #00C1D4 0%, #142850 70%)"}},starlight:{name:"Starlight Horizon",description:"Warm & Philosophical",philosophy:"Warm, philosophical, contemplative",colors:{primary:"#1A1B41",secondary:"#D4A5FF",accent:"#FFD6A5",pop:"#48CAE4",neutral:"#FAF9F6"},gradients:{main:"linear-gradient(135deg, #1A1B41 0%, #D4A5FF 100%)",soft:"linear-gradient(135deg, #1A1B41 0%, #D4A5FF 50%, #FFD6A5 100%)",radial:"radial-gradient(circle at center, #D4A5FF 0%, #1A1B41 70%)"}}},SM="nebula";class N2{constructor(){Tt(this,"currentTheme",SM);Tt(this,"listeners",[]);const e=localStorage.getItem("dislink-cosmic-theme");e&&Object.keys(dr).includes(e)&&(this.currentTheme=e),this.applyTheme(this.currentTheme)}getCurrentTheme(){return this.currentTheme}getCurrentPalette(){return dr[this.currentTheme]}setTheme(e){if(!Object.keys(dr).includes(e)){console.warn(`Unknown cosmic theme: ${e}`);return}this.currentTheme=e,localStorage.setItem("dislink-cosmic-theme",e),this.applyTheme(e),this.listeners.forEach(n=>n(e))}applyTheme(e){const n=dr[e],r=document.documentElement;r.style.setProperty("--color-cosmic-primary",n.colors.primary),r.style.setProperty("--color-cosmic-secondary",n.colors.secondary),r.style.setProperty("--color-cosmic-accent",n.colors.accent),r.style.setProperty("--color-cosmic-pop",n.colors.pop),r.style.setProperty("--color-cosmic-neutral",n.colors.neutral),r.style.setProperty("--gradient-cosmic-main",n.gradients.main),r.style.setProperty("--gradient-cosmic-soft",n.gradients.soft),r.style.setProperty("--gradient-cosmic-radial",n.gradients.radial),document.body.setAttribute("data-cosmic-theme",e),console.log(`🌌 Applied cosmic theme: ${n.name} - ${n.description}`)}subscribe(e){return this.listeners.push(e),()=>{const n=this.listeners.indexOf(e);n>-1&&this.listeners.splice(n,1)}}getColorWithOpacity(e,n){const i=this.getCurrentPalette().colors[e].replace("#",""),a=parseInt(i.substring(0,2),16),o=parseInt(i.substring(2,4),16),c=parseInt(i.substring(4,6),16);return`rgba(${a}, ${o}, ${c}, ${n})`}getAllThemes(){return Object.entries(dr).map(([e,n])=>({value:e,label:n.name,description:n.description,philosophy:n.philosophy}))}}const $s=new N2;function Br(){const[t,e]=ft.useState($s.getCurrentTheme());ft.useEffect(()=>$s.subscribe(e),[]);const n=ft.useCallback(a=>{$s.setTheme(a)},[]),r=ft.useCallback(()=>$s.getCurrentPalette(),[t]),i=ft.useCallback((a,o)=>$s.getColorWithOpacity(a,o),[t]);return{currentTheme:t,currentPalette:r(),changeTheme:n,getColorWithOpacity:i,allThemes:$s.getAllThemes()}}const CM=Object.freeze(Object.defineProperty({__proto__:null,COSMIC_PALETTES:dr,CosmicThemeManager:N2,cosmicThemeManager:$s,useCosmicTheme:Br},Symbol.toStringTag,{value:"Module"}));function kM(){const t=Ke(),e=Bn(),{user:n,refreshUser:r}=Ft();Br();const[i,a]=y.useState(!1),[o,c]=y.useState(0),[l,d]=y.useState(!1),[u,h]=y.useState(!1),[m,f]=y.useState([]),[g,w]=y.useState(0),[x,v]=y.useState(!1),[b,p]=y.useState(!1),j=e.pathname==="/app/login"||e.pathname==="/app/register"||e.pathname==="/app/onboarding"||e.pathname.startsWith("/verify");y.useEffect(()=>{(async()=>{const{data:{session:R}}=await L.auth.getSession();v(!!R),R&&!n&&await r()})()},[n,r]),y.useEffect(()=>{const A=()=>{const R=window.scrollY;d(R>o&&R>100),c(R)};return window.addEventListener("scroll",A,{passive:!0}),()=>window.removeEventListener("scroll",A)},[o]);async function N(){try{await XD(),v(!1),t("/")}catch(A){console.error("Error logging out:",A)}}const S=A=>{f(R=>R.map(F=>F.id===A?{...F,read:!0}:F)),w(R=>Math.max(0,R-1))},_=()=>{f([]),w(0)},E={"":"Home",contacts:"Contacts",profile:"Your Profile",settings:"Settings",login:"Sign In",onboarding:"Welcome to Dislink"},P=e.pathname.split("/")[2],C=E[P];if(j)return s.jsx(Ex,{});const I=n||x;return s.jsxs("div",{className:"min-h-screen bg-cosmic-neutral flex flex-col",children:[s.jsx(T.nav,{initial:!1,animate:{y:l?-100:0},transition:{duration:.2},className:"fixed top-0 left-0 right-0 bg-white/90 backdrop-blur-md shadow-sm z-50 border-b border-cosmic-secondary/10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs(Pe,{to:"/app",className:"flex-shrink-0 flex items-center",children:[s.jsx("div",{className:"cosmic-gradient rounded-lg p-1.5 cosmic-glow",children:s.jsx(It,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"ml-2 text-xl font-bold text-cosmic-primary",children:"Dislink"})]}),C&&s.jsx("h1",{className:"ml-6 text-xl font-semibold text-cosmic-primary",children:C})]}),I?s.jsxs("div",{className:"hidden sm:flex sm:items-center sm:space-x-4",children:[s.jsxs(Pe,{to:"/app",className:`inline-flex items-center px-3 py-2 text-sm font-medium transition-colors ${e.pathname==="/app"?"text-cosmic-secondary border-b-2 border-cosmic-secondary":"text-cosmic-primary/70 hover:text-cosmic-secondary hover:border-b-2 hover:border-cosmic-accent/50"}`,children:[s.jsx(Tr,{className:"h-5 w-5 mr-1"}),"Home"]}),s.jsxs(Pe,{to:"/app/contacts",className:`inline-flex items-center px-3 py-2 text-sm font-medium transition-colors ${e.pathname==="/app/contacts"?"text-cosmic-secondary border-b-2 border-cosmic-secondary":"text-cosmic-primary/70 hover:text-cosmic-secondary hover:border-b-2 hover:border-cosmic-accent/50"}`,children:[s.jsx(Ze,{className:"h-5 w-5 mr-1"}),"Contacts"]}),s.jsxs(Pe,{to:"/app/profile",className:`inline-flex items-center px-3 py-2 text-sm font-medium transition-colors ${e.pathname==="/app/profile"?"text-cosmic-secondary border-b-2 border-cosmic-secondary":"text-cosmic-primary/70 hover:text-cosmic-secondary hover:border-b-2 hover:border-cosmic-accent/50"}`,children:[s.jsx(yh,{className:"h-5 w-5 mr-1"}),"Profile"]}),s.jsxs(Pe,{to:"/app/settings",className:`inline-flex items-center px-3 py-2 text-sm font-medium transition-colors ${e.pathname==="/app/settings"?"text-cosmic-secondary border-b-2 border-cosmic-secondary":"text-cosmic-primary/70 hover:text-cosmic-secondary hover:border-b-2 hover:border-cosmic-accent/50"}`,children:[s.jsx(of,{className:"h-5 w-5 mr-1"}),"Settings"]}),s.jsxs(Pe,{to:"/share/test-profile",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-cosmic-accent hover:text-cosmic-pop hover:border-b-2 hover:border-cosmic-pop/50 transition-colors",title:"Test Public Profile View",children:[s.jsx(lt,{className:"h-5 w-5 mr-1"}),"Test Public Profile"]}),s.jsx("div",{className:"relative ml-2",children:s.jsxs("button",{onClick:()=>p(!0),className:"p-2 text-cosmic-primary/70 hover:text-cosmic-secondary hover:bg-cosmic-secondary/10 rounded-full relative transition-colors cosmic-glow",title:"Show QR Code",children:[s.jsx(fr,{className:"h-5 w-5"}),s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-cosmic-secondary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-cosmic-secondary"})]})]})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!u),className:"p-2 text-cosmic-primary/70 hover:text-cosmic-secondary relative transition-colors",children:[s.jsx(Ht,{className:"h-5 w-5"}),g>0&&s.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-cosmic-pop ring-2 ring-white"})]}),s.jsx(iM,{isOpen:u,onClose:()=>h(!1),notifications:m,onMarkAsRead:S,onClearAll:_})]}),s.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white cosmic-gradient hover:cosmic-glow transition-all duration-200",children:[s.jsx(Jx,{className:"h-5 w-5 mr-2"}),"Logout"]})]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pe,{to:"/app/login",className:"text-cosmic-primary/70 hover:text-cosmic-secondary px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"}),s.jsx(Pe,{to:"/app/register",className:"ml-4 px-4 py-2 rounded-md text-sm font-medium text-white cosmic-gradient hover:cosmic-glow transition-all duration-200",children:"Register"})]}),I&&s.jsx("div",{className:"sm:hidden flex items-center",children:s.jsxs("button",{onClick:()=>a(!i),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),i?s.jsx(Se,{className:"h-6 w-6"}):s.jsx(dT,{className:"h-6 w-6"})]})})]})})}),s.jsx(ne,{children:i&&s.jsx(T.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"sm:hidden fixed inset-x-0 top-16 bg-white/95 backdrop-blur-md shadow-lg z-40 border-b border-cosmic-secondary/10",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[s.jsxs(Pe,{to:"/app",className:`block px-3 py-2 rounded-md text-base font-medium ${e.pathname==="/app"?"text-cosmic-secondary bg-cosmic-secondary/10":"text-cosmic-primary/70 hover:text-cosmic-secondary hover:bg-cosmic-secondary/10"}`,onClick:()=>a(!1),children:[s.jsx(Tr,{className:"h-5 w-5 inline-block mr-2"}),"Home"]}),s.jsxs(Pe,{to:"/app/contacts",className:`block px-3 py-2 rounded-md text-base font-medium ${e.pathname==="/app/contacts"?"text-cosmic-secondary bg-cosmic-secondary/10":"text-cosmic-primary/70 hover:text-cosmic-secondary hover:bg-cosmic-secondary/10"}`,onClick:()=>a(!1),children:[s.jsx(Ze,{className:"h-5 w-5 inline-block mr-2"}),"Contacts"]}),s.jsxs(Pe,{to:"/app/profile",className:`block px-3 py-2 rounded-md text-base font-medium ${e.pathname==="/app/profile"?"text-cosmic-secondary bg-cosmic-secondary/10":"text-cosmic-primary/70 hover:text-cosmic-secondary hover:bg-cosmic-secondary/10"}`,onClick:()=>a(!1),children:[s.jsx(yh,{className:"h-5 w-5 inline-block mr-2"}),"Profile"]}),s.jsxs(Pe,{to:"/app/settings",className:`block px-3 py-2 rounded-md text-base font-medium ${e.pathname==="/app/settings"?"text-cosmic-secondary bg-cosmic-secondary/10":"text-cosmic-primary/70 hover:text-cosmic-secondary hover:bg-cosmic-secondary/10"}`,onClick:()=>a(!1),children:[s.jsx(of,{className:"h-5 w-5 inline-block mr-2"}),"Settings"]}),s.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:s.jsxs("button",{onClick:()=>{p(!0),a(!1)},className:"w-full text-left px-3 py-2 rounded-md text-base font-medium text-cosmic-primary/70 hover:text-cosmic-secondary hover:bg-cosmic-secondary/10",children:[s.jsx(fr,{className:"h-5 w-5 inline-block mr-2 text-cosmic-secondary"}),"Show QR Code"]})}),s.jsxs("button",{onClick:()=>{N(),a(!1)},className:"w-full text-left px-3 py-2 rounded-md text-base font-medium text-cosmic-primary/70 hover:text-cosmic-secondary hover:bg-cosmic-secondary/10",children:[s.jsx(Jx,{className:"h-5 w-5 inline-block mr-2"}),"Logout"]})]})})}),I&&!j&&s.jsx(T.div,{initial:!1,animate:{y:l?100:0},transition:{duration:.2},className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-cosmic-secondary/20 sm:hidden z-50",children:s.jsxs("div",{className:"grid grid-cols-4 h-16",children:[s.jsxs(Pe,{to:"/app",className:`flex flex-col items-center justify-center ${e.pathname==="/app"?"text-cosmic-secondary":"text-cosmic-primary/70"}`,children:[s.jsx(Tr,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),s.jsxs(Pe,{to:"/app/contacts",className:`flex flex-col items-center justify-center ${e.pathname==="/app/contacts"?"text-cosmic-secondary":"text-cosmic-primary/70"}`,children:[s.jsx(Ze,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs mt-1",children:"Contacts"})]}),s.jsxs("button",{onClick:()=>p(!0),className:"flex flex-col items-center justify-center relative group",children:[s.jsxs("div",{className:"w-12 h-12 bg-cosmic-secondary rounded-full flex items-center justify-center -mt-5 shadow-lg group-hover:shadow-cosmic-secondary/50 transition-all duration-300",children:[s.jsx(fr,{className:"h-6 w-6 text-white group-hover:scale-110 transition-transform duration-300"}),s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-cosmic-secondary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-cosmic-secondary"})]})]}),s.jsx("span",{className:"text-xs mt-1 text-cosmic-primary/70 group-hover:text-cosmic-secondary transition-colors duration-300",children:"Connect"})]}),s.jsxs(Pe,{to:"/app/profile",className:`flex flex-col items-center justify-center ${e.pathname==="/app/profile"?"text-cosmic-secondary":"text-cosmic-primary/70"}`,children:[s.jsx(yh,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})]})}),s.jsx("main",{className:`pt-20 ${I&&!j?"mb-16 sm:mb-6":""} flex-1`,children:s.jsx(ne,{mode:"wait",children:s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:s.jsx(Ex,{})},e.pathname)})}),!j&&s.jsx(v2,{}),n&&s.jsx(Hg,{isOpen:b,onClose:()=>p(!1),user:n})]})}function Wa({children:t}){const{user:e,loading:n}=Ft(),r=Bn(),[i,a]=y.useState(!0),[o,c]=y.useState(!1);return y.useEffect(()=>{let l=!0;(async()=>{try{if(k.info("🔐 ProtectedRoute: Checking session for:",r.pathname),n){k.info("🔐 ProtectedRoute: AuthProvider still loading, waiting...");return}if(e){k.info("🔐 ProtectedRoute: User found in AuthProvider"),l&&(c(!0),a(!1));return}await ng();const{data:{session:h},error:m}=await Aj();if(m){k.error("ProtectedRoute: Session check error:",m),l&&(c(!1),a(!1));return}l&&(c(!!h),a(!1),k.info("🔐 ProtectedRoute: Session check complete. Valid session:",!!h))}catch(h){k.error("ProtectedRoute: Critical session check error:",h),l&&(c(!1),a(!1))}})();const{data:{subscription:u}}=L.auth.onAuthStateChange((h,m)=>{l&&(k.info("🔐 ProtectedRoute: Auth state changed:",h),c(!!m),h==="SIGNED_OUT"&&a(!1))});return()=>{l=!1,u.unsubscribe()}},[e,n,r.pathname]),n||i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-cosmic-neutral",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cosmic-secondary mx-auto mb-4"}),s.jsx("p",{className:"text-cosmic-primary/70",children:"Verifying authentication..."})]})}):!o&&!e?(k.info("🔐 ProtectedRoute: No valid session, redirecting to login"),r.pathname.startsWith("/app")&&r.pathname!=="/app/login"&&localStorage.setItem("redirectUrl",r.pathname),s.jsx(Bm,{to:"/app/login",replace:!0})):e&&!e.onboardingComplete&&r.pathname!=="/app/onboarding"?(k.info("🔐 ProtectedRoute: User needs onboarding, redirecting"),s.jsx(Bm,{to:"/app/onboarding",replace:!0})):s.jsx(s.Fragment,{children:t})}const yv=new Map,fa=new Map,_M=5*60*1e3,EM=3;function vv(t,e=1e3){const n=Date.now(),r=yv.get(t)||0,i=fa.get(t);if(i){if(n-i.lastAttempt>_M)fa.delete(t);else if(i.count>=EM)return!0}return n-r<e?!0:(yv.set(t,n),!1)}function TM(t){const e=Date.now(),n=fa.get(t)||{count:0,lastAttempt:e};n.count++,n.lastAttempt=e,fa.set(t,n)}function PM(t){return Math.min(1e3*Math.pow(2,t),3e4)}const bv="f4b0b7ef11msh663d761ebea1d2fp15c6eajsnbb69d673cce0",AM="wft-geo-db.p.rapidapi.com",DM={locations:{async search(t,e="en"){try{if(!t||t.length<2)throw new Error("Search query must be at least 2 characters");const n=`location:search:${t}:${e}`;if(vv(n)){const r=fa.get(n);if(r){const i=PM(r.count);throw new Error(`Too many requests. Please wait ${Math.ceil(i/1e3)} seconds before trying again.`)}throw new Error("Please wait a moment before searching again.")}try{const r=await fetch(`https://wft-geo-db.p.rapidapi.com/v1/geo/cities?namePrefix=${encodeURIComponent(t)}&limit=50&sort=-population`,{headers:{"X-RapidAPI-Key":bv,"X-RapidAPI-Host":AM}});if(!r.ok){if(r.status===429)throw TM(n),new Error("Rate limit exceeded. Using alternative data source.");if(r.status===401||r.status===403)throw k.error("GeoDB API authentication failed. Using alternative data source."),new Error("Authentication failed. Using alternative data source.");const o=await r.json().catch(()=>({}));throw new Error(`Failed to search cities: ${r.status} ${r.statusText}`+(o.message?` - ${o.message}`:""))}const i=await r.json();if(!i.data||i.data.length===0)throw new Error("No results from GeoDB API");const a=i.data.map(o=>({id:`geodb-${o.id}`,name:o.name,country:o.country,countryCode:o.countryCode,region:o.region,latitude:o.latitude,longitude:o.longitude,population:o.population,label:`${o.name}, ${o.country}`,value:o.name}));return fa.delete(n),{locations:a}}catch(r){return k.error("GeoDB Cities API error:",r),{locations:wv(t)}}}catch(n){return k.error("Location search failed:",n),{locations:wv(t)}}},async nearby(t,e,n=1e3,r){try{if(isNaN(t)||isNaN(e)||t<-90||t>90||e<-180||e>180)throw new Error("Invalid coordinates");const i=`location:nearby:${t},${e}:${n}`;if(vv(i,2e3))throw new Error("Please wait a moment before searching again.");const a=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=amenity:${r||"*"}&limit=15&addressdetails=1&lat=${t}&lon=${e}&radius=${n}`,{headers:{"User-Agent":"Dislink Location Service"}});if(!a.ok)throw new Error(`Failed to get nearby places: ${a.status} ${a.statusText}`);return{places:(await a.json()).map(l=>({id:l.place_id,name:l.name||l.display_name.split(",")[0],address:l.display_name,types:[l.type,l.class].filter(Boolean),latitude:parseFloat(l.lat),longitude:parseFloat(l.lon)}))}}catch(i){return k.error("Error getting nearby places:",i),{places:[{id:"mock-1",name:"Nearby Location 1",address:"Address 1",types:["restaurant"],latitude:t+.001,longitude:e+.001},{id:"mock-2",name:"Nearby Location 2",address:"Address 2",types:["cafe"],latitude:t-.001,longitude:e+.002},{id:"mock-3",name:"Nearby Location 3",address:"Address 3",types:["store"],latitude:t+.002,longitude:e-.001}]}}}}};function wv(t){const e=[{id:"nyc",name:"New York",country:"United States",countryCode:"US",region:"New York",latitude:40.7128,longitude:-74.006},{id:"la",name:"Los Angeles",country:"United States",countryCode:"US",region:"California",latitude:34.0522,longitude:-118.2437},{id:"chicago",name:"Chicago",country:"United States",countryCode:"US",region:"Illinois",latitude:41.8781,longitude:-87.6298},{id:"toronto",name:"Toronto",country:"Canada",countryCode:"CA",region:"Ontario",latitude:43.6532,longitude:-79.3832},{id:"mexico-city",name:"Mexico City",country:"Mexico",countryCode:"MX",region:"CDMX",latitude:19.4326,longitude:-99.1332},{id:"london",name:"London",country:"United Kingdom",countryCode:"GB",region:"England",latitude:51.5074,longitude:-.1278},{id:"paris",name:"Paris",country:"France",countryCode:"FR",region:"Île-de-France",latitude:48.8566,longitude:2.3522},{id:"berlin",name:"Berlin",country:"Germany",countryCode:"DE",region:"Berlin",latitude:52.52,longitude:13.405},{id:"rome",name:"Rome",country:"Italy",countryCode:"IT",region:"Lazio",latitude:41.9028,longitude:12.4964},{id:"madrid",name:"Madrid",country:"Spain",countryCode:"ES",region:"Madrid",latitude:40.4168,longitude:-3.7038},{id:"amsterdam",name:"Amsterdam",country:"Netherlands",countryCode:"NL",region:"North Holland",latitude:52.3676,longitude:4.9041},{id:"tokyo",name:"Tokyo",country:"Japan",countryCode:"JP",region:"Tokyo",latitude:35.6762,longitude:139.6503},{id:"shanghai",name:"Shanghai",country:"China",countryCode:"CN",region:"Shanghai",latitude:31.2304,longitude:121.4737},{id:"delhi",name:"New Delhi",country:"India",countryCode:"IN",region:"Delhi",latitude:28.6139,longitude:77.209},{id:"singapore",name:"Singapore",country:"Singapore",countryCode:"SG",region:"Singapore",latitude:1.3521,longitude:103.8198},{id:"seoul",name:"Seoul",country:"South Korea",countryCode:"KR",region:"Seoul",latitude:37.5665,longitude:126.978},{id:"bangkok",name:"Bangkok",country:"Thailand",countryCode:"TH",region:"Bangkok",latitude:13.7563,longitude:100.5018}],n=t.toLowerCase();return e.filter(r=>r.name.toLowerCase().includes(n)||r.country.toLowerCase().includes(n)||r.region.toLowerCase().includes(n))}function MM({isOpen:t,onClose:e,onSelect:n,onSkip:r,currentLocation:i,username:a,suggestedLocation:o,onBack:c}){const[l,d]=y.useState(""),[u,h]=y.useState(!0),[m,f]=y.useState([]),[g,w]=y.useState(null),[x,v]=y.useState(null),[b,p]=y.useState(""),[j,N]=y.useState(!1);y.useEffect(()=>{t&&(v(null),p(""),N(!1),!i&&!o?navigator.geolocation.getCurrentPosition(O=>{w({latitude:O.coords.latitude,longitude:O.coords.longitude}),S(O.coords.latitude,O.coords.longitude)},O=>{console.error("Error getting location:",O),h(!1)}):i?S(i.latitude,i.longitude):o&&S(o.latitude,o.longitude))},[t,i,o]);async function S(O,M){h(!0);try{const D=await DM.locations.nearby(O,M,1e3);if(D&&D.places){const V=D.places.map(Y=>({id:Y.id,name:Y.name,address:Y.address,category:_(Y.types),distance:E(O,M,Y.latitude,Y.longitude),coordinates:{latitude:Y.latitude,longitude:Y.longitude}}));f(V)}}catch(D){console.error("Error loading nearby locations:",D),f(C(O,M))}finally{h(!1)}}function _(O){return!O||O.length===0?"Other":O.includes("cafe")?"Café":O.includes("restaurant")?"Restaurant":O.includes("bar")?"Bar":O.includes("office")?"Office":O.includes("store")||O.includes("shop")?"Store":O.includes("hotel")?"Hotel":O.includes("airport")?"Airport":O.includes("train_station")?"Train Station":O.includes("park")?"Park":O.includes("museum")?"Museum":"Other"}function E(O,M,D,V){const U=P(D-O),Q=P(V-M),ie=Math.sin(U/2)*Math.sin(U/2)+Math.cos(P(O))*Math.cos(P(D))*Math.sin(Q/2)*Math.sin(Q/2),ye=6371*(2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie)));return parseFloat(ye.toFixed(1))}function P(O){return O*Math.PI/180}function C(O,M){return O>=38.7&&O<=38.73&&M>=-9.15&&M<=-9.14?[{id:"praca-das-flores",name:"Praça das Flores",address:"Praça das Flores, Lisboa, Portugal",category:"Park",distance:.1,coordinates:{latitude:38.7156,longitude:-9.147}},{id:"cafe-jardim",name:"Café Jardim das Flores",address:"Praça das Flores 37, Lisboa, Portugal",category:"Café",distance:.05,coordinates:{latitude:38.7158,longitude:-9.1472}},{id:"restaurante-flores",name:"Restaurante Flores",address:"Praça das Flores 42, Lisboa, Portugal",category:"Restaurant",distance:.08,coordinates:{latitude:38.7155,longitude:-9.1468}},{id:"principe-real",name:"Jardim do Príncipe Real",address:"Praça do Príncipe Real, Lisboa, Portugal",category:"Park",distance:.4,coordinates:{latitude:38.7178,longitude:-9.1487}},{id:"miradouro-santa-catarina",name:"Miradouro de Santa Catarina",address:"R. de Santa Catarina, Lisboa, Portugal",category:"Viewpoint",distance:.7,coordinates:{latitude:38.7103,longitude:-9.147}}]:[{id:"1",name:"Tech Hub Café",address:"123 Innovation St",category:"Café",distance:.2,coordinates:{latitude:O+.001,longitude:M+.001}},{id:"2",name:"Startup Center",address:"456 Venture Ave",category:"Office",distance:.3,coordinates:{latitude:O-.001,longitude:M+.002}},{id:"3",name:"Innovation Space",address:"789 Creator Blvd",category:"Coworking",distance:.4,coordinates:{latitude:O+.002,longitude:M-.001}}]}const I=O=>{v({name:O.name,latitude:O.coordinates.latitude,longitude:O.coordinates.longitude,venue:O.address}),N(!0)},A=()=>{x&&n({...x,eventContext:b.trim()||void 0})},R=()=>{const O=o||i||g||{latitude:0,longitude:0};v({name:l||"Custom Location",latitude:O.latitude,longitude:O.longitude}),N(!0)},F=()=>{r?r():n(o?{...o,eventContext:void 0}:i?{name:"Current Location",latitude:i.latitude,longitude:i.longitude}:g?{name:"Current Location",latitude:g.latitude,longitude:g.longitude}:{name:"Unknown Location",latitude:0,longitude:0})},H=m.filter(O=>{var M,D;return!l||O.name.toLowerCase().includes(l.toLowerCase())||((M=O.address)==null?void 0:M.toLowerCase().includes(l.toLowerCase()))||((D=O.category)==null?void 0:D.toLowerCase().includes(l.toLowerCase()))}),K=O=>{switch(O==null?void 0:O.toLowerCase()){case"café":return Vn;case"office":return $n;case"coworking":return zn;default:return We}};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsx(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] flex flex-col",children:j?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-shrink-0 p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"What was the occasion?"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Add context about how you met ",a]})]}),s.jsx("div",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-100 rounded-full cursor-pointer",role:"button",tabIndex:0,onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&N(!1)},children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-700 mb-4",children:[s.jsx(We,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsxs("span",{className:"font-medium",children:[x==null?void 0:x.name,(x==null?void 0:x.venue)&&s.jsxs("span",{className:"text-gray-500 ml-1",children:["(",x.venue,")"]})]})]}),s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event or Occasion (Optional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:b,onChange:O=>p(O.target.value),placeholder:"e.g., Conference, Birthday Party, Meetup, Social Event...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),s.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["This helps you remember the context of how you met ",a]})]}),s.jsxs("div",{className:"mt-6 bg-indigo-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-indigo-800 mb-2",children:"Suggestions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Lisbon Tech Meetup","Coffee Chat","Social Event","Business Meeting","Conference","Startup Pitch","Workshop","Community Gathering","Product Demo","Casual Encounter"].map(O=>s.jsx("button",{type:"button",onClick:()=>p(O),className:"px-3 py-1 bg-white border border-indigo-200 rounded-full text-xs text-indigo-700 hover:bg-indigo-100",children:O},O))})]})]}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:()=>N(!1),className:"flex items-center px-4 py-2.5 text-gray-700 hover:text-gray-900 text-base",children:[s.jsx(st,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsx("div",{className:"flex space-x-3 ml-auto",children:s.jsx("button",{onClick:A,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg text-base font-medium hover:bg-indigo-700",children:"Continue"})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Confirm Connection Location"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Where did you meet ",a,"?"]})]}),s.jsx("div",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full cursor-pointer",role:"button",tabIndex:0,onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&e()},children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("div",{className:"mt-4 relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search or enter a location name...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:l,onChange:O=>d(O.target.value)})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o&&s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-indigo-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center text-indigo-600",children:[s.jsx(Fj,{className:"h-5 w-5"}),s.jsx("span",{className:"ml-2 font-medium",children:"GPS Detected Location"})]}),s.jsx("span",{className:"text-xs text-indigo-600 bg-indigo-100 px-2 py-1 rounded-full",children:"Suggested"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>I({name:o.name,address:o.venue,coordinates:{latitude:o.latitude,longitude:o.longitude}}),role:"button",tabIndex:0,onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&I({name:o.name,address:o.venue,coordinates:{latitude:o.latitude,longitude:o.longitude}})},children:[s.jsx("h3",{className:"font-medium text-gray-900",children:o.name}),o.venue&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.venue}),o.eventContext&&s.jsx("p",{className:"text-sm text-indigo-600 font-medium mt-1",children:o.eventContext})]})]}),g&&!o&&s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-indigo-50",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"flex items-center text-indigo-600",children:[s.jsx(nT,{className:"h-5 w-5"}),s.jsx("span",{className:"ml-2 font-medium",children:"Current Location"})]})}),s.jsxs("div",{className:"bg-white rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>I({name:"Current Location",coordinates:{latitude:g.latitude,longitude:g.longitude}}),role:"button",tabIndex:0,onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&I({name:"Current Location",coordinates:{latitude:g.latitude,longitude:g.longitude}})},children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Current Location"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Use your current GPS location"})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Nearby Places"}),u?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):H.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No locations found nearby"}):s.jsx("div",{className:"space-y-2",children:H.map(O=>{const M=K(O.category);return s.jsx("div",{className:"w-full p-4 bg-white rounded-lg hover:bg-gray-50 transition-colors border border-gray-200 cursor-pointer",onClick:()=>I(O),role:"button",tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&I(O)},children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(M,{className:"h-5 w-5 text-gray-400 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:O.name}),O.address&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:O.address}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[O.category&&s.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:O.category}),O.distance&&s.jsxs("span",{className:"text-xs text-gray-500",children:[O.distance," km away"]})]})]})]})},O.id)})})]})]}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[c&&s.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2.5 text-gray-700 hover:text-gray-900 text-base",children:[s.jsx(st,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex space-x-3 ml-auto",children:[s.jsx("button",{onClick:F,className:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg text-base font-medium hover:bg-gray-50",children:"Skip"}),s.jsx("button",{onClick:R,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg text-base font-medium hover:bg-indigo-700",children:"Continue"})]})]})})]})})})})}const IM={Personal:["Close Friend","Friend of Friend","Gym Buddy","Travel Companion","Roommate","Neighbor","Study Partner","Hobby Friend","Sports Team","Band Member"],Social:["Party Friend","Concert Buddy","Gaming Friend","Book Club","Dance Partner","Art Group","Food Explorer","Adventure Buddy","Festival Friend","Coffee Mate"],"Work & Career":["Colleague","Mentor","Mentee","Client","Partner","Investor","Advisor","Consultant","Freelancer","Contractor","Vendor"],Community:["Volunteer","Organizer","Fellow Speaker","Community Leader","Alumni","Local Group","Social Cause","Support Network","Event Regular","Workshop Friend"],Creative:["Art Collaborator","Music Partner","Writing Group","Photography Buddy","Design Peer","Film Club","Theater Group","Craft Circle","Creative Project","Jam Session"]};function RM({isOpen:t,onClose:e,onSubmit:n,username:r,contacts:i=[],onBack:a}){const[o,c]=y.useState([]),[l,d]=y.useState(""),[u,h]=y.useState(null),m=ft.useMemo(()=>{const x=i.reduce((v,b)=>(b.tags.forEach(p=>{v[p]=(v[p]||0)+1}),v),{});return Object.entries(x).sort((v,b)=>b[1]-v[1]).slice(0,5).map(([v])=>v)},[i]),f=x=>{c(v=>v.includes(x)?v.filter(b=>b!==x):[...v,x]),h(null)},g=x=>{if(x.key==="Enter"&&l.trim()){x.preventDefault();const v=l.trim();o.includes(v)||c(b=>[...b,v]),d(""),h(null)}},w=()=>{if(o.length===0){h("Please select at least one tag");return}n(o),c([]),d(""),h(null)};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-lg w-full",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["What role does ",r," play in your life?"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select tags that describe your relationship"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[u&&s.jsx("div",{className:"mb-6 text-sm text-red-600 bg-red-50 p-4 rounded-lg",children:u}),m.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Frequently Used"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(x=>s.jsx("button",{onClick:()=>f(x),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${o.includes(x)?"bg-indigo-100 text-indigo-800 ring-2 ring-indigo-500 ring-offset-2":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x},x))})]}),s.jsx("div",{className:"space-y-6",children:Object.entries(IM).map(([x,v])=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:x}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(b=>s.jsx("button",{onClick:()=>f(b),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${o.includes(b)?"bg-indigo-100 text-indigo-800 ring-2 ring-indigo-500 ring-offset-2":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:b},b))})]},x))}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{htmlFor:"customTag",className:"block text-sm font-medium text-gray-900 mb-2",children:"Add Custom Tag"}),s.jsx("input",{type:"text",id:"customTag",className:"block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Type and press Enter to add",value:l,onChange:x=>d(x.target.value),onKeyDown:g})]}),o.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Selected Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(x=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-indigo-100 text-indigo-800",children:[x,s.jsx("button",{onClick:()=>f(x),className:"ml-1.5 p-0.5 hover:bg-indigo-200 rounded-full",children:s.jsx(Se,{className:"h-4 w-4"})})]},x))})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-gray-700 hover:text-gray-900",children:[s.jsx(st,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex space-x-3 ml-auto",children:[s.jsx("button",{onClick:()=>n([]),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Skip"}),s.jsx("button",{onClick:w,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700",children:"Continue"})]})]})})]})})})}const Un={professional:{title:"Professional Networks",icon:$n,color:"from-blue-50 to-white border-blue-100",iconColor:"text-blue-600",links:{linkedin:{icon:Lj,color:"#0A66C2",label:"LinkedIn",placeholder:"username (e.g., johndoe)"},github:{icon:Oj,color:"#24292F",label:"GitHub",placeholder:"username (e.g., johndoe)"},portfolio:{icon:lt,color:"#000000",label:"Portfolio",placeholder:"https://example.com"},upwork:{icon:zn,color:"#14A800",label:"Upwork",placeholder:"username"},behance:{icon:lt,color:"#1769FF",label:"Behance",placeholder:"username"},dribbble:{icon:sT,color:"#EA4C89",label:"Dribbble",placeholder:"username"}}},social:{title:"Social Media",icon:lt,color:"from-pink-50 to-white border-pink-100",iconColor:"text-pink-600",links:{instagram:{icon:lT,color:"#E4405F",label:"Instagram",placeholder:"username (without @)"},twitter:{icon:Bj,color:"#1DA1F2",label:"Twitter",placeholder:"username (without @)"},facebook:{icon:iT,color:"#1877F2",label:"Facebook",placeholder:"username"},youtube:{icon:jT,color:"#FF0000",label:"YouTube",placeholder:"username or @channel"},threads:{icon:Z4,label:"Threads",color:"#000000",placeholder:"username (without @)"},tiktok:{icon:ey,color:"#000000",label:"TikTok",placeholder:"username (without @)"}}},messaging:{title:"Messaging",icon:fs,color:"from-green-50 to-white border-green-100",iconColor:"text-green-600",links:{whatsapp:{icon:xn,color:"#25D366",label:"WhatsApp",placeholder:"+1234567890"},telegram:{icon:fs,color:"#26A5E4",label:"Telegram",placeholder:"username (without @)"},discord:{icon:uT,color:"#5865F2",label:"Discord",placeholder:"username#0000"},signal:{icon:fs,color:"#3A76F0",label:"Signal",placeholder:"+1234567890"},skype:{icon:lt,color:"#00AFF0",label:"Skype",placeholder:"username"}}},content:{title:"Content Platforms",icon:ey,color:"from-purple-50 to-white border-purple-100",iconColor:"text-purple-600",links:{medium:{icon:lt,color:"#000000",label:"Medium",placeholder:"username (without @)"},substack:{icon:fT,color:"#FF6719",label:"Substack",placeholder:"newsletter-name"},twitch:{icon:bT,color:"#9146FF",label:"Twitch",placeholder:"username"},soundcloud:{icon:ai,color:"#FF3300",label:"SoundCloud",placeholder:"username"},spotify:{icon:ai,color:"#1DB954",label:"Spotify",placeholder:"username"}}},support:{title:"Support & Donations",icon:Lt,color:"from-rose-50 to-white border-rose-100",iconColor:"text-rose-600",links:{patreon:{icon:Lt,color:"#FF424D",label:"Patreon",placeholder:"username"},buymeacoffee:{icon:Vn,color:"#FFDD00",label:"Buy Me a Coffee",placeholder:"username"},paypal:{icon:Qx,color:"#003087",label:"PayPal",placeholder:"username"},wise:{icon:Qx,color:"#00B9FF",label:"Wise",placeholder:"username"}}},scheduling:{title:"Scheduling",icon:wt,color:"from-amber-50 to-white border-amber-100",iconColor:"text-amber-600",links:{calendly:{icon:wt,color:"#006BFF",label:"Calendly",placeholder:"username"},cal_com:{icon:wt,color:"#000000",label:"Cal.com",placeholder:"username"}}},gaming:{title:"Gaming",icon:Xl,color:"from-violet-50 to-white border-violet-100",iconColor:"text-violet-600",links:{steam:{icon:Xl,color:"#000000",label:"Steam",placeholder:"username"},playstation:{icon:Xl,color:"#003791",label:"PlayStation",placeholder:"PSN ID"},xbox:{icon:Xl,color:"#107C10",label:"Xbox",placeholder:"Gamertag"}}}};function OM({isOpen:t,onClose:e,onSubmit:n,user:r,username:i,onBack:a}){const[o,c]=y.useState({}),[l,d]=y.useState([]),[u,h]=y.useState(null),m=x=>{d(v=>v.includes(x)?v.filter(b=>b!==x):[...v,x])},f=x=>{const v=Un[x];if(!v)return;const b=Object.keys(v.links).filter(N=>{var S;return(S=r.socialLinks)==null?void 0:S[N]}),p=b.every(N=>o[N]),j={...o};b.forEach(N=>{j[N]=!p}),c(j)},g=()=>{if(!Object.values(o).some(v=>v)){h("Please select at least one social platform to share");return}n(o),c({}),h(null)},w=Object.entries(Un).map(([x,v])=>{const b=Object.keys(v.links).filter(p=>{var j;return(j=r.socialLinks)==null?void 0:j[p]});return{id:x,...v,availablePlatforms:b}}).filter(x=>x.availablePlatforms.length>0);return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] flex flex-col",children:[s.jsx("div",{className:"flex-shrink-0 p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Choose What to Share"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Select which information to share with ",i]})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:w.map(x=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer flex-1",onClick:()=>m(x.id),children:[s.jsx(x.icon,{className:`h-5 w-5 ${x.iconColor}`}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[x.availablePlatforms.length," ",x.availablePlatforms.length===1?"platform":"platforms"," available"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),f(x.id)},className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Select All"}),l.includes(x.id)?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]})]}),l.includes(x.id)&&s.jsx("div",{className:"p-4 space-y-4",children:x.availablePlatforms.map(v=>{var S;const b=x.links[v],p=b.icon,j=(S=r.socialLinks)==null?void 0:S[v],N=o[v];return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${N?"border-indigo-200 bg-indigo-50":"border-gray-200 bg-white"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(p,{className:"h-5 w-5 mr-3",style:{color:b.color}}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:b.label}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:j})]})]}),s.jsx("button",{type:"button",onClick:()=>c(_=>({..._,[v]:!_[v]})),className:`p-2 rounded-full ${N?"text-indigo-600 hover:bg-indigo-100":"text-gray-400 hover:bg-gray-100"}`,children:N?s.jsx(ea,{className:"h-5 w-5"}):s.jsx(hd,{className:"h-5 w-5"})})]},v)})})]},x.id))}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2.5 text-gray-700 hover:text-gray-900 text-base",children:[s.jsx(st,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsx("div",{className:"flex space-x-3 ml-auto",children:s.jsx("button",{onClick:g,disabled:!Object.values(o).some(x=>x),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg text-base font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"})})]})})]})})})}function LM({isOpen:t,onClose:e,onSubmit:n,username:r,connections:i,onBack:a}){const[o,c]=y.useState(""),[l,d]=y.useState([]),[u,h]=y.useState("date"),m=y.useMemo(()=>[...i.filter(b=>{var p,j;return b.name.toLowerCase().includes(o.toLowerCase())||((p=b.company)==null?void 0:p.toLowerCase().includes(o.toLowerCase()))||((j=b.jobTitle)==null?void 0:j.toLowerCase().includes(o.toLowerCase()))})].sort((b,p)=>u==="date"?new Date(p.meetingDate||0).getTime()-new Date(b.meetingDate||0).getTime():b.name.localeCompare(p.name)).reduce((b,p)=>{const j=p.company||"Other";return b[j]||(b[j]=[]),b[j].push(p),b},{}),[i,o,u]),f=x=>{d(v=>v.includes(x)?v.filter(b=>b!==x):[...v,x])},g=()=>{n(l),d([])},w=()=>{n([]),d([])};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex-shrink-0 p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Mutual Connections"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Select connections you share with ",r]})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search connections...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:o,onChange:x=>c(x.target.value)})]}),s.jsxs("select",{value:u,onChange:x=>h(x.target.value),className:"pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-lg",children:[s.jsx("option",{value:"date",children:"Most Recent"}),s.jsx("option",{value:"name",children:"Name"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Object.entries(m).length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No connections found"}):s.jsx("div",{className:"space-y-8",children:Object.entries(m).map(([x,v])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:[x," (",v.length,")"]}),s.jsx("div",{className:"space-y-3",children:v.map(b=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${l.includes(b.id)?"border-indigo-200 bg-indigo-50":"border-gray-200 bg-white hover:bg-gray-50"} transition-colors`,children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[b.profileImage?s.jsx("img",{src:b.profileImage,alt:b.name,className:"h-10 w-10 rounded-full object-cover"}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-medium text-indigo-600",children:b.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:b.name}),b.jobTitle&&s.jsx("p",{className:"text-sm text-gray-500",children:b.jobTitle}),b.meetingDate&&s.jsxs("p",{className:"text-xs text-gray-400 flex items-center mt-1",children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),"Connected ",new Date(b.meetingDate).toLocaleDateString()]})]})]}),s.jsx("button",{onClick:()=>f(b.id),className:`flex items-center p-2 rounded-full transition-colors ${l.includes(b.id)?"bg-indigo-600 text-white":"text-gray-400 hover:bg-gray-100"}`,children:l.includes(b.id)?s.jsx(rt,{className:"h-5 w-5"}):s.jsx(Ea,{className:"h-5 w-5"})})]},b.id))})]},x))})}),s.jsx("div",{className:"flex-shrink-0 p-6 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-gray-700 hover:text-gray-900",children:[s.jsx(st,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex space-x-3 ml-auto",children:[s.jsx("button",{onClick:w,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Skip"}),s.jsx("button",{onClick:g,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700",children:"Continue"})]})]})})]})})})}function FM({isOpen:t,onClose:e,onSubmit:n,onSkip:r,username:i,onBack:a}){const[o,c]=y.useState(""),[l,d]=y.useState(!1),[u,h]=y.useState(""),[m,f]=y.useState(""),g=new Date;g.setDate(g.getDate()+1);const w=g.toISOString().split("T")[0],x=()=>{const p=l&&u&&m?{date:u,description:m}:void 0;n(o.trim(),p),b()},v=()=>{r(),b()},b=()=>{c(""),d(!1),h(w),f("")};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-lg w-full",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Meeting Notes"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Add some notes about your meeting with ",i]})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(aT,{className:"h-5 w-5 text-gray-400"})}),s.jsx("textarea",{value:o,onChange:p=>c(p.target.value),placeholder:`What did you discuss with ${i}?`,className:"w-full pl-10 pr-4 py-2 h-32 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none"})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"These notes will help you remember the context of your meeting."}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("button",{type:"button",onClick:()=>d(!l),className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-700",children:[s.jsx(rr,{className:"h-4 w-4 mr-1"}),l?"Remove follow-up":"Add follow-up reminder"]}),s.jsx(ne,{children:l&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"mt-4 space-y-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Follow-up Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(wt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",value:u,onChange:p=>h(p.target.value),min:w,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Follow-up Description"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(qe,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:m,onChange:p=>f(p.target.value),placeholder:"What needs to be done?",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})})})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-gray-700 hover:text-gray-900",children:[s.jsx(st,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex space-x-3 ml-auto",children:[s.jsx("button",{onClick:v,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Skip"}),s.jsx("button",{onClick:x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700",children:"Continue"})]})]})})]})})})}function $M({onComplete:t}){const e=ft.useMemo(()=>Array.from({length:150},(n,r)=>({id:r,x:Math.random()*window.innerWidth-window.innerWidth/2,y:-20-Math.random()*50,rotation:Math.random()*360,scale:.5+Math.random()*.5,color:["#FFD700","#FF69B4","#87CEEB","#98FB98","#DDA0DD","#F0E68C","#E6E6FA","#FFA500","#00CED1","#FF6B6B"][Math.floor(Math.random()*10)]})),[]);return ft.useEffect(()=>{const n=setTimeout(t,3e3);return()=>clearTimeout(n)},[t]),s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50",children:[s.jsx(T.div,{initial:{opacity:0,scale:.5,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:50},transition:{duration:.5},className:"absolute top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center z-50",children:s.jsxs("div",{className:"bg-white bg-opacity-90 rounded-xl shadow-lg p-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-indigo-600 mb-4",children:"🎉 Welcome to Dislink! 🎊"}),s.jsx("p",{className:"text-xl text-gray-700",children:"Your account is ready to go"})]})}),e.map(n=>s.jsx(T.div,{initial:{x:`calc(50% + ${n.x}px)`,y:n.y,scale:0,rotate:0},animate:{x:`calc(50% + ${n.x+(Math.random()*200-100)}px)`,y:`calc(100% + ${20+Math.random()*50}px)`,scale:n.scale,rotate:n.rotation+Math.random()*360},transition:{duration:2.5+Math.random(),ease:[.23,.51,.32,.95],delay:Math.random()*.2},className:"absolute w-4 h-4",style:{originX:.5,originY:.5},children:s.jsx("svg",{viewBox:"0 0 15 15",className:"w-full h-full",children:Math.random()>.5?s.jsx("rect",{width:"15",height:"15",fill:n.color,opacity:"0.8"}):s.jsx("circle",{cx:"7.5",cy:"7.5",r:"7.5",fill:n.color,opacity:"0.8"})})},n.id))]})}const VM=[{id:"vibe-setter",name:"Vibe Setter",description:"Creates the perfect atmosphere",icon:dt},{id:"energy-booster",name:"Energy Booster",description:"Brings energy to the group",icon:oi},{id:"smooth-operator",name:"Smooth Operator",description:"Handles things with style",icon:Ze},{id:"idea-spark",name:"Idea Spark",description:"Ignites brilliant conversations",icon:X4},{id:"detail-ninja",name:"Detail Ninja",description:"Catches the little things",icon:ea},{id:"mood-maven",name:"Mood Maven",description:"Shifts vibes to positive ones",icon:xT},{id:"reliable-one",name:"The Reliable One",description:"Go-to problem solver",icon:Uj},{id:"wildcard-wizard",name:"Wildcard Wizard",description:"Surprises in the best way",icon:wT}];function UM({isOpen:t,onClose:e,onSubmit:n,onSkip:r,username:i,onBack:a}){const[o,c]=y.useState([]),l=h=>{c(m=>m.includes(h)?m.filter(f=>f!==h):[...m,h])},d=()=>{n(o),c([])},u=()=>{r(),c([])};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-lg w-full",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Give a badge to ",i]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose badges that reflect your interaction"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[60vh] overflow-y-auto",children:VM.map(h=>{const m=h.icon,f=o.includes(h.id);return s.jsx(T.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(h.id),className:`cursor-pointer p-4 rounded-xl border-2 transition-colors ${f?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${f?"bg-indigo-500 text-white":"bg-gray-100 text-gray-500"}`,children:s.jsx(m,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-medium ${f?"text-indigo-700":"text-gray-900"}`,children:h.name}),s.jsx("p",{className:"text-sm text-gray-500",children:h.description})]})]})},h.id)})}),s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-gray-700 hover:text-gray-900",children:[s.jsx(st,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex space-x-3 ml-auto",children:[s.jsx("button",{onClick:u,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Skip"}),s.jsx("button",{onClick:d,className:`px-4 py-2 rounded-lg text-sm font-medium ${o.length>0?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:o.length===0,children:o.length>0?"Give Badges":"Select Badges"})]})]})})]})})})}function S2({currentTier:t,onChange:e,disabled:n=!1}){const r=[{value:1,label:"Inner Circle",description:"Close connections, frequent contact",icon:gl,color:"bg-red-100 text-red-600 border-red-200",activeColor:"bg-red-500 text-white border-red-600"},{value:2,label:"Middle Circle",description:"Regular connections, occasional contact",icon:Ze,color:"bg-amber-100 text-amber-600 border-amber-200",activeColor:"bg-amber-500 text-white border-amber-600"},{value:3,label:"Outer Circle",description:"Acquaintances, infrequent contact",icon:Ea,color:"bg-blue-100 text-blue-600 border-blue-200",activeColor:"bg-blue-500 text-white border-blue-600"}];return s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"flex flex-col space-y-3",children:r.map(i=>{const a=t===i.value,o=i.icon;return s.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(i.value),disabled:n,className:`flex items-center p-3 rounded-lg border-2 transition-colors ${a?i.activeColor:`${i.color} hover:bg-opacity-80`} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsx("div",{className:"flex-shrink-0 mr-3",children:s.jsx(o,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:`font-medium ${a?"text-white":""}`,children:i.label}),s.jsx("p",{className:`text-sm ${a?"text-white text-opacity-90":"text-gray-600"}`,children:i.description})]}),s.jsx("div",{className:"flex-shrink-0 ml-2",children:a?s.jsx(eT,{className:"h-5 w-5"}):s.jsx(rs,{className:"h-5 w-5"})})]},i.value)})})})}function BM({isOpen:t,onClose:e,onSubmit:n,currentTier:r,contactName:i,onBack:a}){const[o,c]=ft.useState(r);ft.useEffect(()=>{t&&c(r)},[t,r]);const l=()=>{o&&n(o)};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Categorize ",i]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select which relationship circle this contact belongs to"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx(S2,{currentTier:o,onChange:c}),s.jsxs("div",{className:"mt-6 bg-indigo-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-indigo-800 mb-2",children:"Why categorize your contacts?"}),s.jsx("p",{className:"text-sm text-indigo-700",children:"Organizing your contacts into circles helps you prioritize your relationships and manage your network more effectively. This allows you to focus your time and energy on the connections that matter most to you."})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[a&&s.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-gray-700 hover:text-gray-900",children:[s.jsx(st,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex space-x-3 ml-auto",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:l,disabled:!o,className:`px-4 py-2 rounded-lg text-sm font-medium ${o?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Save"})]})]})})]})})})}function zM({isOpen:t,onClose:e,onConfirm:n,contactName:r}){const i=[`Are you sure you want to leave ${r} on read? That's cold! 🥶`,`${r} will be devastated! Are you really going to break their digital heart? 💔`,`This is your chance to avoid another awkward conversation with ${r}. Proceed?`,`${r} might cry digital tears if you decline. Still want to do this? 😢`,`Warning: Declining ${r} may result in one less holiday card this year. Continue?`,`${r} was probably just going to send you cat memes anyway. Decline anyway?`,`Plot twist: ${r} is secretly a relationship building guru. Sure you want to miss out?`,`Your relationship building score will drop by 5 points if you decline ${r}. Just kidding! Or are we?`,`${r} might be your future boss. No pressure or anything! Still declining?`,`Are you certain you want to send ${r} to the shadow realm of declined connections?`],a=i[Math.floor(Math.random()*i.length)];return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-amber-100 mb-4",children:s.jsx(Se,{className:"h-8 w-8 text-amber-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Decline Connection"}),s.jsx("p",{className:"text-gray-600",children:a})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700",children:"Yes, Decline"})]})]})})})}const _f=({contact:t,onEdit:e,onDelete:n,onAccept:r,onDecline:i,onUpdateTier:a,contacts:o=[]})=>{const c=Ke(),{user:l}=Ft(),[d,u]=y.useState(!1),[h,m]=y.useState(!1),[f,g]=y.useState(!1),[w,x]=y.useState(!1),[v,b]=y.useState(!1),[p,j]=y.useState(!1),[N,S]=y.useState(!1),[_,E]=y.useState(!1),[P,C]=y.useState(!1),[I,A]=y.useState(!1),[R,F]=y.useState(!1),[H,K]=y.useState(!1),O=y.useRef(null),M=y.useRef(null),D=y.useRef(null),[V,Y]=y.useState({top:0,left:0}),[U,Q]=y.useState(),[ie,fe]=y.useState([]),[ye,De]=y.useState({}),[z,$]=y.useState([]),[ee,de]=y.useState([]),[oe,J]=y.useState(),[_e,be]=y.useState(!1),ut=!!(r&&i),$t=t.notes[0],jt=()=>{Q(void 0),fe([]),De({}),$([]),de([]),J(void 0),u(!1),m(!1),g(!1),x(!1),b(!1),j(!1),S(!1),K(!1)},Et=ae=>{Q(ae),u(!1),m(!0)},Fe=ae=>{fe(ae),m(!1),g(!0)},wr=ae=>{De(ae),g(!1),x(!0)},cn=ae=>{$(ae),x(!1),b(!0)},_l=ae=>{de(ae),b(!1),j(!0)},El=async(ae,un)=>{J(ae),await Tu()},Tl=async ae=>{if(a)try{K(!0),await a(t.id,ae),S(!1)}catch(un){k.error("Error updating contact tier:",un)}finally{K(!1)}},Tu=async()=>{if(r&&U)try{K(!0),k.info("Accepting connection request",{contactId:t.id,location:U,tagsCount:ie.length,sharedLinksCount:Object.keys(ye).filter(ae=>ye[ae]).length,mutualConnectionsCount:z.length,hasNote:!!oe,badgesCount:ee.length}),await r(t.id,U,ie,ye,z,oe,ee),E(!0),setTimeout(()=>{E(!1),jt()},3e3)}catch(ae){k.error("Error accepting connection request:",ae),jt()}j(!1)},Pu=()=>{t.requestLocation?Et(t.requestLocation):Et({name:"Unknown Location",latitude:0,longitude:0})},Au=()=>{Fe([])},Du=()=>{wr({})},Mu=()=>{cn([])},B=()=>{_l([])},ue=()=>{El("")},ke=()=>{ut||c(`/app/contact/${t.id}`)},dn=ae=>{if(ae.stopPropagation(),O.current){const un=O.current.getBoundingClientRect(),c0=window.innerWidth,d0=window.innerHeight,u0=280,h0=150;let Ma=un.left,Ou=un.top;Ma+u0>c0-16&&(Ma=c0-u0-16),Ou+h0>d0-16&&(Ou=d0-h0-16),Ma=Math.max(16,Ma),Y({top:Ou+window.scrollY,left:Ma})}C(!P)},Hn=ae=>{ae.stopPropagation(),!H&&u(!0)},Ps=ae=>{ae.stopPropagation(),!H&&A(!0)},Iu=ae=>{ae.stopPropagation(),F(!R)},Ru=ae=>{ae.stopPropagation(),F(!1),S(!0)},Pl=async()=>{if(i)try{K(!0),k.info("Declining connection request",{contactId:t.id}),await i(t.id)}catch(ae){k.error("Error declining connection request:",ae)}finally{K(!1),A(!1)}};y.useEffect(()=>{function ae(un){M.current&&O.current&&!M.current.contains(un.target)&&!O.current.contains(un.target)&&C(!1),D.current&&!D.current.contains(un.target)&&F(!1)}return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]);const HS=()=>{if(!t.tier)return null;const ae={1:"bg-gradient-to-r from-red-100 to-red-50 text-red-800 border-red-200",2:"bg-gradient-to-r from-amber-100 to-amber-50 text-amber-800 border-amber-200",3:"bg-gradient-to-r from-blue-100 to-blue-50 text-blue-800 border-blue-200"},un={1:"Inner Circle",2:"Middle Circle",3:"Outer Circle"};return s.jsxs("div",{className:`absolute top-2 right-2 px-2 py-0.5 rounded-full text-xs font-medium ${ae[t.tier]} border shadow-sm`,children:[s.jsx(rs,{className:"h-3 w-3 inline mr-1"}),un[t.tier]]})},qS=()=>s.jsxs("div",{className:"p-6 relative",onMouseEnter:()=>be(!0),onMouseLeave:()=>be(!1),children:[HS(),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[t.profileImage?s.jsx("img",{src:t.profileImage,alt:t.name,className:"h-12 w-12 rounded-full object-cover shadow-sm border border-gray-100"}):s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-indigo-100 to-indigo-50 flex items-center justify-center shadow-sm border border-indigo-200",children:s.jsx("span",{className:"text-xl font-medium text-indigo-600",children:t.name.charAt(0)})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.name}),s.jsx(ne,{children:_e&&s.jsx(T.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.2},children:s.jsx(dt,{className:"h-4 w-4 text-amber-400"})})}),!ut&&t.notes.length>0&&s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{ref:O,onClick:dn,className:"p-2 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",role:"button",tabIndex:0,onKeyDown:ae=>{(ae.key==="Enter"||ae.key===" ")&&dn(ae)},"aria-label":"Show notes",children:s.jsx(xn,{className:"h-5 w-5 text-gray-400"})}),s.jsx(ne,{children:P&&$t&&s.jsxs(T.div,{ref:M,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},style:{position:"fixed",top:`${V.top}px`,left:`${V.left}px`,zIndex:50,maxWidth:"280px",width:"100%"},className:"bg-white rounded-lg shadow-lg p-4",children:[s.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-wrap break-words max-h-[200px] overflow-y-auto",children:$t.content}),s.jsxs("div",{className:"mt-2 text-xs text-gray-400 flex items-center",children:[s.jsx(qe,{className:"h-3 w-3 mr-1"}),new Date($t.createdAt).toLocaleDateString()]})]})})]})]}),t.jobTitle&&t.company&&s.jsxs("p",{className:"mt-1 text-sm text-gray-500 flex items-center",children:[s.jsx($n,{className:"h-4 w-4 mr-1.5"}),s.jsxs("span",{className:"truncate",children:[t.jobTitle," at ",t.company]})]}),ut&&s.jsxs("div",{className:"mt-3 space-y-1.5",children:[t.requestDate&&s.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[s.jsx(wt,{className:"h-4 w-4 mr-1.5 text-gray-400"}),s.jsxs("span",{className:"truncate",children:["Connected on ",new Date(t.requestDate).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})]})]}),t.requestLocation&&s.jsxs("p",{className:"text-sm text-gray-600 flex items-start",children:[s.jsx(We,{className:"h-4 w-4 mr-1.5 text-gray-400 mt-0.5"}),s.jsxs("span",{children:[t.requestLocation.name,t.requestLocation.venue&&s.jsxs("span",{className:"ml-1 text-gray-500",children:["@ ",t.requestLocation.venue]}),t.requestLocation.eventContext&&s.jsx("span",{className:"block text-indigo-600",children:t.requestLocation.eventContext})]})]})]})]})]}),ut?s.jsxs("div",{className:"flex -mt-1 -mr-1",children:[s.jsx("div",{onClick:Hn,className:`p-1.5 sm:p-2 text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 transition-colors cursor-pointer rounded-full ${H?"opacity-50 cursor-not-allowed":""}`,role:"button",tabIndex:0,onKeyDown:ae=>{(ae.key==="Enter"||ae.key===" ")&&Hn(ae)},"aria-label":"Accept request",children:s.jsx(rt,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),s.jsx("div",{onClick:Ps,className:`ml-1 p-1.5 sm:p-2 text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors cursor-pointer rounded-full ${H?"opacity-50 cursor-not-allowed":""}`,role:"button",tabIndex:0,onKeyDown:ae=>{(ae.key==="Enter"||ae.key===" ")&&Ps(ae)},"aria-label":"Decline request",children:s.jsx(Se,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{onClick:Iu,className:"p-1.5 sm:p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors cursor-pointer rounded-full",role:"button",tabIndex:0,onKeyDown:ae=>{(ae.key==="Enter"||ae.key===" ")&&Iu(ae)},"aria-label":"Contact options",children:s.jsx(hT,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),s.jsx(ne,{children:R&&s.jsx(T.div,{ref:D,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg z-10 border border-gray-200 overflow-hidden",children:s.jsxs("div",{children:[s.jsxs("button",{onClick:Ru,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 flex items-center border-b border-gray-100",children:[s.jsx(rs,{className:"h-4 w-4 mr-2 text-indigo-500"}),"Set Relationship Circle"]}),s.jsxs("button",{onClick:ae=>{ae.stopPropagation(),F(!1),e(t)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Contact"]}),s.jsxs("button",{onClick:ae=>{ae.stopPropagation(),F(!1),n(t.id)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 hover:text-red-700 flex items-center border-t border-gray-100",children:[s.jsx("svg",{className:"h-4 w-4 mr-2 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Contact"]})]})})})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[t.meetingDate&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(wt,{className:"h-4 w-4 mr-1.5 text-indigo-400"}),s.jsxs("span",{className:"truncate",children:["Connected on ",new Date(t.meetingDate).toLocaleDateString()]})]}),t.meetingLocation&&s.jsxs("div",{className:"flex items-start text-sm text-gray-500",children:[s.jsx(We,{className:"h-4 w-4 mr-1.5 mt-0.5 text-indigo-400"}),s.jsxs("div",{children:[t.meetingLocation.name,t.meetingLocation.venue&&` - ${t.meetingLocation.venue}`,t.meetingLocation.eventContext&&s.jsx("span",{className:"block text-indigo-600 font-medium mt-1",children:t.meetingLocation.eventContext})]})]})]}),t.tags&&t.tags.length>0&&s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.tags.map((ae,un)=>s.jsxs(T.span,{whileHover:{scale:1.05},className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 border border-indigo-200 shadow-sm",children:[s.jsx(bl,{className:"h-3 w-3 mr-1"}),ae]},un))})]});return s.jsxs(s.Fragment,{children:[s.jsx(T.div,{whileHover:{y:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},className:`bg-white rounded-xl shadow-sm transition-all duration-200 overflow-hidden ${ut?"":"cursor-pointer"} border border-gray-100`,onClick:ke,role:ut?void 0:"button",tabIndex:ut?void 0:0,onKeyDown:ae=>{!ut&&(ae.key==="Enter"||ae.key===" ")&&ke()},children:s.jsx(qS,{})}),l&&s.jsxs(s.Fragment,{children:[s.jsx(MM,{isOpen:d,onClose:()=>u(!1),onSelect:Et,onSkip:Pu,currentLocation:void 0,username:t.name.split(" ")[0],suggestedLocation:t.requestLocation}),s.jsx(RM,{isOpen:h,onClose:()=>m(!1),onSubmit:Fe,onSkip:Au,username:t.name.split(" ")[0],contacts:o,onBack:()=>{m(!1),u(!0)}}),s.jsx(OM,{isOpen:f,onClose:()=>g(!1),onSubmit:wr,onSkip:Du,user:l,username:t.name.split(" ")[0],onBack:()=>{g(!1),m(!0)}}),s.jsx(LM,{isOpen:w,onClose:()=>x(!1),onSubmit:cn,onSkip:Mu,username:t.name.split(" ")[0],connections:o,onBack:()=>{x(!1),g(!0)}}),s.jsx(UM,{isOpen:v,onClose:()=>b(!1),onSubmit:_l,onSkip:B,username:t.name.split(" ")[0],onBack:()=>{b(!1),x(!0)}}),s.jsx(FM,{isOpen:p,onClose:()=>j(!1),onSubmit:El,onSkip:ue,username:t.name.split(" ")[0],onBack:()=>{j(!1),b(!0)}}),s.jsx(BM,{isOpen:N,onClose:()=>S(!1),onSubmit:Tl,currentTier:t.tier,contactName:t.name.split(" ")[0]}),s.jsx(zM,{isOpen:I,onClose:()=>A(!1),onConfirm:Pl,contactName:t.name.split(" ")[0]})]}),s.jsx(ne,{children:_&&s.jsx($M,{onComplete:()=>{E(!1),jt()}})})]})};function WM({totalConnections:t,pendingRequests:e}){const n=Ke(),r=()=>{n("/app"),setTimeout(()=>{const i=document.getElementById("connection-requests");i&&i.scrollIntoView({behavior:"smooth"})},100)};return s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:[s.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-indigo-100 flex items-center justify-center",children:s.jsx(Ze,{className:"h-6 w-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Connections"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t})]})]}),s.jsxs("button",{onClick:()=>n("/app/contacts"),className:"flex items-center text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:["View All",s.jsx(Ot,{className:"h-4 w-4 ml-1"})]})]})}),s.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-amber-100 flex items-center justify-center",children:s.jsx(qe,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending Requests"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e})]})]}),e>0&&s.jsxs("button",{onClick:r,className:"flex items-center text-sm text-amber-600 hover:text-amber-700 font-medium",children:["Review",s.jsx(Ot,{className:"h-4 w-4 ml-1"})]})]})})]})}function jv(){const t=new Date("2024-01-01").getTime(),e=new Date().getTime(),n=Math.floor((e-t)/(1e3*60*60*24)),r=1e3,i=500,a=Math.random()*100,o=r+n*i+a;return Math.floor(o)}function HM(){const[t,e]=ft.useState(jv());ft.useEffect(()=>{const i=setInterval(()=>{e(jv())},6e4);return()=>clearInterval(i)},[]);const n=t.toLocaleString("en-US"),r={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.5}}};return s.jsx(T.div,{variants:r,initial:"hidden",animate:"visible",className:"bg-gradient-to-br from-indigo-600 to-indigo-800 p-4 rounded-xl shadow-md text-white mb-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center",children:s.jsx(lt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-white/80 uppercase tracking-wide",children:"Global Network"}),s.jsx("p",{className:"text-xl font-bold",children:n})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-white/10 backdrop-blur-sm shadow-inner",children:[s.jsx(oi,{className:"h-3 w-3 text-yellow-300 mr-1"}),s.jsx("span",{className:"text-xs font-medium",children:"Growing"})]})})]})})}function qM({followUps:t,onToggleFollowUp:e,onViewContact:n}){Ke();const[r,i]=y.useState(new Date),[a,o]=y.useState(null),[c,l]=y.useState(null),d=r.getMonth(),u=r.getFullYear(),m=new Date(u,d,1).getDay(),f=new Date(u,d+1,0).getDate(),g=Array.from({length:f},(C,I)=>I+1),w=Array.from({length:m},(C,I)=>I),x=new Date,v=C=>x.getDate()===C&&x.getMonth()===d&&x.getFullYear()===u,b=C=>t.filter(I=>{const A=new Date(I.dueDate);return A.getDate()===C&&A.getMonth()===d&&A.getFullYear()===u}),p=C=>b(C).some(A=>{const R=new Date(A.dueDate);return!A.completed&&R<x}),j=C=>v(C)?b(C).some(A=>!A.completed):!1,N=()=>{i(new Date(u,d-1,1)),o(null)},S=()=>{i(new Date(u,d+1,1)),o(null)},_=C=>C.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),E=a?b(a.getDate()):[],P=C=>{const I=new Date;I.setHours(0,0,0,0);const A=new Date(C);A.setHours(0,0,0,0);const R=A.getTime()-I.getTime(),F=Math.round(R/(1e3*60*60*24));return F===0?"Today":F===1?"Tomorrow":F===-1?"Yesterday":F<0?`${Math.abs(F)} days ago`:F>0?`In ${F} days`:C.toLocaleDateString()};return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(wt,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Follow-up Calendar"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:N,className:"p-1 rounded-full hover:bg-gray-100",children:s.jsx(tT,{className:"h-5 w-5 text-gray-500"})}),s.jsx("span",{className:"text-sm font-medium",children:r.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsx("button",{onClick:S,className:"p-1 rounded-full hover:bg-gray-100",children:s.jsx(sg,{className:"h-5 w-5 text-gray-500"})})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((C,I)=>s.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-1",children:C},I)),w.map((C,I)=>s.jsx("div",{className:"h-10 rounded-lg"},`blank-${I}`)),g.map(C=>{const A=b(C).length>0,R=p(C),F=j(C),H=(a==null?void 0:a.getDate())===C&&(a==null?void 0:a.getMonth())===d&&(a==null?void 0:a.getFullYear())===u;return s.jsxs(T.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{A&&o(new Date(u,d,C))},className:`h-10 flex items-center justify-center rounded-lg cursor-pointer relative ${v(C)?"bg-indigo-100 text-indigo-700 font-medium":H?"bg-indigo-500 text-white font-medium":A?"hover:bg-gray-100":""}`,children:[s.jsx("span",{className:`text-sm ${H?"text-white":""}`,children:C}),A&&s.jsxs("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex space-x-1",children:[R&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500"}),F&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-amber-500"}),!R&&!F&&A&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-indigo-500"})]})]},C)})]}),s.jsx(ne,{children:a&&E.length>0&&s.jsxs(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 border-t border-gray-200 pt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:_(a)}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-1",children:E.map(C=>s.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-3 rounded-lg border ${C.completed?"bg-gray-50 border-gray-200":new Date(C.dueDate)<x?"bg-red-50 border-red-200":v(a.getDate())?"bg-amber-50 border-amber-200":"bg-indigo-50 border-indigo-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("button",{onClick:()=>n(C.contactId),className:"text-sm font-medium text-gray-900 hover:text-indigo-600 truncate",children:C.contactName})}),s.jsx("div",{className:`mt-1 text-sm ${C.completed?"text-gray-500 line-through":"text-gray-700"}`,children:C.description}),s.jsxs("div",{className:`mt-1 flex items-center text-xs ${C.completed?"text-gray-400":new Date(C.dueDate)<x?"text-red-600":v(a.getDate())?"text-amber-600":"text-indigo-600"}`,children:[C.completed?s.jsx(wn,{className:"h-3 w-3 mr-1"}):new Date(C.dueDate)<x?s.jsx(fl,{className:"h-3 w-3 mr-1"}):s.jsx(qe,{className:"h-3 w-3 mr-1"}),P(C.dueDate)]})]}),s.jsxs("div",{className:"ml-4 flex-shrink-0 flex",children:[s.jsx("button",{onClick:()=>e(C.contactId,C.id,!C.completed),className:`p-1 rounded-full ${C.completed?"text-gray-400 hover:text-red-600 hover:bg-red-50":"text-gray-400 hover:text-green-600 hover:bg-green-50"}`,title:C.completed?"Mark as incomplete":"Mark as complete",children:C.completed?s.jsx(zj,{className:"h-5 w-5"}):s.jsx(wn,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(C.contactId),className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-full ml-1",title:"View contact",children:s.jsx(Ct,{className:"h-5 w-5"})})]})]})},C.id))})]})}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-gray-500 justify-center border-t border-gray-100 pt-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500 mr-1"}),s.jsx("span",{children:"Overdue"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500 mr-1"}),s.jsx("span",{children:"Due Today"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-indigo-500 mr-1"}),s.jsx("span",{children:"Upcoming"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-300 mr-1"}),s.jsx("span",{children:"Completed"})]})]})]})]})}async function el(){try{const{data:{user:t}}=await L.auth.getUser();if(!t)return k.warn("No authenticated user for listing contacts"),[];const{data:e,error:n}=await L.from("contacts").select(`
        *,
        contact_notes(*),
        contact_followups(*)
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw k.error("Error fetching contacts:",n),n;return(e==null?void 0:e.map(r=>{var i,a;return{id:r.id,userId:r.user_id,name:r.name,email:r.email,phone:r.phone,jobTitle:r.job_title,company:r.company,profileImage:r.profile_image,coverImage:r.cover_image,bio:r.bio,interests:r.interests||[],socialLinks:r.social_links||{},meetingDate:r.meeting_date?new Date(r.meeting_date):void 0,meetingLocation:r.meeting_location,meetingContext:r.meeting_context,tags:r.tags||[],tier:r.tier,notes:((i=r.contact_notes)==null?void 0:i.map(o=>({id:o.id,content:o.content,createdAt:new Date(o.created_at)})))||[],followUps:((a=r.contact_followups)==null?void 0:a.map(o=>({id:o.id,description:o.description,dueDate:new Date(o.due_date),completed:o.completed,createdAt:new Date(o.created_at)})))||[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),firstMetAt:r.first_met_at?new Date(r.first_met_at):void 0,firstMetLocation:r.first_met_location,connectionMethod:r.connection_method||"manual"}}))||[]}catch(t){throw k.error("Error listing contacts:",t),t}}async function Ef(t=3){try{const{data:{user:e}}=await L.auth.getUser();if(!e)return[];const{data:n,error:r}=await L.from("contacts").select("*").eq("user_id",e.id).not("meeting_date","is",null).order("meeting_date",{ascending:!1}).limit(t);if(r)throw r;return(n==null?void 0:n.map(i=>({id:i.id,userId:i.user_id,name:i.name,email:i.email,phone:i.phone,jobTitle:i.job_title,company:i.company,profileImage:i.profile_image,coverImage:i.cover_image,bio:i.bio,interests:i.interests||[],socialLinks:i.social_links||{},meetingDate:i.meeting_date?new Date(i.meeting_date):void 0,meetingLocation:i.meeting_location,meetingContext:i.meeting_context,tags:i.tags||[],tier:i.tier,notes:[],followUps:[],createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){throw k.error("Error listing recent contacts:",e),e}}async function Mh(){try{const{data:{user:t}}=await L.auth.getUser();if(!t)return[];const{data:e,error:n}=await L.from("connection_requests").select("*").eq("target_user_id",t.id).eq("status","pending").order("created_at",{ascending:!1});if(n)throw n;return(e==null?void 0:e.map(r=>{var i;return{id:r.id,userId:r.requester_id,name:r.requester_name,email:r.requester_email,jobTitle:r.requester_job_title,company:r.requester_company,profileImage:r.requester_profile_image,bio:r.requester_bio,interests:r.requester_interests||[],socialLinks:r.requester_social_links||{},tags:[],tier:3,notes:[],followUps:[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),requestDate:new Date(r.created_at),requestLocation:(i=r.metadata)==null?void 0:i.location}}))||[]}catch(t){throw k.error("Error listing connection requests:",t),t}}async function GM(t){var e,n;try{const{data:{user:r}}=await L.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:i,error:a}=await L.from("contacts").select(`
        *,
        contact_notes(*),
        contact_followups(*)
      `).eq("id",t).eq("user_id",r.id).single();if(i&&!a)return{id:i.id,userId:i.user_id,name:i.name,email:i.email,phone:i.phone,jobTitle:i.job_title,company:i.company,profileImage:i.profile_image,coverImage:i.cover_image,bio:i.bio,interests:i.interests||[],socialLinks:i.social_links||{},meetingDate:i.meeting_date?new Date(i.meeting_date):void 0,meetingLocation:i.meeting_location,meetingContext:i.meeting_context,tags:i.tags||[],tier:i.tier,notes:((e=i.contact_notes)==null?void 0:e.map(l=>({id:l.id,content:l.content,createdAt:new Date(l.created_at)})))||[],followUps:((n=i.contact_followups)==null?void 0:n.map(l=>({id:l.id,description:l.description,dueDate:new Date(l.due_date),completed:l.completed,createdAt:new Date(l.created_at)})))||[],createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)};const{data:o,error:c}=await L.from("connection_requests").select("*").eq("id",t).eq("target_user_id",r.id).single();if(o&&!c)return{id:o.id,userId:o.requester_id,name:o.requester_name,email:o.requester_email,jobTitle:o.requester_job_title,company:o.requester_company,profileImage:o.requester_profile_image,bio:o.requester_bio,interests:o.requester_interests||[],socialLinks:o.requester_social_links||{},tags:[],tier:3,notes:[],followUps:[],createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)};throw new Error("Contact not found")}catch(r){throw k.error("Error getting contact:",r),r}}async function KM(t){try{const{data:{user:e}}=await L.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:n,error:r}=await L.from("contacts").insert({user_id:e.id,name:t.name,email:t.email,phone:t.phone,job_title:t.jobTitle,company:t.company,profile_image:t.profileImage,cover_image:t.coverImage,bio:t.bio,interests:t.interests,social_links:t.socialLinks,meeting_date:t.meetingDate,meeting_location:t.meetingLocation,meeting_context:t.meetingContext,tags:t.tags,tier:t.tier||3,first_met_at:t.meetingDate,first_met_location:t.meetingLocation,connection_method:"manual"}).select().single();if(r)throw r;return{id:n.id,userId:n.user_id,name:n.name,email:n.email,phone:n.phone,jobTitle:n.job_title,company:n.company,profileImage:n.profile_image,coverImage:n.cover_image,bio:n.bio,interests:n.interests||[],socialLinks:n.social_links||{},meetingDate:n.meeting_date?new Date(n.meeting_date):void 0,meetingLocation:n.meeting_location,meetingContext:n.meeting_context,tags:n.tags||[],tier:n.tier,notes:[],followUps:[],createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)}}catch(e){throw k.error("Error creating contact:",e),e}}async function C2(t,e){try{const{data:{user:n}}=await L.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:r,error:i}=await L.from("contacts").update({tier:e,updated_at:new Date().toISOString()}).eq("id",t).eq("user_id",n.id).select().single();if(i)throw i;return{id:r.id,userId:r.user_id,name:r.name,email:r.email,phone:r.phone,jobTitle:r.job_title,company:r.company,profileImage:r.profile_image,coverImage:r.cover_image,bio:r.bio,interests:r.interests||[],socialLinks:r.social_links||{},meetingDate:r.meeting_date?new Date(r.meeting_date):void 0,meetingLocation:r.meeting_location,meetingContext:r.meeting_context,tags:r.tags||[],tier:r.tier,notes:[],followUps:[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)}}catch(n){throw k.error("Error updating contact tier:",n),n}}async function YM(t,e){try{const{data:{user:n}}=await L.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:r,error:i}=await L.from("contacts").update({social_links:e,updated_at:new Date().toISOString()}).eq("id",t).eq("user_id",n.id).select().single();if(i)throw i;return{id:r.id,userId:r.user_id,name:r.name,email:r.email,phone:r.phone,jobTitle:r.job_title,company:r.company,profileImage:r.profile_image,coverImage:r.cover_image,bio:r.bio,interests:r.interests||[],socialLinks:r.social_links||{},meetingDate:r.meeting_date?new Date(r.meeting_date):void 0,meetingLocation:r.meeting_location,meetingContext:r.meeting_context,tags:r.tags||[],tier:r.tier,notes:[],followUps:[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)}}catch(n){throw k.error("Error updating contact sharing:",n),n}}async function QM(t,e){try{const{data:{user:n}}=await L.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:r}=await L.from("contacts").select("id").eq("id",t).eq("user_id",n.id).single();if(!r)throw new Error("Contact not found");const{data:i,error:a}=await L.from("contact_notes").insert({contact_id:t,content:e}).select().single();if(a)throw a;return await L.from("contacts").update({updated_at:new Date().toISOString()}).eq("id",t),{id:i.id,content:i.content,createdAt:new Date(i.created_at)}}catch(n){throw k.error("Error adding note:",n),n}}async function JM(t,e){try{const{data:{user:n}}=await L.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:r}=await L.from("contacts").select("id").eq("id",t).eq("user_id",n.id).single();if(!r)throw new Error("Contact not found");const{data:i,error:a}=await L.from("contact_followups").insert({contact_id:t,description:e.description,due_date:e.dueDate.toISOString(),completed:!1}).select().single();if(a)throw a;return await L.from("contacts").update({updated_at:new Date().toISOString()}).eq("id",t),{id:i.id,description:i.description,dueDate:new Date(i.due_date),completed:i.completed,createdAt:new Date(i.created_at)}}catch(n){throw k.error("Error adding follow-up:",n),n}}async function ZM(t,e,n){try{const{data:{user:r}}=await L.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:i}=await L.from("contacts").select("id").eq("id",t).eq("user_id",r.id).single();if(!i)throw new Error("Contact not found");const{error:a}=await L.from("contact_followups").update({completed:n,updated_at:new Date().toISOString()}).eq("id",e).eq("contact_id",t);if(a)throw a;await L.from("contacts").update({updated_at:new Date().toISOString()}).eq("id",t)}catch(r){throw k.error("Error toggling follow-up:",r),r}}async function XM(t,e,n,r,i,a,o){try{const{data:{user:c}}=await L.auth.getUser();if(!c)throw new Error("Not authenticated");k.info("Approving connection request",{requestId:t,location:e,tags:n,sharedLinksCount:Object.keys(r).length,mutualConnectionsCount:i.length,hasNote:!!a,hasBadges:!!o});const{data:l,error:d}=await L.from("connection_requests").select("*").eq("id",t).eq("target_user_id",c.id).single();if(!l||d)throw k.error("Request not found",{requestId:t,error:d}),new Error("Request not found");const{data:u,error:h}=await L.from("contacts").insert({user_id:c.id,name:l.requester_name,email:l.requester_email,job_title:l.requester_job_title,company:l.requester_company,profile_image:l.requester_profile_image,bio:l.requester_bio,interests:l.requester_interests,social_links:Object.entries(r).filter(([m,f])=>f).reduce((m,[f])=>{var g;return{...m,[f]:(g=l.requester_social_links)==null?void 0:g[f]}},{}),meeting_date:new Date().toISOString(),meeting_location:e,tags:n,tier:3,first_met_at:new Date().toISOString(),first_met_location:e,connection_method:"request"}).select().single();if(h)throw h;return a&&await L.from("contact_notes").insert({contact_id:u.id,content:a}),await L.from("connection_requests").update({status:"approved"}).eq("id",t),k.info("Connection request approved successfully",{newContactId:u.id,requestId:t}),{id:u.id,userId:u.user_id,name:u.name,email:u.email,jobTitle:u.job_title,company:u.company,profileImage:u.profile_image,bio:u.bio,interests:u.interests||[],socialLinks:u.social_links||{},meetingDate:new Date(u.meeting_date),meetingLocation:u.meeting_location,tags:u.tags||[],tier:u.tier,notes:a?[{id:`note-${Date.now()}`,content:a,createdAt:new Date}]:[],followUps:[],createdAt:new Date(u.created_at),updatedAt:new Date(u.updated_at)}}catch(c){throw k.error("Error approving connection request:",c),c}}async function eI(t){try{const{data:{user:e}}=await L.auth.getUser();if(!e)throw new Error("Not authenticated");k.info("Declining connection request",{requestId:t});const{error:n}=await L.from("connection_requests").update({status:"declined"}).eq("id",t).eq("target_user_id",e.id);if(n)throw k.error("Request not found or error declining",{requestId:t,error:n}),new Error("Request not found");k.info("Connection request declined successfully",{requestId:t})}catch(e){throw k.error("Error declining connection request:",e),e}}async function tI(t,e){try{const{data:{user:n}}=await L.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:r,error:i}=await L.from("contacts").update({name:e.name,email:e.email,phone:e.phone,job_title:e.jobTitle,company:e.company,profile_image:e.profileImage,cover_image:e.coverImage,bio:e.bio,interests:e.interests,social_links:e.socialLinks,meeting_date:e.meetingDate,meeting_location:e.meetingLocation,meeting_context:e.meetingContext,tags:e.tags,tier:e.tier,updated_at:new Date().toISOString()}).eq("id",t).eq("user_id",n.id).select().single();if(i)throw i;return{id:r.id,userId:r.user_id,name:r.name,email:r.email,phone:r.phone,jobTitle:r.job_title,company:r.company,profileImage:r.profile_image,coverImage:r.cover_image,bio:r.bio,interests:r.interests||[],socialLinks:r.social_links||{},meetingDate:r.meeting_date?new Date(r.meeting_date):void 0,meetingLocation:r.meeting_location,meetingContext:r.meeting_context,tags:r.tags||[],tier:r.tier,notes:[],followUps:[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)}}catch(n){throw k.error("Error updating contact:",n),n}}async function nI(t){try{const{data:{user:e}}=await L.auth.getUser();if(!e)throw new Error("Not authenticated");const{error:n}=await L.from("contacts").delete().eq("id",t).eq("user_id",e.id);if(n)throw n}catch(e){throw k.error("Error deleting contact:",e),e}}async function k2(t){try{const{data:{user:e}}=await L.auth.getUser();if(!e)throw new Error("Not authenticated");const n=new Date,r=t.location?{name:t.location.name||"Unknown Location",latitude:t.location.latitude,longitude:t.location.longitude,venue:t.location.venue,eventContext:t.location.eventContext}:{name:"Unknown Location",latitude:0,longitude:0},{error:i}=await L.from("connection_requests").insert({requester_id:e.id,target_user_id:t.id||t.userId,requester_name:t.name,requester_email:t.email,requester_job_title:t.jobTitle,requester_company:t.company,requester_profile_image:t.profileImage,requester_bio:t.bio,requester_interests:t.interests,requester_social_links:t.socialLinks,status:"pending",metadata:{location:r,timestamp:n.toISOString()}});if(i)throw i;k.info("Connection request created successfully")}catch(e){throw k.error("Error creating connection request:",e),e}}function rI({need:t,onClick:e}){const n=kf(),[r,i]=y.useState(!1),a=()=>{switch(t.category){case"socialize":return Vn;case"events":return ai;case"active":return xl;case"food":return wl;case"travel":return vl;case"creative":return _s;case"learning":return fi;case"work-career":return zn;case"ideas":return yl;default:return Vn}},o=()=>{switch(t.category){case"socialize":return"from-blue-500 to-blue-300";case"events":return"from-purple-500 to-purple-300";case"active":return"from-green-500 to-green-300";case"food":return"from-yellow-500 to-yellow-300";case"travel":return"from-red-500 to-red-300";case"creative":return"from-pink-500 to-pink-300";case"learning":return"from-indigo-500 to-indigo-300";case"work-career":return"from-sky-500 to-sky-300";case"ideas":return"from-amber-500 to-amber-300";default:return"from-gray-500 to-gray-300"}},c=a(),l=o(),d=()=>{const m=new Date,f=new Date(t.createdAt),g=m.getTime()-f.getTime(),w=Math.round(g/6e4);return w<60?`${w}m`:w<1440?`${Math.floor(w/60)}h`:`${Math.floor(w/1440)}d`},u=t.expiresAt&&new Date(t.expiresAt)<new Date,h=t.isSatisfied;return s.jsx("div",{className:"flex-shrink-0 w-20 flex flex-col items-center",children:s.jsxs(T.div,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),animate:n,className:"cursor-pointer relative",children:[s.jsxs("div",{className:"w-16 h-16 rounded-full relative mb-2 shadow-md",children:[s.jsx("div",{className:`absolute inset-0 rounded-full ${h?"bg-green-500":u?"bg-gray-400":`bg-gradient-to-tr ${l}`} p-0.5 ${r?"animate-pulse":""} shadow-md`,children:s.jsx("div",{className:"absolute inset-0.5 rounded-full bg-white"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h?s.jsx(wn,{className:"h-8 w-8 text-green-500"}):u?s.jsx(qe,{className:"h-8 w-8 text-gray-400"}):s.jsx(c,{className:"h-8 w-8 text-gray-700"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center bg-white shadow-sm z-10",children:t.visibility==="open"?s.jsx(lt,{className:"h-4 w-4 text-green-600"}):s.jsx(on,{className:"h-4 w-4 text-amber-600"})}),!h&&s.jsx("div",{className:"absolute -bottom-1 -left-1 bg-gray-800 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center shadow-sm z-10",children:d()}),s.jsx(ne,{children:r&&s.jsx(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center",children:s.jsx(dt,{className:"h-6 w-6 text-white"})})})]}),s.jsx("span",{className:"text-xs text-gray-700 font-medium truncate w-full text-center leading-tight",children:h?"Satisfied":u?"Expired":t.userName||t.categoryLabel})]})})}async function _2(t,e){try{const{data:n,error:r}=await L.from("need_replies").select(`
        *,
        profiles!need_replies_user_id_fkey(name, profile_image)
      `).eq("need_id",t).order("created_at",{ascending:!0});if(r)throw r;return(n==null?void 0:n.map(i=>{var a,o;return{id:i.id,needId:i.need_id,userId:i.user_id,userName:((a=i.profiles)==null?void 0:a.name)||"Unknown User",userImage:(o=i.profiles)==null?void 0:o.profile_image,message:i.message,replyToUserId:i.reply_to_user_id,createdAt:new Date(i.created_at)}}))||[]}catch(n){return k.error("Error getting need replies:",n),[]}}async function E2(t){try{const{data:{user:e}}=await L.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:n}=await L.from("profiles").select("name, profile_image").eq("id",e.id).single(),{data:r,error:i}=await L.from("need_replies").insert({need_id:t.needId,user_id:e.id,message:t.message,reply_to_user_id:t.replyToUserId}).select().single();if(i)throw i;return{id:r.id,needId:r.need_id,userId:r.user_id,userName:(n==null?void 0:n.name)||"Unknown User",userImage:n==null?void 0:n.profile_image,message:r.message,replyToUserId:r.reply_to_user_id,createdAt:new Date(r.created_at)}}catch(e){throw k.error("Error sending need reply:",e),e}}async function sI(t){try{const{data:{user:e}}=await L.auth.getUser();if(!e)throw new Error("Not authenticated");const{error:n}=await L.from("needs").update({is_satisfied:!0,updated_at:new Date().toISOString()}).eq("id",t).eq("user_id",e.id);if(n)throw n;return!0}catch(e){return k.error("Error marking need as satisfied:",e),!1}}function Nv({reply:t,isCurrentUser:e}){return s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:[!e&&s.jsx("div",{className:"flex-shrink-0 mr-3",children:t.userImage?s.jsx("img",{src:t.userImage,alt:t.userName||"User",className:"h-8 w-8 rounded-full object-cover"}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:s.jsx(Ct,{className:"h-4 w-4 text-indigo-600"})})}),s.jsxs("div",{className:"max-w-[75%]",children:[!e&&s.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:t.userName||"Anonymous"}),s.jsx("div",{className:"flex-shrink-0 ml-3",children:t.userImage?s.jsx("img",{src:t.userImage,alt:t.userName||"User",className:"h-8 w-8 rounded-full object-cover"}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:s.jsx(Ct,{className:"h-4 w-4 text-indigo-600"})})})]})]})}function iI({onSendMessage:t,placeholder:e="Type a message...",disabled:n=!1}){const[r,i]=y.useState(""),[a,o]=y.useState(!1),c=l=>{l.preventDefault(),!(!r.trim()||n)&&(t(r.trim()),i(""))};return s.jsxs("form",{onSubmit:c,className:`flex items-center border rounded-lg shadow-sm transition-all ${a?"border-indigo-500 shadow-md":"border-gray-300"} ${n?"opacity-50":""}`,children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:r,onChange:l=>i(l.target.value),onFocus:()=>o(!0),onBlur:()=>o(!1),placeholder:e,disabled:n,className:"w-full py-3 px-4 bg-transparent focus:outline-none text-gray-700 rounded-lg"}),r&&s.jsx("button",{type:"button",onClick:()=>i(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx(Se,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex items-center pr-2",children:s.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"submit",disabled:!r.trim()||n,className:`p-2 rounded-full mr-1 ${r.trim()&&!n?"bg-indigo-600 text-white hover:bg-indigo-700":"text-gray-400 cursor-not-allowed"}`,children:s.jsx(fs,{className:"h-5 w-5"})})})]})}function aI({need:t,onBack:e}){const{user:n}=Ft(),[r,i]=y.useState([]),[a,o]=y.useState(!0),[c,l]=y.useState(!1),d=y.useRef(null),[u,h]=y.useState(!0);y.useEffect(()=>{(async()=>{try{o(!0);const j=await _2(t.id,n==null?void 0:n.id);i(j)}catch(j){console.error("Error loading replies:",j)}finally{o(!1)}})()},[t.id,n==null?void 0:n.id]),y.useEffect(()=>{var p;(p=d.current)==null||p.scrollIntoView({behavior:"smooth"})},[r]);const m=async p=>{if(n)try{l(!0);const j=t.visibility==="private"?t.userId:void 0,N=await E2({needId:t.id,message:p,userName:n.name,userImage:n.profileImage,replyToUserId:j});i([...r,N])}catch(j){console.error("Error sending message:",j)}finally{l(!1)}},f=()=>{switch(t.category){case"socialize":return Vn;case"events":return ai;case"active":return xl;case"food":return wl;case"travel":return vl;case"creative":return _s;case"learning":return fi;case"work-career":return zn;case"ideas":return yl;default:return Vn}},g=()=>{switch(t.category){case"socialize":return"bg-blue-500 text-white";case"events":return"bg-purple-500 text-white";case"active":return"bg-green-500 text-white";case"food":return"bg-yellow-500 text-white";case"travel":return"bg-red-500 text-white";case"creative":return"bg-pink-500 text-white";case"learning":return"bg-indigo-500 text-white";case"work-career":return"bg-sky-500 text-white";case"ideas":return"bg-amber-500 text-white";default:return"bg-gray-500 text-white"}},w=f(),x=g(),v=t.expiresAt&&new Date(t.expiresAt)<new Date,b=t.isSatisfied;return s.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[s.jsxs("div",{className:"flex items-center p-4 border-b border-gray-200 bg-white shadow-sm",children:[s.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"p-2 mr-2 hover:bg-gray-100 rounded-full",children:s.jsx(st,{className:"h-5 w-5 text-gray-500"})}),s.jsxs("div",{className:"flex items-center flex-1",children:[t.userImage?s.jsx("img",{src:t.userImage,alt:t.userName||"User",className:"h-10 w-10 rounded-full object-cover mr-3 border-2 border-white shadow-sm"}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3 border-2 border-white shadow-sm",children:s.jsx(Ct,{className:"h-5 w-5 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:t.userName||"Anonymous"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${x}`,children:t.categoryLabel}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs flex items-center ${t.visibility==="open"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:t.visibility==="open"?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"h-3 w-3 mr-1"}),"Public"]}):s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"h-3 w-3 mr-1"}),"Private"]})})]})]})]})]}),(v||b)&&s.jsx("div",{className:`p-3 ${b?"bg-green-50":"bg-amber-50"} flex items-center justify-center`,children:b?s.jsxs(s.Fragment,{children:[s.jsx(wn,{className:"h-4 w-4 text-green-600 mr-2"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"This need has been satisfied"})]}):s.jsxs(s.Fragment,{children:[s.jsx(fl,{className:"h-4 w-4 text-amber-600 mr-2"}),s.jsx("span",{className:"text-sm text-amber-700 font-medium",children:"This need has expired"})]})}),t.visibility==="private"&&u&&s.jsxs("div",{className:"p-3 bg-indigo-50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(on,{className:"h-4 w-4 text-indigo-600 mr-2"}),s.jsxs("span",{className:"text-sm text-indigo-700",children:["This is a private conversation between you and ",t.userName||"the creator"]})]}),s.jsx("button",{onClick:()=>h(!1),className:"text-indigo-600 hover:text-indigo-800",children:s.jsx(Se,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"p-4 bg-white border-b border-gray-200 shadow-sm mb-2",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:`p-3 rounded-full ${x.replace("text-white","")} mr-3 flex-shrink-0`,children:s.jsx(w,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:t.message}),t.tags&&t.tags.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.tags.map(p=>s.jsxs("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-700 rounded-full text-xs",children:["#",p]},p))})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:a?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):r.length===0?s.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:s.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200 text-center max-w-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(xn,{className:"h-8 w-8 text-indigo-500"})}),s.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"No messages yet"}),s.jsx("p",{className:"text-sm text-gray-500",children:t.visibility==="private"?"This is a private conversation between you and the creator":"Start the conversation!"}),s.jsx("button",{onClick:()=>{var p;return(p=document.querySelector("input"))==null?void 0:p.focus()},className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700",children:"Start Conversation"})]})}):s.jsxs("div",{className:"space-y-4",children:[t.visibility==="private"?r.filter(p=>p.userId===(n==null?void 0:n.id)||p.userId===t.userId&&p.replyToUserId===(n==null?void 0:n.id)).map(p=>s.jsx(Nv,{reply:p,isCurrentUser:p.userId===(n==null?void 0:n.id)},p.id)):r.map(p=>s.jsx(Nv,{reply:p,isCurrentUser:p.userId===(n==null?void 0:n.id)},p.id)),s.jsx("div",{ref:d})]})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:s.jsx(iI,{onSendMessage:m,placeholder:t.visibility==="private"?`Send a private message to ${t.userName||"the creator"}...`:`Reply to ${t.userName||"this need"}...`,disabled:c||!n})})]})}function oI({need:t,onClose:e,onMarkSatisfied:n}){const{user:r}=Ft(),[i,a]=y.useState(""),[o,c]=y.useState(!1),[l,d]=y.useState(!1),[u,h]=y.useState([]),[m,f]=y.useState(!1),[g,w]=y.useState(!1),x=async()=>{if(n)try{await sI(t.id),n(t.id)}catch(C){console.error("Error marking need as satisfied:",C)}};y.useEffect(()=>{(async()=>{try{f(!0);const I=await _2(t.id,r==null?void 0:r.id);h(I)}catch(I){console.error("Error loading replies:",I)}finally{f(!1)}})()},[t.id,r==null?void 0:r.id]);const v=()=>{switch(t.category){case"socialize":return Vn;case"events":return ai;case"active":return xl;case"food":return wl;case"travel":return vl;case"creative":return _s;case"learning":return fi;case"work-career":return zn;case"ideas":return yl;default:return Vn}},b=()=>{switch(t.category){case"socialize":return"bg-blue-500 text-white";case"events":return"bg-purple-500 text-white";case"active":return"bg-green-500 text-white";case"food":return"bg-yellow-500 text-white";case"travel":return"bg-red-500 text-white";case"creative":return"bg-pink-500 text-white";case"learning":return"bg-indigo-500 text-white";case"work-career":return"bg-sky-500 text-white";case"ideas":return"bg-amber-500 text-white";default:return"bg-gray-500 text-white"}},p=v(),j=b(),N=async()=>{if(!(!i.trim()||!r))try{const C=await E2({needId:t.id,message:i.trim(),userName:r.name,userImage:r.profileImage});h([...u,C]),d(!0),a(""),c(!1),setTimeout(()=>{d(!1)},3e3)}catch(C){console.error("Error sending reply:",C)}},S=t.expiresAt&&new Date(t.expiresAt)<new Date,_=()=>{if(!t.expiresAt)return null;const C=new Date,A=new Date(t.expiresAt).getTime()-C.getTime();if(A<=0)return"Expired";const R=Math.floor(A/(1e3*60*60)),F=Math.floor(A%(1e3*60*60)/(1e3*60));return R>0?`${R}h ${F}m remaining`:`${F}m remaining`},E=C=>new Date(C).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}),P=C=>{const A=new Date().getTime()-new Date(C).getTime(),R=Math.round(A/6e4);return R<1?"just now":R<60?`${R}m ago`:R<1440?`${Math.floor(R/60)}h ago`:`${Math.floor(R/1440)}d ago`};return g?s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 flex flex-col",children:s.jsx(aI,{need:t,onBack:()=>w(!1)})}):s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col overflow-hidden border border-indigo-100",onClick:C=>C.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0 bg-gradient-to-r from-indigo-50 to-purple-50",children:[s.jsxs("div",{className:"flex items-center",children:[t.userImage?s.jsx("img",{src:t.userImage,alt:t.userName||"User",className:"h-10 w-10 rounded-full object-cover mr-3"}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:s.jsx(Ct,{className:"h-5 w-5 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:t.userName||"Anonymous"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-xs text-gray-500",children:E(t.createdAt)}),s.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${j}`,children:t.categoryLabel}),t.expiresAt&&s.jsxs("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs flex items-center ${S?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:["\\               ",s.jsx(qe,{className:"h-3 w-3 mr-1"}),S?"Expired":_()]})]})]})]}),s.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-6 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-start mb-6",children:[s.jsx("div",{className:`p-3 rounded-full ${j.replace("text-white","")} mr-4`,children:s.jsx(p,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("p",{className:"text-lg font-medium text-gray-900 leading-relaxed",children:t.message}),t.tags&&t.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(C=>s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:["#",C]},C))}),s.jsx("button",{onClick:()=>c(!0),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700",children:"Start Conversation"})]})]}),t.isSatisfied&&s.jsxs("div",{className:"mt-2 bg-green-50 p-3 rounded-lg flex items-center",children:[s.jsx(wn,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("span",{className:"text-green-700 font-medium",children:"This need has been satisfied"})]}),S&&!t.isSatisfied&&s.jsxs("div",{className:"mt-2 bg-amber-50 p-3 rounded-lg flex items-center",children:[s.jsx(fl,{className:"h-5 w-5 text-amber-600 mr-2"}),s.jsx("span",{className:"text-amber-700 font-medium",children:"This need has expired"})]}),s.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm ${t.visibility==="private"?"bg-amber-50 text-amber-700 border border-amber-100":"bg-green-50 text-green-700 border border-green-100"}`,children:t.visibility==="private"?s.jsxs("div",{className:"flex items-center",children:[s.jsx(on,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:"Private conversation"})," - Only you and the creator can see these messages"]})]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:"Public thread"})," - All replies are visible to everyone"]})]})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto border-t border-gray-200 bg-gray-50 p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(xn,{className:"h-4 w-4 mr-1.5 text-indigo-500"}),t.visibility==="open"?"Replies":"Your Replies",u.length>0&&s.jsx("span",{className:"ml-1.5 bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded-full text-xs",children:u.length})]}),u.length>0&&s.jsxs("button",{onClick:()=>w(!0),className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center bg-indigo-50 px-3 py-1 rounded-lg hover:bg-indigo-100 transition-colors",children:[s.jsx(xn,{className:"h-4 w-4 mr-1.5"}),"View Full Chat",s.jsx(Ot,{className:"h-3 w-3 ml-1"})]})]}),t.userId===(r==null?void 0:r.id)&&!t.isSatisfied&&!S&&n&&s.jsxs(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:x,className:"w-full mt-4 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 flex items-center justify-center shadow-sm",children:[s.jsx(wn,{className:"h-5 w-5 mr-2"}),"Mark Need as Satisfied"]}),m?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):u.length===0?s.jsxs("div",{className:"text-center py-8 bg-white rounded-lg shadow-sm border border-gray-100",children:[s.jsx(xn,{className:"h-10 w-10 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"No replies yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Be the first to start the conversation!"})]}):s.jsx("div",{className:"space-y-4",children:t.visibility==="open"?u.map(C=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex items-start",children:[C.userImage?s.jsx("img",{src:C.userImage,alt:C.userName||"User",className:"h-8 w-8 rounded-full object-cover mr-3"}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:s.jsx(Ct,{className:"h-4 w-4 text-indigo-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:C.userId===(r==null?void 0:r.id)?"You":C.userName}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(qe,{className:"h-3 w-3 mr-1"}),P(C.createdAt)]})]}),s.jsx("p",{className:"text-gray-700 mt-1",children:C.message})]})]})},C.id)):s.jsxs(s.Fragment,{children:[u.filter(C=>C.userId===(r==null?void 0:r.id)).length>0?u.filter(C=>C.userId===(r==null?void 0:r.id)).map(C=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex items-start",children:[C.userImage?s.jsx("img",{src:C.userImage,alt:C.userName||"User",className:"h-8 w-8 rounded-full object-cover mr-3"}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:s.jsx(Ct,{className:"h-4 w-4 text-indigo-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:"You"}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(qe,{className:"h-3 w-3 mr-1"}),P(C.createdAt)]})]}),s.jsx("p",{className:"text-gray-700 mt-1",children:C.message})]})]})},C.id)):s.jsxs("div",{className:"text-center py-6 bg-white rounded-lg shadow-sm border border-gray-100",children:[s.jsx("p",{className:"text-gray-500",children:"No replies yet"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your conversation will be private"})]}),u.filter(C=>C.userId===t.userId&&C.replyToUserId===(r==null?void 0:r.id)).map(C=>s.jsx("div",{className:"bg-indigo-50 rounded-lg shadow-sm p-4",children:s.jsxs("div",{className:"flex items-start",children:[C.userImage?s.jsx("img",{src:C.userImage,alt:C.userName||"User",className:"h-8 w-8 rounded-full object-cover mr-3"}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:s.jsx(Ct,{className:"h-4 w-4 text-indigo-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:C.userName}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(qe,{className:"h-3 w-3 mr-1"}),P(C.createdAt)]})]}),s.jsx("p",{className:"text-gray-700 mt-1",children:C.message})]})]})},C.id))]})})]}),s.jsxs("div",{className:"border-t border-gray-200 p-4 flex-shrink-0 bg-white",children:[s.jsx(ne,{children:l&&s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mb-4 p-3 bg-green-50 rounded-lg text-center border border-green-100",children:s.jsxs("p",{className:"text-green-700 font-medium flex items-center justify-center",children:[s.jsx(rt,{className:"h-4 w-4 mr-1.5"}),"Your reply has been sent!"]})})}),o?s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("textarea",{value:i,onChange:C=>a(C.target.value),placeholder:`Reply to ${t.userName||"this need"}...`,className:"w-full p-3 border-b border-gray-200 focus:ring-0 focus:outline-none resize-none",rows:2,autoFocus:!0}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-indigo-50 to-purple-50",children:[s.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"}),s.jsxs("button",{onClick:N,disabled:!i.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(fs,{className:"h-4 w-4 mr-1.5"}),"Send Reply"]})]})]}):s.jsx("div",{className:"flex space-x-3",children:s.jsx("div",{className:"flex-1 relative",children:s.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(!0),className:"w-full flex items-center justify-between px-4 py-3 border border-gray-300 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-colors",children:[s.jsx("span",{className:"text-gray-500",children:"Write a reply..."}),s.jsx(fs,{className:"h-4 w-4 text-gray-400"})]})})})]})]})})}const Gr=[{id:"socialize",label:"Socialize",icon:Vn,color:"#3B82F6",description:"Coffee chats, meetups, networking"},{id:"events",label:"Events",icon:ai,color:"#8B5CF6",description:"Conferences, concerts, gatherings"},{id:"active",label:"Active",icon:xl,color:"#10B981",description:"Sports, fitness, outdoor activities"},{id:"food",label:"Food",icon:wl,color:"#F59E0B",description:"Restaurants, dining, cooking"},{id:"travel",label:"Travel",icon:vl,color:"#EF4444",description:"Trips, transportation, accommodations"},{id:"creative",label:"Creative",icon:_s,color:"#EC4899",description:"Art, design, photography"},{id:"learning",label:"Learning",icon:fi,color:"#6366F1",description:"Courses, mentorship, skills"},{id:"work-career",label:"Work & Career",icon:zn,color:"#0EA5E9",description:"Career advice, job opportunities, mentorship"},{id:"ideas",label:"Ideas",icon:yl,color:"#F59E0B",description:"Brainstorming, feedback, validation"}],lI=[{id:"everyone",label:"Everyone",icon:lt,description:"Visible to all Dislink users"},{id:"inner",label:"Inner Circle",icon:gl,description:"Only visible to your Inner Circle connections"},{id:"middle",label:"Middle Circle",icon:Ze,description:"Only visible to your Middle Circle connections"},{id:"outer",label:"Outer Circle",icon:Ea,description:"Only visible to your Outer Circle connections"},{id:"private",label:"Private",icon:on,description:"Only visible to you and people you specifically share with"}],Ih=["Technology","Design","Marketing","Finance","Healthcare","Education","Real Estate","Hospitality","Retail","Manufacturing","Consulting","Legal","Nonprofit","Media","Entertainment","Sports","Fitness","Food","Travel","Art","Music"],cI=({onClose:t,onSubmit:e})=>{var F,H,K,O,M;const[n,r]=y.useState("category"),[i,a]=y.useState(null),[o,c]=y.useState(""),[l,d]=y.useState([]),[u,h]=y.useState(""),[m,f]=y.useState("open"),[g,w]=y.useState("everyone"),[x,v]=y.useState([]),[b,p]=y.useState(""),[j,N]=y.useState(24),S=D=>{a(D),r("details")},_=()=>{u.trim()&&!l.includes(u.trim())&&(d([...l,u.trim()]),h(""))},E=D=>{D.key==="Enter"&&(D.preventDefault(),_())},P=D=>{d(l.filter(V=>V!==D))},C=D=>{x.includes(D)?v(x.filter(V=>V!==D)):v([...x,D])},I=()=>{if(!i||!o.trim())return;const D=Gr.find(U=>U.id===i),V=g==="private"||g!=="everyone"?"private":"open",Y=new Date;Y.setHours(Y.getHours()+j),e({category:i,categoryLabel:(D==null?void 0:D.label)||"Other",message:o.trim(),tags:[...l,...x],visibility:V,expiresAt:Y,duration:j,userName:"Antonio Tubito",userImage:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"}),t()},A=()=>{n==="details"?r("category"):n==="audience"&&r("details")},R=b?Ih.filter(D=>D.toLowerCase().includes(b.toLowerCase())):Ih;return s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,children:s.jsxs(T.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-md w-full overflow-hidden",onClick:D=>D.stopPropagation(),children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[n==="category"&&"What do you need help with?",n==="details"&&"Tell us more",n==="audience"&&"Who should see this?"]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n==="category"&&"Select a category for your daily need",n==="details"&&"Share details about what you need",n==="audience"&&"Choose who can see your need"]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"mt-4 flex space-x-2",children:[s.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-colors duration-300 ${n==="category"?"bg-indigo-600":"bg-indigo-200"}`}),s.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-colors duration-300 ${n==="details"?"bg-indigo-600":"bg-indigo-200"}`}),s.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-colors duration-300 ${n==="audience"?"bg-indigo-600":"bg-indigo-200"}`})]})]}),s.jsx("div",{className:"p-6",children:s.jsxs(ne,{mode:"wait",children:[n==="category"&&s.jsx(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Gr.map(D=>{const V=D.icon;return s.jsxs(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(D.id),className:`flex flex-col items-center p-4 rounded-xl border-2 transition-all duration-200 ${i===D.id?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 hover:border-indigo-300 hover:bg-indigo-50"}`,children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-3",style:{backgroundColor:`${D.color}20`},children:s.jsx(V,{className:"h-6 w-6",style:{color:D.color}})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 mb-1",children:D.label}),s.jsx("p",{className:"text-xs text-gray-500 text-center",children:D.description})]},D.id)})})},"category"),n==="details"&&s.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[i&&s.jsxs("div",{className:"flex items-center mb-6 bg-gradient-to-r from-indigo-50 to-indigo-100 p-3 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${(F=Gr.find(D=>D.id===i))==null?void 0:F.color}20`},children:ft.createElement(((H=Gr.find(D=>D.id===i))==null?void 0:H.icon)||Vn,{className:"h-4 w-4",style:{color:(K=Gr.find(D=>D.id===i))==null?void 0:K.color}})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:(O=Gr.find(D=>D.id===i))==null?void 0:O.label}),s.jsx("p",{className:"text-xs text-gray-600",children:(M=Gr.find(D=>D.id===i))==null?void 0:M.description})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What do you need?"}),s.jsx("textarea",{value:o,onChange:D=>c(D.target.value),placeholder:"Describe what you're looking for...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:5,required:!0}),s.jsxs("div",{className:"mt-2 flex justify-between",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Be specific to get better responses"}),s.jsxs("p",{className:"text-xs text-gray-500",children:[o.length," characters"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add tags (optional)"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",value:u,onChange:D=>h(D.target.value),onKeyDown:E,placeholder:"Add a tag and press Enter",className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:_,className:"px-4 py-2 bg-indigo-600 text-white rounded-r-lg hover:bg-indigo-700 transition-colors",children:"Add"})]}),l.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.map(D=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[D,s.jsx("button",{type:"button",onClick:()=>P(D),className:"ml-1.5 h-4 w-4 rounded-full flex items-center justify-center hover:bg-blue-200",children:s.jsx(Se,{className:"h-3 w-3"})})]},D))})]}),s.jsxs("div",{className:"pt-6 flex justify-between",children:[s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:A,className:"px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50 rounded-lg",children:"Back"}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>r("audience"),disabled:!o.trim(),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next",s.jsx(Re,{className:"ml-2 h-4 w-4 rotate-270"})]})]})]},"details"),n==="audience"&&s.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[s.jsx("div",{className:"space-y-3 mb-6",children:lI.map(D=>{const V=D.icon,Y=D.id===g;return s.jsxs("div",{onClick:()=>w(D.id),className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${Y?"border-indigo-500 bg-indigo-50 shadow-sm":"border-gray-200 hover:border-indigo-200 hover:bg-indigo-50"}`,children:[s.jsx("div",{className:`p-2 rounded-full ${Y?"bg-indigo-100":"bg-gray-100"} mr-3`,children:s.jsx(V,{className:`h-5 w-5 ${Y?"text-indigo-600":"text-gray-500"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:D.label}),s.jsx("p",{className:"text-xs text-gray-500",children:D.description})]}),s.jsx("div",{className:"ml-2",children:Y?s.jsx("div",{className:"w-5 h-5 rounded-full bg-indigo-500 flex items-center justify-center",children:s.jsx(rt,{className:"h-3 w-3 text-white"})}):s.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})})]},D.id)})}),g!=="everyone"&&g!=="private"&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[s.jsx(dt,{className:"h-4 w-4 mr-1.5 text-amber-500"}),"Target specific interests"]}),s.jsx("button",{type:"button",onClick:()=>v(x.length?[]:[...Ih]),className:"text-xs text-indigo-600 hover:text-indigo-800",children:x.length?"Clear all":"Select all"})]}),s.jsxs("div",{className:"relative mb-2",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search interests...",value:b,onChange:D=>p(D.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:R.map(D=>s.jsx("button",{type:"button",onClick:()=>C(D),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${x.includes(D)?"bg-indigo-100 text-indigo-800 border border-indigo-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:D},D))})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(qe,{className:"h-4 w-4 mr-1.5 text-gray-500"}),"How long should this need be visible?"]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>N(24),className:`flex-1 py-2 px-3 rounded-lg border-2 transition-colors ${j===24?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 text-gray-700 hover:border-indigo-200"}`,children:"24 hours"}),s.jsx("button",{type:"button",onClick:()=>N(48),className:`flex-1 py-2 px-3 rounded-lg border-2 transition-colors ${j===48?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 text-gray-700 hover:border-indigo-200"}`,children:"48 hours"})]})]}),s.jsxs("div",{className:"pt-6 flex justify-between",children:[s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:A,className:"px-4 py-2 text-gray-700 border border-gray-300 hover:bg-gray-50 rounded-lg",children:"Back"}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:I,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center",children:[s.jsx(oi,{className:"h-4 w-4 mr-1.5"}),"Share"]})]})]},"audience")]})})]})})};function dI(){const[t,e]=y.useState(null),[n,r]=y.useState(null),[i,a]=y.useState(!1),[o,c]=y.useState(!1),[l,d]=y.useState(null),[u,h]=y.useState([{id:"1",userId:"user-1",userName:"Sarah Johnson",userImage:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",category:"socialize",categoryLabel:"Socialize",message:"Anyone up for coffee this afternoon in downtown?",tags:["coffee","chat"],visibility:"open",expiresAt:new Date(Date.now()+1e3*60*60*24),duration:24,isSatisfied:!1,createdAt:new Date(Date.now()-1e3*60*30)},{id:"2",userId:"user-2",userName:"Michael Chen",userImage:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",category:"events",categoryLabel:"Events",message:"Got an extra ticket for tonight's concert at Madison Square Garden!",tags:["concert","music"],visibility:"private",expiresAt:new Date(Date.now()+1e3*60*60*48),duration:48,isSatisfied:!1,createdAt:new Date(Date.now()-1e3*60*60*2)},{id:"3",userId:"user-3",userName:"Emma Rodriguez",userImage:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",category:"learning",categoryLabel:"Learning",message:"Starting a Spanish study group - beginners welcome! Meeting this weekend.",tags:["language","study"],visibility:"open",expiresAt:new Date(Date.now()+1e3*60*60*24),duration:24,isSatisfied:!1,createdAt:new Date(Date.now()-1e3*60*60*5)},{id:"4",userId:"user-4",userName:"David Kim",userImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",category:"active",categoryLabel:"Active",message:"Looking for a tennis partner for Sunday morning at Central Park courts.",tags:["sports","tennis"],visibility:"private",expiresAt:new Date(Date.now()+1e3*60*60*48),duration:48,isSatisfied:!1,createdAt:new Date(Date.now()-1e3*60*60*8)},{id:"5",userId:"antonio-tubito",userName:"Antonio Tubito",userImage:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",category:"food",categoryLabel:"Food",message:"Trying that new Italian restaurant downtown tonight. Anyone want to join?",tags:["dining","italian"],visibility:"open",expiresAt:new Date(Date.now()+1e3*60*60*24),duration:24,isSatisfied:!1,createdAt:new Date(Date.now()-1e3*60*60*1)}]),[m,f]=y.useState([]),g=p=>{const j={id:`need-${Date.now()}`,userId:"antonio-tubito",...p,createdAt:new Date};h([j,...u])},w=p=>{d(p),c(!0)},x=p=>{h(u.map(j=>j.id===p?{...j,isSatisfied:!0}:j)),f([...m,p])},v=()=>{c(!1),d(null)},b=n?u.filter(p=>p.category===n):u;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center mr-3 shadow-sm",children:s.jsx(Lt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Daily Needs"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Connect & help your network"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-sm",children:[s.jsx(rr,{className:"h-4 w-4 mr-1.5"}),s.jsx("span",{children:"Create"})]}),s.jsx("button",{onClick:()=>e(t?null:"needs"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:t?s.jsx(Ue,{className:"h-5 w-5"}):s.jsx(Re,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"mb-6 overflow-x-auto",children:s.jsxs("div",{className:"flex space-x-2 pb-2",children:[s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(null),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors flex items-center ${n===null?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:[s.jsx(ig,{className:"h-3.5 w-3.5 mr-1.5"}),"All"]}),Gr.map(p=>{const j=p.icon,N=n===p.id;return s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(N?null:p.id),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors flex items-center ${N?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:[s.jsx(j,{className:"h-3.5 w-3.5 mr-1.5",style:{color:N?"#4F46E5":"#6B7280"}}),p.label]},p.id)})]})}),s.jsx("div",{className:"mb-6 overflow-x-auto pb-2",children:s.jsxs("div",{className:"flex space-x-5 pb-1",children:[s.jsxs("div",{className:"flex-shrink-0 w-20 flex flex-col items-center cursor-pointer",onClick:()=>a(!0),children:[s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(!0),className:"w-16 h-16 rounded-full bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center mb-2 border-2 border-dashed border-indigo-200 shadow-sm",children:s.jsx(rr,{className:"h-7 w-7 text-indigo-500"})}),s.jsx("span",{className:"text-xs text-gray-700 font-medium text-center",children:"Create"})]}),b.map(p=>s.jsx(rI,{need:p,onClick:()=>w(p)},p.id))]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[s.jsx(qe,{className:"h-4 w-4 mr-1.5 text-gray-400"}),"Recent Posts"]}),n&&s.jsx("button",{onClick:()=>r(null),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Clear filter"})]}),b.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-gray-500",children:"No posts found"}),n&&s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try selecting a different category"})]}):b.map(p=>{var j;return s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>w(p),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[p.userImage?s.jsx("img",{src:p.userImage,alt:p.userName,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-medium text-indigo-600",children:((j=p.userName)==null?void 0:j.charAt(0))||"?"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:p.userName}),s.jsx("span",{className:"text-sm text-gray-500",children:"•"}),s.jsx("span",{className:"text-sm text-gray-500",children:uI(p.createdAt)})]}),s.jsx("p",{className:"text-gray-700 mb-2",children:p.message}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${mI(p.category)}`,children:[ft.createElement(hI(p.category),{className:"h-3 w-3 mr-1"}),p.categoryLabel]}),p.visibility==="open"?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(lt,{className:"h-3 w-3 mr-1"}),"Public"]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[s.jsx(on,{className:"h-3 w-3 mr-1"}),"Private"]}),p.tags.slice(0,2).map((N,S)=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:["#",N]},S)),p.tags.length>2&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:["+",p.tags.length-2," more"]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-2",children:[s.jsx("div",{className:"flex space-x-4",children:s.jsxs("button",{className:"flex items-center text-gray-500 hover:text-indigo-600",children:[s.jsx(xn,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-xs",children:Math.floor(Math.random()*5)})]})}),s.jsx("button",{className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:"Reply"})]})]})]})},p.id)})]}),s.jsx(ne,{mode:"wait",children:i&&s.jsx(cI,{onClose:()=>a(!1),onSubmit:g})}),s.jsx(ne,{mode:"wait",children:o&&l&&s.jsx(oI,{need:l,onClose:v,onMarkSatisfied:x})})]})}function uI(t){const n=new Date().getTime()-new Date(t).getTime(),r=Math.round(n/6e4);return r<1?"just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:`${Math.floor(r/1440)}d ago`}function hI(t){switch(t){case"socialize":return Vn;case"events":return ai;case"active":return xl;case"food":return wl;case"travel":return vl;case"creative":return _s;case"learning":return fi;case"work-career":return zn;case"ideas":return yl;default:return Vn}}function mI(t){switch(t){case"socialize":return"bg-blue-100 text-blue-800";case"events":return"bg-purple-100 text-purple-800";case"active":return"bg-green-100 text-green-800";case"food":return"bg-yellow-100 text-yellow-800";case"travel":return"bg-red-100 text-red-800";case"creative":return"bg-pink-100 text-pink-800";case"learning":return"bg-indigo-100 text-indigo-800";case"work-career":return"bg-sky-100 text-sky-800";case"ideas":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}}function fI(){const t=Ke(),{user:e}=Ft();Br();const[n,r]=y.useState([]),[i,a]=y.useState([]),[o,c]=y.useState([]),[l,d]=y.useState(0),[u,h]=y.useState(!0),[m,f]=y.useState(!1),[g,w]=y.useState(!1),[x,v]=y.useState([]),[b,p]=y.useState(!0),[j,N]=y.useState(!1),[S,_]=y.useState(""),[E,P]=y.useState(!1),[C,I]=y.useState(!0),[A,R]=y.useState(null);y.useEffect(()=>{(async()=>{const{data:{session:$}}=await L.auth.getSession();w(!!$)})()},[]),y.useEffect(()=>{async function z(){try{h(!0);const[$,ee,de]=await Promise.all([Mh(),Ef(3),el()]);r($),a(ee),c(de),d(de.length);const oe=de.flatMap(_e=>_e.followUps.map(be=>({...be,contactName:_e.name,contactId:_e.id}))),J=oe.sort((_e,be)=>new Date(_e.dueDate).getTime()-new Date(be.dueDate).getTime());v(J),k.info("Home data loaded",{requestsCount:$.length,recentContactsCount:ee.length,totalContacts:de.length,followUpsCount:oe.length})}catch($){k.error("Error loading home data:",$)}finally{h(!1)}}e||g?z():h(!1)},[e,g]);const F=async(z,$,ee,de,oe,J,_e)=>{try{k.info("Accepting connection request",{contactId:z}),await XM(z,$,ee,de,oe,J,_e),r($t=>$t.filter(jt=>jt.id!==z));const[be,ut]=await Promise.all([Ef(3),el()]);a(be),c(ut),d(ut.length),k.info("Connection request accepted successfully",{contactId:z})}catch(be){k.error("Error accepting connection request:",be)}},H=async z=>{try{k.info("Declining connection request",{contactId:z}),await eI(z),r($=>$.filter(ee=>ee.id!==z)),k.info("Connection request declined successfully",{contactId:z})}catch($){k.error("Error declining connection request:",$)}},K=async(z,$)=>{try{k.info("Updating contact tier",{contactId:z,tier:$});const ee=await C2(z,$);c(de=>de.map(oe=>oe.id===z?ee:oe)),a(de=>de.map(oe=>oe.id===z?ee:oe)),k.info("Contact tier updated successfully",{contactId:z,tier:$})}catch(ee){throw k.error("Error updating contact tier:",ee),ee}},O=async(z,$,ee)=>{try{k.info("Toggling follow-up completion",{contactId:z,followUpId:$,completed:ee}),v(de=>de.map(oe=>oe.id===$?{...oe,completed:ee}:oe)),c(de=>de.map(oe=>oe.id===z?{...oe,followUps:oe.followUps.map(J=>J.id===$?{...J,completed:ee}:J)}:oe))}catch(de){k.error("Error toggling follow-up:",de)}},M=z=>{t(`/app/contact/${z}`)},D=async()=>{try{const z=createEmilyTechRequest(),$=await Mh();r($),k.info("Test connection request created",{requestId:z})}catch(z){k.error("Error creating test connection request:",z)}},V=async()=>{try{const z=createLisbonConnectionRequest(),$=await Mh();r($),k.info("Lisbon connection request created",{requestId:z})}catch(z){k.error("Error creating Lisbon connection request:",z)}},Y=i.filter(z=>{var ee;if(!S)return!0;const $=S.toLowerCase();return z.name.toLowerCase().includes($)||z.company&&z.company.toLowerCase().includes($)||z.jobTitle&&z.jobTitle.toLowerCase().includes($)||((ee=z.meetingLocation)==null?void 0:ee.name)&&z.meetingLocation.name.toLowerCase().includes($)||z.tags&&z.tags.some(de=>de.toLowerCase().includes($))});if(!(e||g))return t("/"),null;const Q=new Date;Q.setHours(0,0,0,0);const ie=new Date(Q);ie.setDate(ie.getDate()+1);const fe=new Date(Q);fe.setDate(fe.getDate()+7);const ye=x.filter(z=>!z.completed&&new Date(z.dueDate)<Q),De=x.filter(z=>!z.completed&&new Date(z.dueDate)>=Q&&new Date(z.dueDate)<ie);return x.filter(z=>!z.completed&&new Date(z.dueDate)>=ie&&new Date(z.dueDate)<new Date(ie.getTime()+864e5)),x.filter(z=>!z.completed&&new Date(z.dueDate)>=new Date(ie.getTime()+864e5)&&new Date(z.dueDate)<fe),x.filter(z=>!z.completed&&new Date(z.dueDate)>=fe),x.filter(z=>z.completed),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer bg-white p-3 rounded-xl shadow-sm border border-cosmic-secondary/10 cosmic-glow",onClick:()=>I(!C),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 cosmic-gradient rounded-lg mr-3",children:s.jsx(dt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-cosmic-primary",children:"Your Network Insights"}),s.jsx("p",{className:"text-sm text-cosmic-primary/70",children:"Track your connections and follow-ups"})]})]}),s.jsx("div",{className:"flex items-center text-cosmic-secondary",children:C?s.jsx(Ue,{className:"h-5 w-5"}):s.jsx(Re,{className:"h-5 w-5"})})]}),s.jsx(ne,{children:C&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:s.jsxs("div",{className:"pt-3 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsx(HM,{})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(WM,{totalConnections:l,pendingRequests:n.length})})]})})})]}),s.jsx(dI,{}),s.jsxs("div",{className:"mb-6 bg-white rounded-xl shadow-sm p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1 group",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search contacts, companies, or locations...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 group-hover:border-indigo-300 group-hover:shadow-sm",value:S,onChange:z=>_(z.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>P(!E),className:`inline-flex items-center px-3 py-2 border rounded-lg text-sm font-medium transition-all duration-200 ${E||A?"border-indigo-600 text-indigo-600 bg-indigo-50 shadow-sm":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 hover:shadow-sm"}`,children:[s.jsx(ig,{className:"h-5 w-5 mr-1.5"}),"Filters",A&&s.jsx("span",{className:"ml-1 text-xs bg-indigo-100 text-indigo-800 px-1.5 py-0.5 rounded-full",children:"1"})]}),s.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center px-3 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white cosmic-gradient hover:cosmic-glow transition-all duration-200",children:[s.jsx(fr,{className:"h-5 w-5 mr-1.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Show QR"})]})]})]}),s.jsx(ne,{children:E&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"recent",label:"Recent",icon:qe},{id:"location",label:"Location",icon:We},{id:"company",label:"Company",icon:$n},{id:"job",label:"Job Title",icon:zn},{id:"tags",label:"Tags",icon:bl}].map(z=>{const $=z.icon,ee=A===z.id;return s.jsxs("button",{onClick:()=>R(ee?null:z.id),className:`inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${ee?"bg-cosmic-secondary/10 text-cosmic-secondary border border-cosmic-secondary/20":"bg-gray-100 text-cosmic-primary/70 hover:bg-cosmic-secondary/5 border border-gray-200"}`,children:[s.jsx($,{className:"h-4 w-4 mr-1.5"}),z.label]},z.id)})}),A&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[A==="recent"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Today"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"This Week"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"This Month"})]}),A==="location"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"New York"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"San Francisco"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"London"})]}),A==="company"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Google"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Microsoft"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Apple"})]}),A==="job"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Developer"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Designer"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Manager"})]}),A==="tags"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Conference"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Relationship Building"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:"Client"})]})]})})]})})})]}),n.length>0&&s.jsxs("div",{id:"connection-requests",className:"mb-8",children:[s.jsx("div",{className:"flex justify-between items-center mb-4 bg-gradient-to-r from-cosmic-accent/10 to-cosmic-accent/20 p-3 rounded-lg border border-cosmic-accent/30",children:s.jsxs(T.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-cosmic-accent rounded-full mr-3 shadow-sm",children:s.jsx(Ht,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-cosmic-primary flex items-center",children:["Connection Requests",s.jsx("span",{className:"ml-2 bg-cosmic-accent/20 text-cosmic-primary text-xs font-medium px-2.5 py-0.5 rounded-full",children:n.length})]}),s.jsx("p",{className:"text-xs text-cosmic-primary/70",children:"People waiting to connect with you"})]})]})}),u?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cosmic-secondary"})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(z=>s.jsx(_f,{contact:z,onEdit:()=>{},onDelete:()=>{},onAccept:F,onDecline:H,contacts:o},z.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 bg-gradient-to-r from-indigo-50 to-indigo-100 p-3 rounded-lg border border-indigo-200",children:[s.jsxs(T.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-indigo-600 rounded-full mr-3 shadow-sm",children:s.jsx(Ze,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Connections"}),s.jsx("p",{className:"text-xs text-indigo-700",children:"People you've recently connected with"})]})]}),s.jsxs(T.button,{whileHover:{scale:1.05,x:3},onClick:()=>t("/app/contacts"),className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center bg-white px-3 py-1 rounded-lg shadow-sm",children:["View All",s.jsx(Ot,{className:"h-4 w-4 ml-1"})]})]}),u?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):Y.length===0?s.jsx("div",{className:"text-center py-8 bg-white rounded-xl shadow-sm border border-gray-200",children:S?s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("div",{className:"p-3 bg-amber-50 rounded-full inline-block mb-3",children:s.jsx(Or,{className:"h-6 w-6 text-amber-500"})}),s.jsxs("p",{className:"text-gray-600 mb-3",children:['No contacts found matching "',S,'"']}),s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(""),className:"text-indigo-600 hover:text-indigo-700 font-medium px-4 py-2 bg-white border border-indigo-200 rounded-lg shadow-sm",children:"Clear search"})]}):s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("div",{className:"p-3 bg-indigo-50 rounded-full inline-block mb-3",children:s.jsx(Ze,{className:"h-6 w-6 text-indigo-500"})}),s.jsx("p",{className:"text-gray-600 mb-3",children:"No recent connections"}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/app/contacts"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",children:[s.jsx(Ea,{className:"h-5 w-5 mr-1.5"}),"Add Contact"]})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(z=>s.jsx(_f,{contact:z,onEdit:()=>{},onDelete:()=>{},onUpdateTier:K},z.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-full mr-3 shadow-sm",children:s.jsx(Yx,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:["Follow-up Calendar",(ye.length>0||De.length>0)&&s.jsx("span",{className:"ml-2 bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:ye.length+De.length})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Keep track of your relationship follow-ups"})]})]}),s.jsxs(T.button,{whileHover:{scale:1.05,x:3},onClick:()=>t("/app/contacts"),className:"text-sm text-purple-600 hover:text-purple-800 flex items-center bg-white px-3 py-1 rounded-lg shadow-sm border border-purple-100",children:["Manage All",s.jsx(Ot,{className:"h-4 w-4 ml-1"})]})]}),u?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):x.filter(z=>!z.completed).length===0?s.jsxs("div",{className:"text-center py-8 bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx(Yx,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No pending follow-ups"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add follow-ups to your contacts to stay in touch"})]}):s.jsx(qM,{followUps:x,onToggleFollowUp:O,onViewContact:M})]}),s.jsxs("div",{className:"mb-8 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-gray-200 rounded-full mr-3",children:s.jsx(oi,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Test Data"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Try the app with sample connections"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[s.jsxs(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 transition-all duration-200",children:[s.jsx(rr,{className:"h-5 w-5 mr-1.5"}),"Tech Connection"]}),s.jsxs(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:V,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 transition-all duration-200",children:[s.jsx(rr,{className:"h-5 w-5 mr-1.5"}),"Lisbon Connection"]})]})]}),e&&s.jsx(Hg,{isOpen:j,onClose:()=>N(!1),user:e})]})}function pI({user:t,onEdit:e,onEditSection:n}){var S,_,E,P,C,I,A,R,F;const[r,i]=y.useState(!0),[a,o]=y.useState(["about","social"]),[c,l]=y.useState(!1);k.debug("ProfileView rendering with user data:",{userId:t==null?void 0:t.id,hasData:!!t,name:t==null?void 0:t.name,socialLinksCount:t!=null&&t.socialLinks?Object.keys(t.socialLinks).length:0});const d=H=>{o(K=>K.includes(H)?K.filter(O=>O!==H):[...K,H])},u=async()=>{try{const H=`${window.location.origin}/share/${t.id}`;await navigator.clipboard.writeText(H),l(!0),setTimeout(()=>l(!1),2e3)}catch(H){console.error("Error copying link:",H)}};if(!t)return s.jsx("div",{className:"flex justify-center items-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});const h=t.socialLinks&&Object.keys(t.socialLinks).length>0,m=t.interests&&t.interests.length>0,f=((S=t.bio)==null?void 0:S.about)||((_=t.bio)==null?void 0:_.location)||((E=t.bio)==null?void 0:E.from),g=(P=t.bio)==null?void 0:P.location,w=(C=t.bio)==null?void 0:C.from,x=t.jobTitle&&t.company,v=[!!t.profileImage,!!t.coverImage,f,m,h,g,w,x],b=v.filter(Boolean).length,p=Math.round(b/v.length*100),j={photo:!t.profileImage,cover:!t.coverImage,bio:!((I=t.bio)!=null&&I.about),location:!g,interests:!m,socialLinks:!h},N=H=>{n?n(H):e()};return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative h-48 sm:h-64",children:[t.coverImage?s.jsx("img",{src:t.coverImage,alt:"Profile cover",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-r from-indigo-600 to-indigo-800 flex items-center justify-center",children:s.jsxs("button",{onClick:()=>N("images"),className:"bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center",children:[s.jsx(Kn,{className:"h-5 w-5 mr-2"}),"Add Cover Image"]})}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),t.coverImage&&s.jsx("button",{onClick:()=>N("images"),className:"absolute bottom-4 right-4 bg-black/50 text-white p-2 rounded-full hover:bg-black/70",children:s.jsx(vh,{className:"h-5 w-5"})})]}),p<100&&r&&s.jsxs("div",{className:"absolute top-4 right-4 left-4 sm:left-auto bg-white/90 backdrop-blur-sm rounded-lg shadow-lg p-4 z-10",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center",children:[s.jsx(fl,{className:"h-4 w-4 text-amber-500 mr-2"}),"Complete Your Profile"]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Your profile is ",p,"% complete. Add more information to make connections easier."]}),s.jsx("div",{className:"mt-2 h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-indigo-600 rounded-full",style:{width:`${p}%`}})})]}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx(Se,{className:"h-4 w-4"})})]}),s.jsx("button",{onClick:e,className:"mt-3 w-full text-center text-sm text-indigo-600 font-medium hover:text-indigo-700",children:"Complete Now"})]}),s.jsxs("div",{className:"px-6 -mt-12 relative z-10",children:[s.jsxs("div",{className:"sm:flex sm:items-end sm:space-x-5",children:[s.jsx("div",{className:"relative flex",children:t.profileImage?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:t.profileImage,alt:t.name,className:"h-24 w-24 rounded-xl ring-4 ring-white object-cover sm:h-32 sm:w-32"}),s.jsx("button",{onClick:()=>N("images"),className:"absolute bottom-0 right-0 bg-indigo-600 text-white p-1.5 rounded-full",children:s.jsx(vh,{className:"h-4 w-4"})})]}):s.jsx("div",{className:"h-24 w-24 rounded-xl ring-4 ring-white bg-indigo-100 flex items-center justify-center sm:h-32 sm:w-32",children:s.jsxs("button",{onClick:()=>N("images"),className:"flex flex-col items-center justify-center w-full h-full text-indigo-600 hover:bg-indigo-50 transition-colors",children:[s.jsx(Kn,{className:"h-8 w-8 mb-1"}),s.jsx("span",{className:"text-xs",children:"Add Photo"})]})})}),s.jsxs("div",{className:"mt-6 sm:flex-1 sm:min-w-0 sm:flex sm:items-center sm:justify-end sm:space-x-6 sm:pb-1",children:[s.jsxs("div",{className:"sm:hidden md:block mt-6 min-w-0 flex-1",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 truncate flex items-center",children:[t.name,s.jsx("button",{onClick:()=>N("basic"),className:"ml-2 p-1 text-gray-400 hover:text-indigo-600 hover:bg-gray-100 rounded-full",children:s.jsx(vh,{className:"h-4 w-4"})})]}),t.jobTitle&&s.jsxs("p",{className:"text-lg text-gray-600",children:[t.jobTitle,t.company&&s.jsxs(s.Fragment,{children:[" at ",t.company]})]}),!t.jobTitle&&!t.company&&s.jsxs("button",{onClick:()=>N("basic"),className:"mt-1 text-sm text-indigo-600 hover:text-indigo-700 flex items-center",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Job Information"]})]}),s.jsxs("div",{className:"mt-6 flex flex-col justify-stretch space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4",children:[s.jsxs("button",{type:"button",onClick:e,className:"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[s.jsx(af,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400"}),s.jsx("span",{children:"Edit Profile"})]}),s.jsxs("button",{type:"button",onClick:u,className:"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[s.jsx(Go,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400"}),s.jsx("span",{children:c?"Copied!":"Copy Link"})]})]})]})]}),s.jsxs("div",{className:"mt-8 space-y-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>d("about"),children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(fi,{className:"h-5 w-5 mr-2 text-gray-400"}),"About"]}),s.jsxs("div",{className:"flex items-center",children:[!f&&s.jsxs("button",{onClick:H=>{H.stopPropagation(),N("bio")},className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center mr-2",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Bio"]}),a.includes("about")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]})]}),s.jsx(ne,{children:a.includes("about")&&s.jsxs(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:[g||w?s.jsxs("div",{className:"flex flex-wrap gap-6 mb-4",children:[((A=t.bio)==null?void 0:A.location)&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(We,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsxs("span",{children:["Located in ",t.bio.location]})]}),((R=t.bio)==null?void 0:R.from)&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(lt,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsxs("span",{children:["From ",t.bio.from]})]})]}):s.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-100 flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Add your location information to help people connect with you"})}),s.jsxs("button",{onClick:()=>N("bio"),className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center whitespace-nowrap",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Location"]})]}),(F=t.bio)!=null&&F.about?s.jsx("div",{className:"prose max-w-none mb-6",children:s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:t.bio.about})}):s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-100 flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Tell others about yourself, your interests, and your expertise"})}),s.jsxs("button",{onClick:()=>N("bio"),className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center whitespace-nowrap",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Bio"]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center",children:[s.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),"Interests"]}),!m&&s.jsxs("button",{onClick:()=>N("interests"),className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Interests"]})]}),m?s.jsx("div",{className:"flex flex-wrap gap-2",children:t.interests.map((H,K)=>s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-50 text-indigo-700",children:H},K))}):s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Add your interests to help others connect with you based on shared passions"})})]})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>d("social"),children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(It,{className:"h-5 w-5 mr-2 text-gray-400"}),"Social Links"]}),s.jsxs("div",{className:"flex items-center",children:[!h&&s.jsxs("button",{onClick:H=>{H.stopPropagation(),N("social")},className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center mr-2",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Social Links"]}),a.includes("social")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]})]}),s.jsx(ne,{children:a.includes("social")&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:h?Object.entries(Un).map(([H,K])=>{const O=Object.entries(t.socialLinks||{}).filter(([M])=>K.links[M]).map(([M,D])=>({key:M,value:D,...K.links[M]}));return O.length===0?null:s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsx("div",{className:`p-4 rounded-lg bg-gradient-to-br ${K.color} mb-4`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(K.icon,{className:`h-5 w-5 ${K.iconColor} mr-3`}),s.jsx("h4",{className:"font-medium text-gray-900",children:K.title})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:O.map(({key:M,value:D,icon:V,color:Y,label:U})=>s.jsxs("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-gray-300 bg-white hover:bg-gray-50 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(V,{className:"h-5 w-5 mr-3",style:{color:Y}}),s.jsx("span",{className:"font-medium text-gray-700",children:U})]}),s.jsx(Ot,{className:"h-4 w-4 text-gray-400"})]},M))})]},H)}):s.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-100 text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(It,{className:"h-6 w-6 text-indigo-600"})}),s.jsx("h3",{className:"text-base font-medium text-gray-900 mb-2",children:"Connect Your Social Profiles"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add your social media profiles to make it easier for people to connect with you across platforms."}),s.jsxs("button",{onClick:()=>N("social"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Add Social Links"]})]})})})]}),p<100&&s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-800 p-6 rounded-xl shadow-sm text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(dt,{className:"h-5 w-5 mr-2"}),"Profile Completion"]}),s.jsxs("span",{className:"text-xl font-bold",children:[p,"%"]})]}),s.jsx("div",{className:"h-2 w-full bg-white/20 rounded-full mb-4",children:s.jsx("div",{className:"h-full bg-white rounded-full",style:{width:`${p}%`}})}),s.jsxs("div",{className:"space-y-2 mb-4",children:[j.photo&&s.jsxs("div",{className:"flex items-center text-white/90",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-full border border-white/40 flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:"•"})}),s.jsx("span",{className:"text-sm",children:"Add a profile photo"})]}),j.cover&&s.jsxs("div",{className:"flex items-center text-white/90",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-full border border-white/40 flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:"•"})}),s.jsx("span",{className:"text-sm",children:"Add a cover image"})]}),j.bio&&s.jsxs("div",{className:"flex items-center text-white/90",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-full border border-white/40 flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:"•"})}),s.jsx("span",{className:"text-sm",children:"Write a bio"})]}),j.location&&s.jsxs("div",{className:"flex items-center text-white/90",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-full border border-white/40 flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:"•"})}),s.jsx("span",{className:"text-sm",children:"Add your current location"})]}),j.interests&&s.jsxs("div",{className:"flex items-center text-white/90",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-full border border-white/40 flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:"•"})}),s.jsx("span",{className:"text-sm",children:"Add your interests"})]}),j.socialLinks&&s.jsxs("div",{className:"flex items-center text-white/90",children:[s.jsx("div",{className:"w-5 h-5 mr-2 rounded-full border border-white/40 flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:"•"})}),s.jsx("span",{className:"text-sm",children:"Connect social profiles"})]})]}),s.jsx("button",{onClick:e,className:"w-full py-2 bg-white text-indigo-700 rounded-lg font-medium hover:bg-white/90 transition-colors",children:"Complete Your Profile"})]})]})]})]})}const gI={technology:"Technology & Software",business_management:"Business & Management",creative_design:"Creative & Design",healthcare:"Healthcare & Medical",education:"Education & Training",finance_legal:"Finance & Legal",science_research:"Science & Research",arts_entertainment:"Arts & Entertainment",hospitality_tourism:"Hospitality & Tourism",sports_fitness:"Sports & Fitness",manufacturing_engineering:"Manufacturing & Engineering",agriculture_environment:"Agriculture & Environment",media_communication:"Media & Communication",transportation_logistics:"Transportation & Logistics",construction_trades:"Construction & Trades",government_public_service:"Government & Public Service",nonprofit_social_impact:"Nonprofit & Social Impact",other:"Other"},Rh={technology:["Software Engineer","Full Stack Developer","Frontend Developer","Backend Developer","Mobile Developer","iOS Developer","Android Developer","React Developer","Angular Developer","Vue.js Developer","Node.js Developer","Python Developer","Java Developer","C# Developer","Ruby Developer","PHP Developer","Golang Developer","Rust Developer","Blockchain Developer","Smart Contract Developer","DevOps Engineer","Site Reliability Engineer","Cloud Architect","AWS Solutions Architect","Azure Cloud Engineer","Google Cloud Engineer","Data Scientist","Data Engineer","Data Analyst","Business Intelligence Analyst","Machine Learning Engineer","AI Researcher","Deep Learning Specialist","NLP Engineer","Computer Vision Engineer","Product Manager","Technical Product Manager","Product Owner","UX Designer","UI Designer","UX Researcher","Interaction Designer","Visual Designer","QA Engineer","Test Automation Engineer","Security Engineer","Cybersecurity Analyst","Penetration Tester","Information Security Officer","Systems Administrator","Database Administrator","Network Engineer","Network Administrator","Technical Lead","Engineering Manager","CTO","CIO","CISO","IT Manager","IT Support Specialist","Scrum Master","Agile Coach","Technical Writer","Game Developer","Unity Developer","Unreal Engine Developer","AR/VR Developer","Embedded Systems Engineer","IoT Developer","Robotics Engineer","Quantum Computing Researcher"],business_management:["CEO","COO","CFO","Chief Marketing Officer","Chief Revenue Officer","Chief People Officer","Chief Strategy Officer","Chief Growth Officer","Business Analyst","Business Systems Analyst","Project Manager","Program Manager","Product Operations Manager","Operations Manager","Operations Director","Account Manager","Key Account Manager","Sales Manager","Sales Director","Sales Representative","Business Development Representative","Business Development Manager","Marketing Manager","Digital Marketing Manager","Content Marketing Manager","Growth Marketing Manager","Brand Manager","SEO Specialist","SEM Specialist","PPC Specialist","Email Marketing Specialist","Social Media Manager","Community Manager","PR Manager","Public Relations Specialist","HR Manager","HR Business Partner","Talent Acquisition Specialist","Recruiter","Technical Recruiter","People Operations Manager","Learning & Development Manager","Compensation & Benefits Manager","Strategy Consultant","Management Consultant","Financial Analyst","Investment Banker","Venture Capitalist","Private Equity Associate","Mergers & Acquisitions Specialist","Business Intelligence Manager","Office Manager","Executive Assistant","Administrative Assistant","Customer Success Manager","Customer Experience Manager","Client Relationship Manager"],creative_design:["Graphic Designer","Senior Graphic Designer","Art Director","Creative Director","Visual Designer","Brand Designer","Motion Designer","3D Designer","Illustrator","Animator","Character Designer","Storyboard Artist","Photographer","Videographer","Video Editor","Film Editor","Sound Designer","Audio Engineer","Content Creator","Content Strategist","Copywriter","Technical Copywriter","UX Writer","Content Editor","Editor-in-Chief","Managing Editor","Journalist","Reporter","Social Media Content Creator","Digital Marketing Specialist","SEO Content Writer","Interior Designer","Fashion Designer","Textile Designer","Industrial Designer","Product Designer","Packaging Designer","Web Designer","Email Designer","Print Designer","Exhibition Designer","Game Artist","Concept Artist","Environment Artist","Character Artist","UI Artist","Animation Artist","VFX Artist","Architectural Visualizer"],healthcare:["Doctor","Physician","General Practitioner","Specialist Physician","Surgeon","Cardiologist","Neurologist","Pediatrician","Psychiatrist","Dermatologist","Ophthalmologist","Anesthesiologist","Radiologist","Oncologist","Nurse","Registered Nurse","Nurse Practitioner","Clinical Nurse Specialist","Nurse Anesthetist","Nurse Midwife","Dentist","Orthodontist","Dental Hygienist","Pharmacist","Clinical Pharmacist","Pharmacy Technician","Physical Therapist","Occupational Therapist","Speech Therapist","Respiratory Therapist","Psychologist","Clinical Psychologist","Neuropsychologist","Veterinarian","Veterinary Technician","Medical Researcher","Clinical Research Coordinator","Biomedical Scientist","Epidemiologist","Healthcare Administrator","Hospital Administrator","Medical Director","Healthcare Consultant","Nutritionist","Dietitian","Paramedic","Emergency Medical Technician","Medical Assistant","Physician Assistant","Medical Laboratory Technician","Radiologic Technologist","Ultrasound Technician","MRI Technologist","Phlebotomist","Medical Coder","Medical Biller","Health Information Technician","Public Health Specialist","Healthcare Data Analyst"],education:["Teacher","Elementary School Teacher","Middle School Teacher","High School Teacher","Special Education Teacher","ESL Teacher","STEM Teacher","Music Teacher","Art Teacher","Physical Education Teacher","Professor","Associate Professor","Assistant Professor","Adjunct Professor","Lecturer","Principal","Vice Principal","School Administrator","Dean","Department Chair","Academic Advisor","College Counselor","Education Consultant","Curriculum Developer","Instructional Designer","E-learning Developer","Educational Technologist","School Counselor","School Psychologist","Educational Psychologist","Research Associate","Research Assistant","Teaching Assistant","Graduate Assistant","Librarian","School Librarian","Research Librarian","Education Coordinator","Program Coordinator","Career Counselor","Admissions Officer","Registrar","Financial Aid Counselor","Student Affairs Coordinator","Student Success Coach","Tutor","Early Childhood Educator","Preschool Teacher","Childcare Worker","Education Policy Analyst","Education Researcher"],finance_legal:["Lawyer","Attorney","Corporate Lawyer","Litigation Attorney","Patent Attorney","Tax Attorney","Immigration Lawyer","Family Lawyer","Criminal Defense Lawyer","Legal Consultant","Legal Counsel","General Counsel","Judge","Paralegal","Legal Assistant","Law Clerk","Accountant","Certified Public Accountant","Chartered Accountant","Forensic Accountant","Tax Accountant","Tax Advisor","Tax Consultant","Financial Planner","Certified Financial Planner","Financial Advisor","Wealth Manager","Investment Advisor","Portfolio Manager","Fund Manager","Hedge Fund Manager","Private Equity Manager","Risk Manager","Risk Analyst","Compliance Officer","Regulatory Compliance Specialist","Insurance Agent","Insurance Broker","Insurance Underwriter","Claims Adjuster","Real Estate Agent","Real Estate Broker","Real Estate Appraiser","Mortgage Broker","Loan Officer","Credit Analyst","Auditor","Internal Auditor","External Auditor","Treasurer","Financial Controller","Actuary","Economist","Financial Analyst","Investment Analyst","Equity Analyst","Quantitative Analyst","Legal Secretary","Bankruptcy Specialist","Estate Planning Attorney"],science_research:["Research Scientist","Principal Investigator","Research Associate","Research Assistant","Laboratory Manager","Laboratory Technician","Biologist","Molecular Biologist","Cell Biologist","Marine Biologist","Microbiologist","Biochemist","Geneticist","Chemist","Analytical Chemist","Organic Chemist","Inorganic Chemist","Medicinal Chemist","Physicist","Theoretical Physicist","Experimental Physicist","Astrophysicist","Astronomer","Environmental Scientist","Ecologist","Conservation Scientist","Geologist","Geophysicist","Meteorologist","Climatologist","Oceanographer","Clinical Research Coordinator","Clinical Trial Manager","Biomedical Engineer","Biomedical Scientist","Forensic Scientist","Forensic Analyst","Food Scientist","Nutritional Scientist","Materials Scientist","Nanotechnology Researcher","Research Director","Science Director","Patent Examiner","Science Writer","Technical Writer","Science Communicator","Laboratory Supervisor","Data Analyst","Statistical Analyst","Biostatistician","Neuroscientist","Cognitive Scientist","Immunologist","Virologist","Toxicologist","Pharmacologist"],arts_entertainment:["Actor","Actress","Voice Actor","Theater Actor","Film Actor","Musician","Singer","Songwriter","Composer","Music Producer","DJ","Dancer","Choreographer","Producer","Film Producer","TV Producer","Executive Producer","Director","Film Director","Creative Director","Art Director","Technical Director","Film Editor","Video Editor","Sound Engineer","Audio Engineer","Lighting Designer","Lighting Technician","Stage Manager","Production Manager","Production Assistant","Talent Agent","Talent Manager","Casting Director","Music Teacher","Vocal Coach","Art Curator","Gallery Owner","Art Dealer","Theater Manager","Venue Manager","Costume Designer","Wardrobe Stylist","Set Designer","Prop Master","Makeup Artist","Special Effects Makeup Artist","Performance Artist","Circus Performer","Magician","Comedian","Screenwriter","Playwright","Novelist","Author","Poet","Script Supervisor","Stunt Performer","Stunt Coordinator"],hospitality_tourism:["Chef","Executive Chef","Sous Chef","Pastry Chef","Line Cook","Baker","Restaurant Manager","Food and Beverage Manager","Restaurant Owner","Restaurateur","Sommelier","Bartender","Mixologist","Barista","Server","Waiter/Waitress","Host/Hostess","Hotel Manager","Hotel General Manager","Front Desk Manager","Front Desk Agent","Concierge","Housekeeping Manager","Housekeeper","Event Planner","Event Coordinator","Wedding Planner","Conference Coordinator","Travel Agent","Travel Consultant","Tour Guide","Tour Operator","Tour Director","Flight Attendant","Pilot","Cruise Director","Cruise Ship Staff","Resort Manager","Resort Activities Director","Casino Manager","Casino Dealer","Tourism Coordinator","Tourism Development Officer","Guest Relations Manager","Guest Experience Manager","Catering Manager","Catering Coordinator","Food Service Director","Spa Manager","Spa Therapist","Massage Therapist","Recreation Director","Theme Park Manager","Attraction Manager"],sports_fitness:["Personal Trainer","Fitness Instructor","Group Fitness Instructor","Yoga Instructor","Pilates Instructor","CrossFit Coach","Strength and Conditioning Coach","Athletic Coach","Sports Coach","Head Coach","Assistant Coach","Sports Manager","Team Manager","Athletic Director","Sports Administrator","Sports Agent","Sports Therapist","Physical Therapist","Sports Psychologist","Sports Nutritionist","Dietitian","Sports Medicine Physician","Athletic Trainer","Professional Athlete","Sports Analyst","Sports Commentator","Sports Journalist","Sports Photographer","Sports Marketing Manager","Sports Event Coordinator","Gym Manager","Fitness Center Director","Recreation Coordinator","Outdoor Activities Guide","Adventure Guide","Ski Instructor","Snowboard Instructor","Swimming Instructor","Lifeguard","Diving Instructor","Golf Instructor","Tennis Coach","Referee","Umpire","Sports Official","Physical Education Teacher","Dance Instructor","Martial Arts Instructor","Boxing Coach","Gymnastics Coach","Sports Facility Manager","Stadium Operations Manager"],manufacturing_engineering:["Mechanical Engineer","Electrical Engineer","Civil Engineer","Structural Engineer","Chemical Engineer","Industrial Engineer","Manufacturing Engineer","Process Engineer","Quality Engineer","Aerospace Engineer","Automotive Engineer","Petroleum Engineer","Nuclear Engineer","Biomedical Engineer","Environmental Engineer","Materials Engineer","Mining Engineer","Marine Engineer","Engineering Manager","Engineering Director","Plant Manager","Production Manager","Operations Manager","Quality Control Manager","Quality Assurance Manager","Supply Chain Manager","Logistics Manager","Procurement Manager","Purchasing Manager","Inventory Manager","Warehouse Manager","Production Supervisor","Shift Supervisor","Maintenance Manager","Maintenance Technician","CNC Machinist","Tool and Die Maker","Welder","Fabricator","Assembly Line Worker","Production Worker","Machine Operator","Forklift Operator","Safety Manager","Environmental Health and Safety Specialist","Compliance Manager","Facilities Manager","Facilities Technician","CAD Designer","Drafter","Technical Illustrator"],agriculture_environment:["Farmer","Agricultural Manager","Farm Manager","Agricultural Scientist","Agronomist","Soil Scientist","Crop Scientist","Horticulturist","Viticulturist","Livestock Manager","Veterinarian","Veterinary Technician","Agricultural Engineer","Agricultural Consultant","Agricultural Economist","Food Safety Inspector","Environmental Scientist","Environmental Consultant","Environmental Engineer","Conservation Scientist","Wildlife Biologist","Marine Biologist","Ecologist","Forester","Park Ranger","Landscape Architect","Landscape Designer","Arborist","Botanist","Greenhouse Manager","Nursery Manager","Fishery Manager","Aquaculture Technician","Sustainability Consultant","Renewable Energy Specialist","Solar Energy Technician","Wind Energy Technician","Waste Management Specialist","Recycling Coordinator","Water Resource Specialist","Hydrologist","Climate Change Analyst","Environmental Policy Analyst","Environmental Educator","Conservation Officer","Natural Resource Manager","Organic Farming Specialist","Permaculture Designer","Urban Farmer","Apiarist/Beekeeper"],media_communication:["Journalist","Reporter","News Anchor","Broadcast Journalist","Investigative Journalist","Photojournalist","Editor","Copy Editor","Managing Editor","Content Editor","Publisher","Publishing Director","Literary Agent","Book Editor","Proofreader","Copywriter","Content Writer","Technical Writer","Ghostwriter","Blogger","Social Media Manager","Social Media Specialist","Digital Content Producer","Content Strategist","SEO Specialist","Public Relations Manager","PR Specialist","Media Relations Manager","Communications Director","Corporate Communications Manager","Internal Communications Specialist","Crisis Communications Manager","Spokesperson","Press Secretary","Speech Writer","Translator","Interpreter","Localization Specialist","Radio Producer","Radio Host","Podcast Producer","Podcaster","TV Producer","TV Host","Broadcast Technician","Camera Operator","Videographer","Film Producer","Documentary Filmmaker","Media Planner","Advertising Executive","Brand Strategist"],transportation_logistics:["Pilot","Commercial Pilot","Airline Pilot","Flight Instructor","Air Traffic Controller","Flight Dispatcher","Aircraft Mechanic","Aviation Technician","Truck Driver","Delivery Driver","Courier","Bus Driver","Taxi Driver","Chauffeur","Train Operator","Locomotive Engineer","Conductor","Ship Captain","Merchant Marine","Sailor","Deckhand","Marine Engineer","Port Manager","Harbor Master","Logistics Manager","Logistics Coordinator","Supply Chain Manager","Supply Chain Analyst","Inventory Manager","Warehouse Manager","Warehouse Supervisor","Distribution Manager","Transportation Manager","Fleet Manager","Freight Forwarder","Customs Broker","Import/Export Specialist","Shipping Coordinator","Logistics Analyst","Route Planner","Traffic Manager","Dispatcher","Transportation Planner","Urban Mobility Specialist","Automotive Technician","Diesel Mechanic","Aviation Manager","Railway Operations Manager","Maritime Operations Manager","Drone Operator","Autonomous Vehicle Specialist"],construction_trades:["Construction Manager","Project Manager","General Contractor","Construction Superintendent","Site Manager","Civil Engineer","Structural Engineer","Architect","Architectural Designer","Drafter","CAD Technician","Building Inspector","Safety Inspector","Surveyor","Land Surveyor","Quantity Surveyor","Estimator","Cost Estimator","Carpenter","Master Carpenter","Framer","Electrician","Master Electrician","Plumber","Master Plumber","HVAC Technician","HVAC Engineer","Welder","Pipefitter","Steamfitter","Mason","Bricklayer","Stonemason","Roofer","Painter","Drywall Installer","Plasterer","Flooring Installer","Tile Setter","Glazier","Insulation Installer","Landscaper","Landscape Designer","Groundskeeper","Equipment Operator","Crane Operator","Bulldozer Operator","Excavator Operator","Demolition Specialist","Elevator Installer","Solar Panel Installer","Wind Turbine Technician"],government_public_service:["Government Official","Elected Official","Mayor","Governor","Senator","Representative","Diplomat","Foreign Service Officer","Policy Advisor","Policy Analyst","Legislative Aide","Political Consultant","Campaign Manager","Public Administrator","City Manager","Urban Planner","City Planner","Civil Servant","Government Analyst","Intelligence Analyst","Intelligence Officer","Military Officer","Military Personnel","Veteran","Police Officer","Detective","Sheriff","State Trooper","Federal Agent","FBI Agent","DEA Agent","Border Patrol Agent","Customs Officer","Immigration Officer","Firefighter","Fire Chief","Paramedic","EMT","Emergency Manager","Disaster Response Coordinator","Public Health Official","Public Health Inspector","Environmental Health Officer","Postal Worker","Mail Carrier","Postal Service Clerk","Tax Examiner","IRS Agent","Social Worker","Child Welfare Specialist","Probation Officer","Parole Officer","Correctional Officer"],nonprofit_social_impact:["Nonprofit Executive Director","Nonprofit Manager","Program Director","Program Manager","Program Coordinator","Grant Writer","Grant Manager","Fundraiser","Development Director","Donor Relations Manager","Volunteer Coordinator","Community Organizer","Community Outreach Coordinator","Social Worker","Case Manager","Mental Health Counselor","Family Counselor","Youth Counselor","Substance Abuse Counselor","Victim Advocate","Human Rights Advocate","Environmental Advocate","Animal Welfare Specialist","Wildlife Conservationist","Humanitarian Aid Worker","International Development Specialist","Peace Corps Volunteer","Disaster Relief Coordinator","Crisis Response Manager","Refugee Coordinator","Immigration Counselor","ESL Teacher","Literacy Specialist","Special Needs Advocate","Disability Services Coordinator","Elder Care Specialist","Hospice Worker","Public Health Educator","Community Health Worker","Food Bank Manager","Homeless Shelter Coordinator","Affordable Housing Specialist","Social Justice Advocate","Policy Advocate","Lobbyist","Campaign Organizer","Civic Engagement Coordinator","Volunteer"],other:["Freelancer","Independent Contractor","Entrepreneur","Small Business Owner","Startup Founder","Co-founder","Solopreneur","Consultant","Advisor","Coach","Life Coach","Career Coach","Executive Coach","Business Coach","Mentor","Speaker","Public Speaker","Keynote Speaker","Author","Writer","Blogger","Influencer","Content Creator","Podcaster","YouTuber","Streamer","Researcher","Academic","Scholar","Student","Graduate Student","PhD Candidate","Postdoctoral Researcher","Fellow","Intern","Apprentice","Trainee","Volunteer","Board Member","Trustee","Advisor","Investor","Angel Investor","Retired","Homemaker","Caregiver","Self-Employed","Digital Nomad","Remote Worker","Gig Worker","Other"]};function T2({value:t,onChange:e,required:n=!1,className:r=""}){return s.jsxs("div",{className:r,children:[s.jsxs("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-1",children:["Industry",n&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{id:"industry",value:t||"",onChange:i=>e(i.target.value),className:"block w-full pl-10 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-lg",required:n,children:[s.jsx("option",{value:"",children:"Select an industry"}),Object.entries(gI).map(([i,a])=>s.jsx("option",{value:i,children:a},i))]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:s.jsx(Re,{className:"h-5 w-5 text-gray-400"})})]})]})}const xI=["Software Engineer","Full Stack Developer","Frontend Developer","Backend Developer","Mobile Developer","iOS Developer","Android Developer","React Developer","Angular Developer","Vue.js Developer","Node.js Developer","Python Developer","Java Developer","C# Developer","Ruby Developer","PHP Developer","Golang Developer","Rust Developer","Blockchain Developer","Smart Contract Developer","DevOps Engineer","Site Reliability Engineer","Cloud Architect","AWS Solutions Architect","Azure Cloud Engineer","Google Cloud Engineer","Data Scientist","Data Engineer","Data Analyst","Business Intelligence Analyst","Machine Learning Engineer","AI Researcher","Deep Learning Specialist","NLP Engineer","Computer Vision Engineer","Product Manager","Technical Product Manager","Product Owner","UX Designer","UI Designer","UX Researcher","Interaction Designer","Visual Designer","QA Engineer","Test Automation Engineer","Security Engineer","Cybersecurity Analyst","Penetration Tester","Information Security Officer","Systems Administrator","Database Administrator","Network Engineer","Network Administrator","Technical Lead","Engineering Manager","CTO","CIO","CISO","IT Manager","IT Support Specialist","Scrum Master","Agile Coach","Technical Writer","Game Developer","Unity Developer","Unreal Engine Developer","AR/VR Developer","Embedded Systems Engineer","IoT Developer","Robotics Engineer","Quantum Computing Researcher","CEO","COO","CFO","Chief Marketing Officer","Chief Revenue Officer","Chief People Officer","Chief Strategy Officer","Chief Growth Officer","Business Analyst","Business Systems Analyst","Project Manager","Program Manager","Product Operations Manager","Operations Manager","Operations Director","Account Manager","Key Account Manager","Sales Manager","Sales Director","Sales Representative","Business Development Representative","Business Development Manager","Marketing Manager","Digital Marketing Manager","Content Marketing Manager","Growth Marketing Manager","Brand Manager","SEO Specialist","SEM Specialist","PPC Specialist","Email Marketing Specialist","Social Media Manager","Community Manager","PR Manager","Public Relations Specialist","HR Manager","HR Business Partner","Talent Acquisition Specialist","Recruiter","Technical Recruiter","People Operations Manager","Learning & Development Manager","Compensation & Benefits Manager","Strategy Consultant","Management Consultant","Financial Analyst","Investment Banker","Venture Capitalist","Private Equity Associate","Mergers & Acquisitions Specialist","Business Intelligence Manager","Office Manager","Executive Assistant","Administrative Assistant","Customer Success Manager","Customer Experience Manager","Client Relationship Manager","Graphic Designer","Senior Graphic Designer","Art Director","Creative Director","Visual Designer","Brand Designer","Motion Designer","3D Designer","Illustrator","Animator","Character Designer","Storyboard Artist","Photographer","Videographer","Video Editor","Film Editor","Sound Designer","Audio Engineer","Content Creator","Content Strategist","Copywriter","Technical Copywriter","UX Writer","Content Editor","Editor-in-Chief","Managing Editor","Journalist","Reporter","Social Media Content Creator","Digital Marketing Specialist","SEO Content Writer","Interior Designer","Fashion Designer","Textile Designer","Industrial Designer","Product Designer","Packaging Designer","Web Designer","Email Designer","Print Designer","Exhibition Designer","Game Artist","Concept Artist","Environment Artist","Character Artist","UI Artist","Animation Artist","VFX Artist","Architectural Visualizer","Doctor","Physician","General Practitioner","Specialist Physician","Surgeon","Cardiologist","Neurologist","Pediatrician","Psychiatrist","Dermatologist","Ophthalmologist","Anesthesiologist","Radiologist","Oncologist","Nurse","Registered Nurse","Nurse Practitioner","Clinical Nurse Specialist","Nurse Anesthetist","Nurse Midwife","Dentist","Orthodontist","Dental Hygienist","Pharmacist","Clinical Pharmacist","Pharmacy Technician","Physical Therapist","Occupational Therapist","Speech Therapist","Respiratory Therapist","Psychologist","Clinical Psychologist","Neuropsychologist","Veterinarian","Veterinary Technician","Medical Researcher","Clinical Research Coordinator","Biomedical Scientist","Epidemiologist","Healthcare Administrator","Hospital Administrator","Medical Director","Healthcare Consultant","Nutritionist","Dietitian","Paramedic","Emergency Medical Technician","Medical Assistant","Physician Assistant","Medical Laboratory Technician","Radiologic Technologist","Ultrasound Technician","MRI Technologist","Phlebotomist","Medical Coder","Medical Biller","Health Information Technician","Public Health Specialist","Healthcare Data Analyst","Teacher","Elementary School Teacher","Middle School Teacher","High School Teacher","Special Education Teacher","ESL Teacher","STEM Teacher","Music Teacher","Art Teacher","Physical Education Teacher","Professor","Associate Professor","Assistant Professor","Adjunct Professor","Lecturer","Principal","Vice Principal","School Administrator","Dean","Department Chair","Academic Advisor","College Counselor","Education Consultant","Curriculum Developer","Instructional Designer","E-learning Developer","Educational Technologist","School Counselor","School Psychologist","Educational Psychologist","Research Associate","Research Assistant","Teaching Assistant","Graduate Assistant","Librarian","School Librarian","Research Librarian","Education Coordinator","Program Coordinator","Career Counselor","Admissions Officer","Registrar","Financial Aid Counselor","Student Affairs Coordinator","Student Success Coach","Tutor","Early Childhood Educator","Preschool Teacher","Childcare Worker","Education Policy Analyst","Education Researcher","Lawyer","Attorney","Corporate Lawyer","Litigation Attorney","Patent Attorney","Tax Attorney","Immigration Lawyer","Family Lawyer","Criminal Defense Lawyer","Legal Consultant","Legal Counsel","General Counsel","Judge","Paralegal","Legal Assistant","Law Clerk","Accountant","Certified Public Accountant","Chartered Accountant","Forensic Accountant","Tax Accountant","Tax Advisor","Tax Consultant","Financial Planner","Certified Financial Planner","Financial Advisor","Wealth Manager","Investment Advisor","Portfolio Manager","Fund Manager","Hedge Fund Manager","Private Equity Manager","Risk Manager","Risk Analyst","Compliance Officer","Regulatory Compliance Specialist","Insurance Agent","Insurance Broker","Insurance Underwriter","Claims Adjuster","Real Estate Agent","Real Estate Broker","Real Estate Appraiser","Mortgage Broker","Loan Officer","Credit Analyst","Auditor","Internal Auditor","External Auditor","Treasurer","Financial Controller","Actuary","Economist","Financial Analyst","Investment Analyst","Equity Analyst","Quantitative Analyst","Legal Secretary","Bankruptcy Specialist","Estate Planning Attorney","Research Scientist","Principal Investigator","Research Associate","Research Assistant","Laboratory Manager","Laboratory Technician","Biologist","Molecular Biologist","Cell Biologist","Marine Biologist","Microbiologist","Biochemist","Geneticist","Chemist","Analytical Chemist","Organic Chemist","Inorganic Chemist","Medicinal Chemist","Physicist","Theoretical Physicist","Experimental Physicist","Astrophysicist","Astronomer","Environmental Scientist","Ecologist","Conservation Scientist","Geologist","Geophysicist","Meteorologist","Climatologist","Oceanographer","Clinical Research Coordinator","Clinical Trial Manager","Biomedical Engineer","Biomedical Scientist","Forensic Scientist","Forensic Analyst","Food Scientist","Nutritional Scientist","Materials Scientist","Nanotechnology Researcher","Research Director","Science Director","Patent Examiner","Science Writer","Technical Writer","Science Communicator","Laboratory Supervisor","Data Analyst","Statistical Analyst","Biostatistician","Neuroscientist","Cognitive Scientist","Immunologist","Virologist","Toxicologist","Pharmacologist","Actor","Actress","Voice Actor","Theater Actor","Film Actor","Musician","Singer","Songwriter","Composer","Music Producer","DJ","Dancer","Choreographer","Producer","Film Producer","TV Producer","Executive Producer","Director","Film Director","Creative Director","Art Director","Technical Director","Film Editor","Video Editor","Sound Engineer","Audio Engineer","Lighting Designer","Lighting Technician","Stage Manager","Production Manager","Production Assistant","Talent Agent","Talent Manager","Casting Director","Music Teacher","Vocal Coach","Art Curator","Gallery Owner","Art Dealer","Theater Manager","Venue Manager","Costume Designer","Wardrobe Stylist","Set Designer","Prop Master","Makeup Artist","Special Effects Makeup Artist","Performance Artist","Circus Performer","Magician","Comedian","Screenwriter","Playwright","Novelist","Author","Poet","Script Supervisor","Stunt Performer","Stunt Coordinator","Chef","Executive Chef","Sous Chef","Pastry Chef","Line Cook","Baker","Restaurant Manager","Food and Beverage Manager","Restaurant Owner","Restaurateur","Sommelier","Bartender","Mixologist","Barista","Server","Waiter/Waitress","Host/Hostess","Hotel Manager","Hotel General Manager","Front Desk Manager","Front Desk Agent","Concierge","Housekeeping Manager","Housekeeper","Event Planner","Event Coordinator","Wedding Planner","Conference Coordinator","Travel Agent","Travel Consultant","Tour Guide","Tour Operator","Tour Director","Flight Attendant","Pilot","Cruise Director","Cruise Ship Staff","Resort Manager","Resort Activities Director","Casino Manager","Casino Dealer","Tourism Coordinator","Tourism Development Officer","Guest Relations Manager","Guest Experience Manager","Catering Manager","Catering Coordinator","Food Service Director","Spa Manager","Spa Therapist","Massage Therapist","Recreation Director","Theme Park Manager","Attraction Manager","Personal Trainer","Fitness Instructor","Group Fitness Instructor","Yoga Instructor","Pilates Instructor","CrossFit Coach","Strength and Conditioning Coach","Athletic Coach","Sports Coach","Head Coach","Assistant Coach","Sports Manager","Team Manager","Athletic Director","Sports Administrator","Sports Agent","Sports Therapist","Physical Therapist","Sports Psychologist","Sports Nutritionist","Dietitian","Sports Medicine Physician","Athletic Trainer","Professional Athlete","Sports Analyst","Sports Commentator","Sports Journalist","Sports Photographer","Sports Marketing Manager","Sports Event Coordinator","Gym Manager","Fitness Center Director","Recreation Coordinator","Outdoor Activities Guide","Adventure Guide","Ski Instructor","Snowboard Instructor","Swimming Instructor","Lifeguard","Diving Instructor","Golf Instructor","Tennis Coach","Referee","Umpire","Sports Official","Physical Education Teacher","Dance Instructor","Martial Arts Instructor","Boxing Coach","Gymnastics Coach","Sports Facility Manager","Stadium Operations Manager","Mechanical Engineer","Electrical Engineer","Civil Engineer","Structural Engineer","Chemical Engineer","Industrial Engineer","Manufacturing Engineer","Process Engineer","Quality Engineer","Aerospace Engineer","Automotive Engineer","Petroleum Engineer","Nuclear Engineer","Biomedical Engineer","Environmental Engineer","Materials Engineer","Mining Engineer","Marine Engineer","Engineering Manager","Engineering Director","Plant Manager","Production Manager","Operations Manager","Quality Control Manager","Quality Assurance Manager","Supply Chain Manager","Logistics Manager","Procurement Manager","Purchasing Manager","Inventory Manager","Warehouse Manager","Production Supervisor","Shift Supervisor","Maintenance Manager","Maintenance Technician","CNC Machinist","Tool and Die Maker","Welder","Fabricator","Assembly Line Worker","Production Worker","Machine Operator","Forklift Operator","Safety Manager","Environmental Health and Safety Specialist","Compliance Manager","Facilities Manager","Facilities Technician","CAD Designer","Drafter","Technical Illustrator","Farmer","Agricultural Manager","Farm Manager","Agricultural Scientist","Agronomist","Soil Scientist","Crop Scientist","Horticulturist","Viticulturist","Livestock Manager","Veterinarian","Veterinary Technician","Agricultural Engineer","Agricultural Consultant","Agricultural Economist","Food Safety Inspector","Environmental Scientist","Environmental Consultant","Environmental Engineer","Conservation Scientist","Wildlife Biologist","Marine Biologist","Ecologist","Forester","Park Ranger","Landscape Architect","Landscape Designer","Arborist","Botanist","Greenhouse Manager","Nursery Manager","Fishery Manager","Aquaculture Technician","Sustainability Consultant","Renewable Energy Specialist","Solar Energy Technician","Wind Energy Technician","Waste Management Specialist","Recycling Coordinator","Water Resource Specialist","Hydrologist","Climate Change Analyst","Environmental Policy Analyst","Environmental Educator","Conservation Officer","Natural Resource Manager","Organic Farming Specialist","Permaculture Designer","Urban Farmer","Apiarist/Beekeeper","Journalist","Reporter","News Anchor","Broadcast Journalist","Investigative Journalist","Photojournalist","Editor","Copy Editor","Managing Editor","Content Editor","Publisher","Publishing Director","Literary Agent","Book Editor","Proofreader","Copywriter","Content Writer","Technical Writer","Ghostwriter","Blogger","Social Media Manager","Social Media Specialist","Digital Content Producer","Content Strategist","SEO Specialist","Public Relations Manager","PR Specialist","Media Relations Manager","Communications Director","Corporate Communications Manager","Internal Communications Specialist","Crisis Communications Manager","Spokesperson","Press Secretary","Speech Writer","Translator","Interpreter","Localization Specialist","Radio Producer","Radio Host","Podcast Producer","Podcaster","TV Producer","TV Host","Broadcast Technician","Camera Operator","Videographer","Film Producer","Documentary Filmmaker","Media Planner","Advertising Executive","Brand Strategist","Pilot","Commercial Pilot","Airline Pilot","Flight Instructor","Air Traffic Controller","Flight Dispatcher","Aircraft Mechanic","Aviation Technician","Truck Driver","Delivery Driver","Courier","Bus Driver","Taxi Driver","Chauffeur","Train Operator","Locomotive Engineer","Conductor","Ship Captain","Merchant Marine","Sailor","Deckhand","Marine Engineer","Port Manager","Harbor Master","Logistics Manager","Logistics Coordinator","Supply Chain Manager","Supply Chain Analyst","Inventory Manager","Warehouse Manager","Warehouse Supervisor","Distribution Manager","Transportation Manager","Fleet Manager","Freight Forwarder","Customs Broker","Import/Export Specialist","Shipping Coordinator","Logistics Analyst","Route Planner","Traffic Manager","Dispatcher","Transportation Planner","Urban Mobility Specialist","Automotive Technician","Diesel Mechanic","Aviation Manager","Railway Operations Manager","Maritime Operations Manager","Drone Operator","Autonomous Vehicle Specialist","Construction Manager","Project Manager","General Contractor","Construction Superintendent","Site Manager","Civil Engineer","Structural Engineer","Architect","Architectural Designer","Drafter","CAD Technician","Building Inspector","Safety Inspector","Surveyor","Land Surveyor","Quantity Surveyor","Estimator","Cost Estimator","Carpenter","Master Carpenter","Framer","Electrician","Master Electrician","Plumber","Master Plumber","HVAC Technician","HVAC Engineer","Welder","Pipefitter","Steamfitter","Mason","Bricklayer","Stonemason","Roofer","Painter","Drywall Installer","Plasterer","Flooring Installer","Tile Setter","Glazier","Insulation Installer","Landscaper","Landscape Designer","Groundskeeper","Equipment Operator","Crane Operator","Bulldozer Operator","Excavator Operator","Demolition Specialist","Elevator Installer","Solar Panel Installer","Wind Turbine Technician","Government Official","Elected Official","Mayor","Governor","Senator","Representative","Diplomat","Foreign Service Officer","Policy Advisor","Policy Analyst","Legislative Aide","Political Consultant","Campaign Manager","Public Administrator","City Manager","Urban Planner","City Planner","Civil Servant","Government Analyst","Intelligence Analyst","Intelligence Officer","Military Officer","Military Personnel","Veteran","Police Officer","Detective","Sheriff","State Trooper","Federal Agent","FBI Agent","DEA Agent","Border Patrol Agent","Customs Officer","Immigration Officer","Firefighter","Fire Chief","Paramedic","EMT","Emergency Manager","Disaster Response Coordinator","Public Health Official","Public Health Inspector","Environmental Health Officer","Postal Worker","Mail Carrier","Postal Service Clerk","Tax Examiner","IRS Agent","Social Worker","Child Welfare Specialist","Probation Officer","Parole Officer","Correctional Officer","Nonprofit Executive Director","Nonprofit Manager","Program Director","Program Manager","Program Coordinator","Grant Writer","Grant Manager","Fundraiser","Development Director","Donor Relations Manager","Volunteer Coordinator","Community Organizer","Community Outreach Coordinator","Social Worker","Case Manager","Mental Health Counselor","Family Counselor","Youth Counselor","Substance Abuse Counselor","Victim Advocate","Human Rights Advocate","Environmental Advocate","Animal Welfare Specialist","Wildlife Conservationist","Humanitarian Aid Worker","International Development Specialist","Peace Corps Volunteer","Disaster Relief Coordinator","Crisis Response Manager","Refugee Coordinator","Immigration Counselor","ESL Teacher","Literacy Specialist","Special Needs Advocate","Disability Services Coordinator","Elder Care Specialist","Hospice Worker","Public Health Educator","Community Health Worker","Food Bank Manager","Homeless Shelter Coordinator","Affordable Housing Specialist","Social Justice Advocate","Policy Advocate","Lobbyist","Campaign Organizer","Civic Engagement Coordinator","Volunteer","Freelancer","Independent Contractor","Entrepreneur","Small Business Owner","Startup Founder","Co-founder","Solopreneur","Consultant","Advisor","Coach","Life Coach","Career Coach","Executive Coach","Business Coach","Mentor","Speaker","Public Speaker","Keynote Speaker","Author","Writer","Blogger","Influencer","Content Creator","Podcaster","YouTuber","Streamer","Researcher","Academic","Scholar","Student","Graduate Student","PhD Candidate","Postdoctoral Researcher","Fellow","Intern","Apprentice","Trainee","Volunteer","Board Member","Trustee","Advisor","Investor","Angel Investor","Retired","Homemaker","Caregiver","Self-Employed","Digital Nomad","Remote Worker","Gig Worker","Other"],yI=Array.from(new Set(xI)).sort();function P2({value:t,onChange:e,required:n=!1,industry:r,className:i=""}){var v;const[a,o]=y.useState(!1),[c,l]=y.useState([]),[d,u]=y.useState(""),[h,m]=y.useState([]),f=y.useRef(null),g=y.useRef(null);y.useEffect(()=>{let b;r&&Rh[r]?b=Rh[r]:b=yI,m(b),d.trim()&&(b=b.filter(p=>p.toLowerCase().includes(d.toLowerCase()))),l(b)},[r,d]);const w=b=>{const p=b.target.value;e(p),u(p),o(!0)},x=b=>{e(b),o(!1),u("")};return y.useEffect(()=>{function b(p){f.current&&!f.current.contains(p.target)&&g.current&&!g.current.contains(p.target)&&o(!1)}return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),s.jsxs("div",{className:`relative ${i}`,children:[s.jsxs("label",{htmlFor:"jobTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:["Job Title",n&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{ref:f,type:"text",id:"jobTitle",value:t,onChange:w,onFocus:()=>o(!0),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter or select your job title",required:n}),s.jsx(Re,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),s.jsx(ne,{children:a&&c.length>0&&s.jsx(T.div,{ref:g,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 mt-1 w-full bg-white rounded-lg shadow-lg border border-gray-200 max-h-80 overflow-y-auto",children:s.jsxs("div",{className:"py-1",children:[c.length>0&&s.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:d.trim()?`Found ${c.length} matching job titles`:`Showing ${c.length} job titles for ${r?((v=Rh[r])==null?void 0:v.length)||0:"all"} industries`}),c.map((b,p)=>s.jsx("button",{type:"button",onClick:()=>x(b),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none transition-colors",children:b},b)),c.length===0&&d.trim()&&s.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:['No job titles found matching "',d,'"']})]})})})]})}const vI={linkedin:/^https:\/\/(www\.)?linkedin\.com\/in\/[\w-]+\/?$/,github:/^https:\/\/(www\.)?github\.com\/[\w-]+\/?$/,twitter:/^@[\w]{1,15}$|^https:\/\/(www\.)?twitter\.com\/[\w]{1,15}\/?$/,portfolio:/^https?:\/\/.+/,medium:/^@[\w]+$|^https:\/\/(www\.)?medium\.com\/@?[\w]+\/?$/,dribbble:/^https:\/\/(www\.)?dribbble\.com\/[\w-]+\/?$/,instagram:/^@[\w.]+$|^https:\/\/(www\.)?instagram\.com\/[\w.]+\/?$/,facebook:/^https:\/\/(www\.)?facebook\.com\/[\w.]+\/?$/,youtube:/^https:\/\/(www\.)?youtube\.com\/@?[\w-]+\/?$/,threads:/^@[\w.]+$|^https:\/\/(www\.)?threads\.net\/@[\w.]+\/?$/,tiktok:/^@[\w.]+$|^https:\/\/(www\.)?tiktok\.com\/@[\w.]+\/?$/,whatsapp:/^\+\d{1,15}$/,telegram:/^@[\w]+$/,discord:/^[\w]+#\d{4}$/,signal:/^\+\d{1,15}$/,skype:/^[\w\-.]+$/,calendly:/^https:\/\/(www\.)?calendly\.com\/[\w-]+\/?$/,buymeacoffee:/^https:\/\/(www\.)?buymeacoffee\.com\/[\w-]+\/?$/,patreon:/^https:\/\/(www\.)?patreon\.com\/[\w-]+\/?$/,substack:/^[\w-]+\.substack\.com$/},bI={linkedin:t=>t.startsWith("https://")?t:`https://linkedin.com/in/${t.replace("@","")}`,github:t=>t.startsWith("https://")?t:`https://github.com/${t.replace("@","")}`,twitter:t=>t.startsWith("https://")?t:`https://twitter.com/${t.replace("@","")}`,instagram:t=>t.startsWith("https://")?t:`https://instagram.com/${t.replace("@","")}`,facebook:t=>t.startsWith("https://")?t:`https://facebook.com/${t.replace("@","")}`,youtube:t=>t.startsWith("https://")?t:`https://youtube.com/${t.startsWith("@")?"":"@"}${t.replace("@","")}`,medium:t=>t.startsWith("https://")?t:`https://medium.com/${t.startsWith("@")?"":"@"}${t.replace("@","")}`,dribbble:t=>t.startsWith("https://")?t:`https://dribbble.com/${t.replace("@","")}`,threads:t=>t.startsWith("https://")?t:`https://threads.net/${t.startsWith("@")?"":"@"}${t.replace("@","")}`,tiktok:t=>t.startsWith("https://")?t:`https://tiktok.com/${t.startsWith("@")?"":"@"}${t.replace("@","")}`,buymeacoffee:t=>t.startsWith("https://")?t:`https://buymeacoffee.com/${t.replace("@","")}`,patreon:t=>t.startsWith("https://")?t:`https://patreon.com/${t.replace("@","")}`,calendly:t=>t.startsWith("https://")?t:`https://calendly.com/${t.replace("@","")}`,substack:t=>t.includes(".substack.com")?`https://${t}`:`https://${t}.substack.com`};function wI(t,e){if(!e.trim())return{isValid:!0};const n=vI[t];return n?n.test(e)?{isValid:!0}:{isValid:!1,message:`Invalid ${t} format. Please check and try again.`}:{isValid:!0}}function jI({links:t,onChange:e,required:n=!1}){const[r,i]=y.useState(!1),[a,o]=y.useState(null),[c,l]=y.useState([]),[d,u]=y.useState({}),[h,m]=y.useState(Object.keys(t).length===0);y.useEffect(()=>{n&&!Object.values(t).some(b=>b.trim())?o("At least one social platform is required"):o(null),m(Object.keys(t).length===0)},[t,n]);const f=b=>{l(p=>p.includes(b)?p.filter(j=>j!==b):[...p,b])},g=(b,p)=>{const j=wI(b,p);if(!j.isValid){u(S=>({...S,[b]:j.message||"Invalid format"}));return}u(S=>{const _={...S};return delete _[b],_});const N={...t};if(p.trim()){const S=bI[b];N[b]=S?S(p):p}else delete N[b];n&&Object.values(N).some(S=>S.trim())&&o(null),e(N)},w=()=>{if(i(!0),c.length===0){const b=Object.keys(Un)[0];l([b])}m(!1)},x=Object.values(t).some(b=>b.trim()!==""),v=Object.keys(d).length>0;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{type:"button",onClick:()=>i(!r),className:`w-full flex items-center justify-between p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors ${a?"border-red-300 bg-red-50":"border-gray-300"}`,children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Social Platforms",n&&!x&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x?`${Object.keys(t).length} active platform${Object.keys(t).length!==1?"s":""}`:"No platforms configured"})]}),r?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),s.jsx(ne,{children:(a||v)&&s.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:s.jsx("div",{className:"rounded-lg bg-red-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(gt,{className:"h-5 w-5 text-red-400"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:a||"Please fix the following errors:"}),v&&s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:Object.entries(d).map(([b,p])=>s.jsx("li",{children:p},b))})})]})]})})})}),s.jsx(ne,{children:r&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-6",children:[h&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border-2 border-dashed border-gray-300 text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-3",children:s.jsx(It,{className:"h-6 w-6 text-indigo-600"})}),s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"Add Your Social Platforms"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Connect your social media accounts to make it easier for others to find you"}),s.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1.5"}),"Add Your First Platform"]})]}),Object.entries(Un).map(([b,p])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:()=>f(b),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${p.color}`,children:s.jsx(p.icon,{className:`h-5 w-5 ${p.iconColor}`})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:p.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[Object.keys(p.links).filter(j=>t[j]).length," active"]})]})]}),c.includes(b)?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),s.jsx(ne,{children:c.includes(b)&&s.jsx(T.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:s.jsx("div",{className:"p-4 border-t border-gray-200 space-y-4",children:Object.entries(p.links).map(([j,N])=>{const S=N.icon,_=!!t[j],E=!!d[j];return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(S,{className:"h-5 w-5 mr-3",style:{color:N.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.label})]}),s.jsx("div",{className:"flex items-center space-x-2",children:_?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(rt,{className:"h-3 w-3 mr-1"}),"Active"]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:[s.jsx(Se,{className:"h-3 w-3 mr-1"}),"Inactive"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:t[j]||"",onChange:P=>g(j,P.target.value),placeholder:N.placeholder,className:`block w-full px-3 py-2 border rounded-lg text-sm ${E?"border-red-300 bg-red-50 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":_?"border-gray-300 focus:ring-indigo-500 focus:border-indigo-500":"border-gray-200 bg-gray-50 text-gray-500 focus:ring-gray-400 focus:border-gray-400"}`}),_&&!E&&s.jsx("button",{type:"button",onClick:()=>g(j,""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-gray-100",children:s.jsx(Se,{className:"h-4 w-4 text-gray-400"})})]}),E?s.jsx("p",{className:"text-xs text-red-600",children:d[j]}):s.jsx("p",{className:"text-xs text-gray-500",children:_?"Click X to deactivate":"Enter username to activate"})]},j)})})})})]},b)),!h&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Kn,{className:"h-4 w-4 mr-1.5"}),"Add More Platforms"]})})]})})})]})}function Sv({currentImage:t,onImageChange:e,onImageRemove:n,required:r=!1,isCover:i=!1}){const[a,o]=y.useState(null),[c,l]=y.useState(!1),d=y.useRef(null),u=async h=>{var f;const m=(f=h.target.files)==null?void 0:f[0];if(m){l(!0),o(null);try{if(!m.type.startsWith("image/"))throw new Error("Please upload an image file");if(m.size>5*1024*1024)throw new Error("Image size should be less than 5MB");const g=new Image,w=new FileReader;w.onload=async()=>{typeof w.result=="string"&&(g.src=w.result,g.onload=async()=>{try{e(w.result),o(null)}catch(x){o(x instanceof Error?x.message:"Failed to process image")}finally{l(!1)}},g.onerror=()=>{o("Failed to load image"),l(!1)})},w.onerror=()=>{throw new Error("Failed to read image file")},w.readAsDataURL(m)}catch(g){o(g instanceof Error?g.message:"An error occurred while processing the image"),l(!1)}d.current&&(d.current.value="")}};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[t?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:t,alt:"Profile",className:`${i?"w-full h-40 object-cover":"h-32 w-32 rounded-xl object-cover"}`}),s.jsxs("div",{className:"absolute bottom-2 right-2 flex space-x-2",children:[s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>{var h;return(h=d.current)==null?void 0:h.click()},className:"p-2 bg-white rounded-full shadow-lg hover:bg-gray-50",disabled:c,children:s.jsx(lf,{className:"h-4 w-4 text-gray-600"})}),s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:n,className:"p-2 bg-white rounded-full shadow-lg hover:bg-gray-50",disabled:c,children:s.jsx(vT,{className:"h-4 w-4 text-red-600"})})]})]}):s.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>{var h;return(h=d.current)==null?void 0:h.click()},disabled:c,className:`flex flex-col items-center justify-center hover:bg-gray-50 border-2 border-dashed border-gray-300 hover:border-gray-400 transition-colors ${i?"w-full h-40 rounded-lg":"h-32 w-32 rounded-xl"} ${c?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx(pl,{className:"h-8 w-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:i?"Add Cover Photo":"Add Profile Photo"})]}),s.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:u,className:"hidden"})]}),a&&s.jsxs("div",{className:"flex items-start space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[s.jsx(gt,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm",children:a})]}),s.jsx("p",{className:"text-xs text-gray-500",children:i?"A cover photo helps personalize your profile. Recommended size: 1200x400 pixels.":"Please provide a clear photo. The photo will be visible to your connections."})]})}const Cv={"Work & Career":["Software Development","Design","Marketing","Finance","Data Science","Product Management","Entrepreneurship","Leadership","AI","Blockchain","Cloud Computing","UX Research","Digital Marketing","Content Creation"],Creative:["Photography","Writing","Music","Art","Film","Design","Fashion","Drawing","Painting","Sculpture","Animation","Graphic Design"],Technology:["Programming","Web Development","Mobile Apps","AI","Machine Learning","Cybersecurity","Blockchain","IoT","Cloud Computing","Data Science","Robotics","Virtual Reality","Augmented Reality"],Lifestyle:["Travel","Fitness","Cooking","Reading","Hiking","Yoga","Meditation","Running","Cycling","Swimming","Gardening","Home Improvement"],Business:["Entrepreneurship","Startups","Investing","Marketing","E-commerce","Real Estate","Finance","Leadership","Management","Sales","Strategy"],Education:["Teaching","Learning","Languages","Science","History","Mathematics","Literature","Philosophy","Psychology","Research","Academic Writing"]};function NI({interests:t,onChange:e}){const[n,r]=y.useState(""),[i,a]=y.useState(""),[o,c]=y.useState(null),[l,d]=y.useState(!1),u=i?Object.entries(Cv).reduce((g,[w,x])=>{const v=x.filter(b=>b.toLowerCase().includes(i.toLowerCase())&&!t.includes(b));return v.length>0&&(g[w]=v),g},{}):Cv,h=(g,w)=>{const x=w||n.trim();x&&(t.includes(x)||e([...t,x]),r(""),a(""))},m=g=>{e(t.filter(w=>w!==g))},f=g=>{g.key==="Enter"&&n.trim()&&(g.preventDefault(),h())};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Interests"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.length===0?s.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No interests added yet. Add some below."}):t.map((g,w)=>s.jsxs(T.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[g,s.jsxs("button",{type:"button",onClick:()=>m(g),className:"ml-1.5 inline-flex items-center justify-center h-4 w-4 rounded-full text-indigo-400 hover:bg-indigo-200 hover:text-indigo-500 focus:outline-none",children:[s.jsx("span",{className:"sr-only",children:"Remove interest"}),s.jsx(Se,{className:"h-3 w-3"})]})]},g))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"interest",className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Interest"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Or,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"interest",className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Type an interest and press Enter",value:n,onChange:g=>{r(g.target.value),a(g.target.value),d(!0)},onKeyDown:f,onFocus:()=>d(!0)}),n&&s.jsx("button",{type:"button",onClick:g=>h(),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx(rr,{className:"h-5 w-5 text-gray-400 hover:text-indigo-500"})})]})]}),l&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Suggestions"}),s.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Hide"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.keys(u).map(g=>s.jsx("button",{type:"button",onClick:()=>c(o===g?null:g),className:`px-3 py-1 rounded-lg text-sm ${o===g?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g},g))}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:Object.entries(u).filter(([g])=>!o||g===o).map(([g,w])=>s.jsxs("div",{className:"mb-3 last:mb-0",children:[o===null&&s.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-2",children:g}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.filter(x=>!t.includes(x)).slice(0,8).map(x=>s.jsx("button",{type:"button",onClick:v=>h(v,x),className:"px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800 hover:bg-indigo-100 hover:text-indigo-800 transition-colors",children:x},x))})]},g))})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Adding interests helps others find common ground with you and makes connections more meaningful."})]})}function me(){return me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},me.apply(null,arguments)}function ci(t){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(t)}function SI(t,e){if(ci(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ci(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A2(t){var e=SI(t,"string");return ci(e)=="symbol"?e:e+""}function Gi(t,e,n){return(e=A2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kv(Object(n),!0).forEach(function(r){Gi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A2(r.key),r)}}function kI(t,e,n){return e&&_v(t.prototype,e),n&&_v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tf(t,e){return Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tf(t,e)}function _I(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tf(t,e)}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jd(t)}function D2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D2=function(){return!!t})()}function EI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TI(t,e){if(e&&(ci(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EI(t)}function PI(t){var e=D2();return function(){var n,r=jd(t);if(e){var i=jd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TI(this,n)}}function Pf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function AI(t){if(Array.isArray(t))return Pf(t)}function DI(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M2(t,e){if(t){if(typeof t=="string")return Pf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pf(t,e):void 0}}function MI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qg(t){return AI(t)||DI(t)||M2(t)||MI()}function II(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function RI(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var OI=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(RI(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=II(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Bt="-ms-",Nd="-moz-",Me="-webkit-",I2="comm",Gg="rule",Kg="decl",LI="@import",R2="@keyframes",FI="@layer",$I=Math.abs,fu=String.fromCharCode,VI=Object.assign;function UI(t,e){return Dt(t,0)^45?(((e<<2^Dt(t,0))<<2^Dt(t,1))<<2^Dt(t,2))<<2^Dt(t,3):0}function O2(t){return t.trim()}function BI(t,e){return(t=e.exec(t))?t[0]:t}function Ie(t,e,n){return t.replace(e,n)}function Af(t,e){return t.indexOf(e)}function Dt(t,e){return t.charCodeAt(e)|0}function tl(t,e,n){return t.slice(e,n)}function or(t){return t.length}function Yg(t){return t.length}function sc(t,e){return e.push(t),t}function zI(t,e){return t.map(e).join("")}var pu=1,pa=1,L2=0,ln=0,mt=0,Aa="";function gu(t,e,n,r,i,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:pu,column:pa,length:o,return:""}}function Ha(t,e){return VI(gu("",null,null,"",null,null,0),t,{length:-t.length},e)}function WI(){return mt}function HI(){return mt=ln>0?Dt(Aa,--ln):0,pa--,mt===10&&(pa=1,pu--),mt}function vn(){return mt=ln<L2?Dt(Aa,ln++):0,pa++,mt===10&&(pa=1,pu++),mt}function xr(){return Dt(Aa,ln)}function Dc(){return ln}function kl(t,e){return tl(Aa,t,e)}function nl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F2(t){return pu=pa=1,L2=or(Aa=t),ln=0,[]}function $2(t){return Aa="",t}function Mc(t){return O2(kl(ln-1,Df(t===91?t+2:t===40?t+1:t)))}function qI(t){for(;(mt=xr())&&mt<33;)vn();return nl(t)>2||nl(mt)>3?"":" "}function GI(t,e){for(;--e&&vn()&&!(mt<48||mt>102||mt>57&&mt<65||mt>70&&mt<97););return kl(t,Dc()+(e<6&&xr()==32&&vn()==32))}function Df(t){for(;vn();)switch(mt){case t:return ln;case 34:case 39:t!==34&&t!==39&&Df(mt);break;case 40:t===41&&Df(t);break;case 92:vn();break}return ln}function KI(t,e){for(;vn()&&t+mt!==57;)if(t+mt===84&&xr()===47)break;return"/*"+kl(e,ln-1)+"*"+fu(t===47?t:vn())}function YI(t){for(;!nl(xr());)vn();return kl(t,ln)}function QI(t){return $2(Ic("",null,null,null,[""],t=F2(t),0,[0],t))}function Ic(t,e,n,r,i,a,o,c,l){for(var d=0,u=0,h=o,m=0,f=0,g=0,w=1,x=1,v=1,b=0,p="",j=i,N=a,S=r,_=p;x;)switch(g=b,b=vn()){case 40:if(g!=108&&Dt(_,h-1)==58){Af(_+=Ie(Mc(b),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:_+=Mc(b);break;case 9:case 10:case 13:case 32:_+=qI(g);break;case 92:_+=GI(Dc()-1,7);continue;case 47:switch(xr()){case 42:case 47:sc(JI(KI(vn(),Dc()),e,n),l);break;default:_+="/"}break;case 123*w:c[d++]=or(_)*v;case 125*w:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+u:v==-1&&(_=Ie(_,/\f/g,"")),f>0&&or(_)-h&&sc(f>32?Tv(_+";",r,n,h-1):Tv(Ie(_," ","")+";",r,n,h-2),l);break;case 59:_+=";";default:if(sc(S=Ev(_,e,n,d,u,i,c,p,j=[],N=[],h),a),b===123)if(u===0)Ic(_,e,S,S,j,a,h,c,N);else switch(m===99&&Dt(_,3)===110?100:m){case 100:case 108:case 109:case 115:Ic(t,S,S,r&&sc(Ev(t,S,S,0,0,i,c,p,i,j=[],h),N),i,N,h,c,r?j:N);break;default:Ic(_,S,S,S,[""],N,0,c,N)}}d=u=f=0,w=v=1,p=_="",h=o;break;case 58:h=1+or(_),f=g;default:if(w<1){if(b==123)--w;else if(b==125&&w++==0&&HI()==125)continue}switch(_+=fu(b),b*w){case 38:v=u>0?1:(_+="\f",-1);break;case 44:c[d++]=(or(_)-1)*v,v=1;break;case 64:xr()===45&&(_+=Mc(vn())),m=xr(),u=h=or(p=_+=YI(Dc())),b++;break;case 45:g===45&&or(_)==2&&(w=0)}}return a}function Ev(t,e,n,r,i,a,o,c,l,d,u){for(var h=i-1,m=i===0?a:[""],f=Yg(m),g=0,w=0,x=0;g<r;++g)for(var v=0,b=tl(t,h+1,h=$I(w=o[g])),p=t;v<f;++v)(p=O2(w>0?m[v]+" "+b:Ie(b,/&\f/g,m[v])))&&(l[x++]=p);return gu(t,e,n,i===0?Gg:c,l,d,u)}function JI(t,e,n){return gu(t,e,n,I2,fu(WI()),tl(t,2,-2),0)}function Tv(t,e,n,r){return gu(t,e,n,Kg,tl(t,0,r),tl(t,r+1,-1),r)}function ta(t,e){for(var n="",r=Yg(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ZI(t,e,n,r){switch(t.type){case FI:if(t.children.length)break;case LI:case Kg:return t.return=t.return||t.value;case I2:return"";case R2:return t.return=t.value+"{"+ta(t.children,r)+"}";case Gg:t.value=t.props.join(",")}return or(n=ta(t.children,r))?t.return=t.value+"{"+n+"}":""}function XI(t){var e=Yg(t);return function(n,r,i,a){for(var o="",c=0;c<e;c++)o+=t[c](n,r,i,a)||"";return o}}function e6(t){return function(e){e.root||(e=e.return)&&t(e)}}function t6(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var n6=function(e,n,r){for(var i=0,a=0;i=a,a=xr(),i===38&&a===12&&(n[r]=1),!nl(a);)vn();return kl(e,ln)},r6=function(e,n){var r=-1,i=44;do switch(nl(i)){case 0:i===38&&xr()===12&&(n[r]=1),e[r]+=n6(ln-1,n,r);break;case 2:e[r]+=Mc(i);break;case 4:if(i===44){e[++r]=xr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=fu(i)}while(i=vn());return e},s6=function(e,n){return $2(r6(F2(e),n))},Pv=new WeakMap,i6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Pv.get(r))&&!i){Pv.set(e,!0);for(var a=[],o=s6(n,a),c=r.props,l=0,d=0;l<o.length;l++)for(var u=0;u<c.length;u++,d++)e.props[d]=a[l]?o[l].replace(/&\f/g,c[u]):c[u]+" "+o[l]}}},a6=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function V2(t,e){switch(UI(t,e)){case 5103:return Me+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+t+Nd+t+Bt+t+t;case 6828:case 4268:return Me+t+Bt+t+t;case 6165:return Me+t+Bt+"flex-"+t+t;case 5187:return Me+t+Ie(t,/(\w+).+(:[^]+)/,Me+"box-$1$2"+Bt+"flex-$1$2")+t;case 5443:return Me+t+Bt+"flex-item-"+Ie(t,/flex-|-self/,"")+t;case 4675:return Me+t+Bt+"flex-line-pack"+Ie(t,/align-content|flex-|-self/,"")+t;case 5548:return Me+t+Bt+Ie(t,"shrink","negative")+t;case 5292:return Me+t+Bt+Ie(t,"basis","preferred-size")+t;case 6060:return Me+"box-"+Ie(t,"-grow","")+Me+t+Bt+Ie(t,"grow","positive")+t;case 4554:return Me+Ie(t,/([^-])(transform)/g,"$1"+Me+"$2")+t;case 6187:return Ie(Ie(Ie(t,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),t,"")+t;case 5495:case 3959:return Ie(t,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return Ie(Ie(t,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+Bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+t+t;case 4095:case 3583:case 4068:case 2532:return Ie(t,/(.+)-inline(.+)/,Me+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(or(t)-1-e>6)switch(Dt(t,e+1)){case 109:if(Dt(t,e+4)!==45)break;case 102:return Ie(t,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+Nd+(Dt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Af(t,"stretch")?V2(Ie(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Dt(t,e+1)!==115)break;case 6444:switch(Dt(t,or(t)-3-(~Af(t,"!important")&&10))){case 107:return Ie(t,":",":"+Me)+t;case 101:return Ie(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Me+(Dt(t,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+Bt+"$2box$3")+t}break;case 5936:switch(Dt(t,e+11)){case 114:return Me+t+Bt+Ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Me+t+Bt+Ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Me+t+Bt+Ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Me+t+Bt+t+t}return t}var o6=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Kg:e.return=V2(e.value,e.length);break;case R2:return ta([Ha(e,{value:Ie(e.value,"@","@"+Me)})],i);case Gg:if(e.length)return zI(e.props,function(a){switch(BI(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ta([Ha(e,{props:[Ie(a,/:(read-\w+)/,":"+Nd+"$1")]})],i);case"::placeholder":return ta([Ha(e,{props:[Ie(a,/:(plac\w+)/,":"+Me+"input-$1")]}),Ha(e,{props:[Ie(a,/:(plac\w+)/,":"+Nd+"$1")]}),Ha(e,{props:[Ie(a,/:(plac\w+)/,Bt+"input-$1")]})],i)}return""})}},l6=[o6],c6=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var x=w.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||l6,a={},o,c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var x=w.getAttribute("data-emotion").split(" "),v=1;v<x.length;v++)a[x[v]]=!0;c.push(w)});var l,d=[i6,a6];{var u,h=[ZI,e6(function(w){u.insert(w)})],m=XI(d.concat(i,h)),f=function(x){return ta(QI(x),m)};l=function(x,v,b,p){u=b,f(x?x+"{"+v.styles+"}":v.styles),p&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new OI({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return g.sheet.hydrate(c),g},U2={exports:{}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=typeof Symbol=="function"&&Symbol.for,Qg=_t?Symbol.for("react.element"):60103,Jg=_t?Symbol.for("react.portal"):60106,xu=_t?Symbol.for("react.fragment"):60107,yu=_t?Symbol.for("react.strict_mode"):60108,vu=_t?Symbol.for("react.profiler"):60114,bu=_t?Symbol.for("react.provider"):60109,wu=_t?Symbol.for("react.context"):60110,Zg=_t?Symbol.for("react.async_mode"):60111,ju=_t?Symbol.for("react.concurrent_mode"):60111,Nu=_t?Symbol.for("react.forward_ref"):60112,Su=_t?Symbol.for("react.suspense"):60113,d6=_t?Symbol.for("react.suspense_list"):60120,Cu=_t?Symbol.for("react.memo"):60115,ku=_t?Symbol.for("react.lazy"):60116,u6=_t?Symbol.for("react.block"):60121,h6=_t?Symbol.for("react.fundamental"):60117,m6=_t?Symbol.for("react.responder"):60118,f6=_t?Symbol.for("react.scope"):60119;function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qg:switch(t=t.type,t){case Zg:case ju:case xu:case vu:case yu:case Su:return t;default:switch(t=t&&t.$$typeof,t){case wu:case Nu:case ku:case Cu:case bu:return t;default:return e}}case Jg:return e}}}function B2(t){return kn(t)===ju}Le.AsyncMode=Zg;Le.ConcurrentMode=ju;Le.ContextConsumer=wu;Le.ContextProvider=bu;Le.Element=Qg;Le.ForwardRef=Nu;Le.Fragment=xu;Le.Lazy=ku;Le.Memo=Cu;Le.Portal=Jg;Le.Profiler=vu;Le.StrictMode=yu;Le.Suspense=Su;Le.isAsyncMode=function(t){return B2(t)||kn(t)===Zg};Le.isConcurrentMode=B2;Le.isContextConsumer=function(t){return kn(t)===wu};Le.isContextProvider=function(t){return kn(t)===bu};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qg};Le.isForwardRef=function(t){return kn(t)===Nu};Le.isFragment=function(t){return kn(t)===xu};Le.isLazy=function(t){return kn(t)===ku};Le.isMemo=function(t){return kn(t)===Cu};Le.isPortal=function(t){return kn(t)===Jg};Le.isProfiler=function(t){return kn(t)===vu};Le.isStrictMode=function(t){return kn(t)===yu};Le.isSuspense=function(t){return kn(t)===Su};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xu||t===ju||t===vu||t===yu||t===Su||t===d6||typeof t=="object"&&t!==null&&(t.$$typeof===ku||t.$$typeof===Cu||t.$$typeof===bu||t.$$typeof===wu||t.$$typeof===Nu||t.$$typeof===h6||t.$$typeof===m6||t.$$typeof===f6||t.$$typeof===u6)};Le.typeOf=kn;U2.exports=Le;var p6=U2.exports,z2=p6,g6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},x6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W2={};W2[z2.ForwardRef]=g6;W2[z2.Memo]=x6;var y6=!0;function v6(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var H2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||y6===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},b6=function(e,n,r){H2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function w6(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var j6={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},N6=/[A-Z]|^ms/g,S6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,q2=function(e){return e.charCodeAt(1)===45},Av=function(e){return e!=null&&typeof e!="boolean"},Oh=t6(function(t){return q2(t)?t:t.replace(N6,"-$&").toLowerCase()}),Dv=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(S6,function(r,i,a){return lr={name:i,styles:a,next:lr},i})}return j6[e]!==1&&!q2(e)&&typeof n=="number"&&n!==0?n+"px":n};function rl(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return lr={name:i.name,styles:i.styles,next:lr},i.name;var a=n;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)lr={name:o.name,styles:o.styles,next:lr},o=o.next;var c=a.styles+";";return c}return C6(t,e,n)}case"function":{if(t!==void 0){var l=lr,d=n(t);return lr=l,rl(t,e,d)}break}}var u=n;return u}function C6(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=rl(t,e,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object"){var c=o;Av(c)&&(r+=Oh(a)+":"+Dv(a,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var l=0;l<o.length;l++)Av(o[l])&&(r+=Oh(a)+":"+Dv(a,o[l])+";");else{var d=rl(t,e,o);switch(a){case"animation":case"animationName":{r+=Oh(a)+":"+d+";";break}default:r+=a+"{"+d+"}"}}}return r}var Mv=/label:\s*([^\s;{]+)\s*(;|$)/g,lr;function G2(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";lr=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,i+=rl(n,e,a);else{var o=a;i+=o[0]}for(var c=1;c<t.length;c++)if(i+=rl(n,e,t[c]),r){var l=a;i+=l[c]}Mv.lastIndex=0;for(var d="",u;(u=Mv.exec(i))!==null;)d+="-"+u[1];var h=w6(i)+d;return{name:h,styles:i,next:lr}}var k6=function(e){return e()},_6=Kh.useInsertionEffect?Kh.useInsertionEffect:!1,E6=_6||k6,K2=y.createContext(typeof HTMLElement<"u"?c6({key:"css"}):null);K2.Provider;var T6=function(e){return y.forwardRef(function(n,r){var i=y.useContext(K2);return e(n,i,r)})},P6=y.createContext({}),Xg={}.hasOwnProperty,Mf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",A6=function(e,n){var r={};for(var i in n)Xg.call(n,i)&&(r[i]=n[i]);return r[Mf]=e,r},D6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return H2(n,r,i),E6(function(){return b6(n,r,i)}),null},M6=T6(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Mf],a=[r],o="";typeof t.className=="string"?o=v6(e.registered,a,t.className):t.className!=null&&(o=t.className+" ");var c=G2(a,void 0,y.useContext(P6));o+=e.key+"-"+c.name;var l={};for(var d in t)Xg.call(t,d)&&d!=="css"&&d!==Mf&&(l[d]=t[d]);return l.className=o,n&&(l.ref=n),y.createElement(y.Fragment,null,y.createElement(D6,{cache:e,serialized:c,isStringTag:typeof i=="string"}),y.createElement(i,l))}),I6=M6,ce=function(e,n){var r=arguments;if(n==null||!Xg.call(n,"css"))return y.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=I6,a[1]=A6(e,n);for(var o=2;o<i;o++)a[o]=r[o];return y.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ce||(ce={}));function e0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return G2(e)}function R6(){var t=e0.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function O6(t){if(Array.isArray(t))return t}function L6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],l=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(u){d=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function F6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(t,e){return O6(t)||L6(t,e)||M2(t,e)||F6()}function $6(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function br(t,e){if(t==null)return{};var n,r,i=$6(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function V6(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const U6=Math.min,B6=Math.max,Sd=Math.round,ic=Math.floor,Cd=t=>({x:t,y:t});function z6(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function _u(){return typeof window<"u"}function Y2(t){return J2(t)?(t.nodeName||"").toLowerCase():"#document"}function Fr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Q2(t){var e;return(e=(J2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function J2(t){return _u()?t instanceof Node||t instanceof Fr(t).Node:!1}function W6(t){return _u()?t instanceof Element||t instanceof Fr(t).Element:!1}function t0(t){return _u()?t instanceof HTMLElement||t instanceof Fr(t).HTMLElement:!1}function Iv(t){return!_u()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fr(t).ShadowRoot}const H6=new Set(["inline","contents"]);function Z2(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=n0(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!H6.has(i)}function q6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const G6=new Set(["html","body","#document"]);function K6(t){return G6.has(Y2(t))}function n0(t){return Fr(t).getComputedStyle(t)}function Y6(t){if(Y2(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Iv(t)&&t.host||Q2(t);return Iv(e)?e.host:e}function X2(t){const e=Y6(t);return K6(e)?t.ownerDocument?t.ownerDocument.body:t.body:t0(e)&&Z2(e)?e:X2(e)}function kd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=X2(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Fr(i);if(a){const c=If(o);return e.concat(o,o.visualViewport||[],Z2(i)?i:[],c&&n?kd(c):[])}return e.concat(i,kd(i,[],n))}function If(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Q6(t){const e=n0(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=t0(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,c=Sd(n)!==a||Sd(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function r0(t){return W6(t)?t:t.contextElement}function Rv(t){const e=r0(t);if(!t0(e))return Cd(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Q6(e);let o=(a?Sd(n.width):n.width)/r,c=(a?Sd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const J6=Cd(0);function Z6(t){const e=Fr(t);return!q6()||!e.visualViewport?J6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function X6(t,e,n){return!1}function Ov(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),a=r0(t);let o=Cd(1);e&&(o=Rv(t));const c=X6()?Z6(a):Cd(0);let l=(i.left+c.x)/o.x,d=(i.top+c.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=Fr(a),f=r;let g=m,w=If(g);for(;w&&r&&f!==g;){const x=Rv(w),v=w.getBoundingClientRect(),b=n0(w),p=v.left+(w.clientLeft+parseFloat(b.paddingLeft))*x.x,j=v.top+(w.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,d*=x.y,u*=x.x,h*=x.y,l+=p,d+=j,g=Fr(w),w=If(g)}}return z6({width:u,height:h,x:l,y:d})}function eS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function eR(t,e){let n=null,r;const i=Q2(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:m,height:f}=d;if(c||e(),!m||!f)return;const g=ic(h),w=ic(i.clientWidth-(u+m)),x=ic(i.clientHeight-(h+f)),v=ic(u),p={rootMargin:-g+"px "+-w+"px "+-x+"px "+-v+"px",threshold:B6(0,U6(1,l))||1};let j=!0;function N(S){const _=S[0].intersectionRatio;if(_!==l){if(!j)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!eS(d,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(N,{...p,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,p)}n.observe(t)}return o(!0),a}function tR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=r0(t),u=i||a?[...d?kd(d):[],...kd(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const h=d&&c?eR(d,n):null;let m=-1,f=null;o&&(f=new ResizeObserver(v=>{let[b]=v;b&&b.target===d&&f&&(f.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var p;(p=f)==null||p.observe(e)})),n()}),d&&!l&&f.observe(d),f.observe(e));let g,w=l?Ov(t):null;l&&x();function x(){const v=Ov(t);w&&!eS(w,v)&&n(),w=v,g=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(g)}}var Rf=y.useLayoutEffect,nR=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],_d=function(){};function rR(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function sR(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&a.push("".concat(rR(t,o)));return a.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var Lv=function(e){return fR(e)?e.filter(Boolean):ci(e)==="object"&&e!==null?[e]:[]},tS=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=br(e,nR);return le({},n)},it=function(e,n,r){var i=e.cx,a=e.getStyles,o=e.getClassNames,c=e.className;return{css:a(n,e),className:i(r??{},o(n,e),c)}};function iR(t,e,n){if(n){var r=n(t,e);if(typeof r=="string")return r}return t}function Eu(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function aR(t){return Eu(t)?window.innerHeight:t.clientHeight}function nS(t){return Eu(t)?window.pageYOffset:t.scrollTop}function Ed(t,e){if(Eu(t)){window.scrollTo(0,e);return}t.scrollTop=e}function oR(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function lR(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function ac(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_d,i=nS(t),a=e-i,o=10,c=0;function l(){c+=o;var d=lR(c,i,a,n);Ed(t,d),c<n?window.requestAnimationFrame(l):r(t)}l()}function Fv(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Ed(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Ed(t,Math.max(e.offsetTop-i,0))}function cR(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function $v(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function dR(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var rS=!1,uR={get passive(){return rS=!0}},oc=typeof window<"u"?window:{};oc.addEventListener&&oc.removeEventListener&&(oc.addEventListener("p",_d,uR),oc.removeEventListener("p",_d,!1));var hR=rS;function mR(t){return t!=null}function fR(t){return Array.isArray(t)}function lc(t,e,n){return t?e:n}var pR=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(o){var c=Nt(o,1),l=c[0];return!r.includes(l)});return a.reduce(function(o,c){var l=Nt(c,2),d=l[0],u=l[1];return o[d]=u,o},{})},gR=["children","innerProps"],xR=["children","innerProps"];function yR(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,a=t.shouldScroll,o=t.isFixedPosition,c=t.controlHeight,l=oR(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var u=l.getBoundingClientRect(),h=u.height,m=n.getBoundingClientRect(),f=m.bottom,g=m.height,w=m.top,x=n.offsetParent.getBoundingClientRect(),v=x.top,b=o?window.innerHeight:aR(l),p=nS(l),j=parseInt(getComputedStyle(n).marginBottom,10),N=parseInt(getComputedStyle(n).marginTop,10),S=v-N,_=b-w,E=S+p,P=h-p-w,C=f-b+p+j,I=p+w-N,A=160;switch(i){case"auto":case"bottom":if(_>=g)return{placement:"bottom",maxHeight:e};if(P>=g&&!o)return a&&ac(l,C,A),{placement:"bottom",maxHeight:e};if(!o&&P>=r||o&&_>=r){a&&ac(l,C,A);var R=o?_-j:P-j;return{placement:"bottom",maxHeight:R}}if(i==="auto"||o){var F=e,H=o?S:E;return H>=r&&(F=Math.min(H-j-c,e)),{placement:"top",maxHeight:F}}if(i==="bottom")return a&&Ed(l,C),{placement:"bottom",maxHeight:e};break;case"top":if(S>=g)return{placement:"top",maxHeight:e};if(E>=g&&!o)return a&&ac(l,I,A),{placement:"top",maxHeight:e};if(!o&&E>=r||o&&S>=r){var K=e;return(!o&&E>=r||o&&S>=r)&&(K=o?S-N:E-N),a&&ac(l,I,A),{placement:"top",maxHeight:K}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function vR(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var sS=function(e){return e==="auto"?"bottom":e},bR=function(e,n){var r,i=e.placement,a=e.theme,o=a.borderRadius,c=a.spacing,l=a.colors;return le((r={label:"menu"},Gi(r,vR(i),"100%"),Gi(r,"position","absolute"),Gi(r,"width","100%"),Gi(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},iS=y.createContext(null),wR=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,o=e.menuPosition,c=e.menuShouldScrollIntoView,l=e.theme,d=y.useContext(iS)||{},u=d.setPortalPlacement,h=y.useRef(null),m=y.useState(i),f=Nt(m,2),g=f[0],w=f[1],x=y.useState(null),v=Nt(x,2),b=v[0],p=v[1],j=l.spacing.controlHeight;return Rf(function(){var N=h.current;if(N){var S=o==="fixed",_=c&&!S,E=yR({maxHeight:i,menuEl:N,minHeight:r,placement:a,shouldScroll:_,isFixedPosition:S,controlHeight:j});w(E.maxHeight),p(E.placement),u==null||u(E.placement)}},[i,a,o,c,r,u,j]),n({ref:h,placerProps:le(le({},e),{},{placement:b||sS(a),maxHeight:g})})},jR=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ce("div",me({},it(e,"menu",{menu:!0}),{ref:r},i),n)},NR=jR,SR=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return le({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},CR=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return ce("div",me({},it(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},aS=function(e,n){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return le({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},kR=aS,_R=aS,ER=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,a=br(e,gR);return ce("div",me({},it(le(le({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},TR=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,a=br(e,xR);return ce("div",me({},it(le(le({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},PR=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},AR=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,o=e.menuPlacement,c=e.menuPosition,l=y.useRef(null),d=y.useRef(null),u=y.useState(sS(o)),h=Nt(u,2),m=h[0],f=h[1],g=y.useMemo(function(){return{setPortalPlacement:f}},[]),w=y.useState(null),x=Nt(w,2),v=x[0],b=x[1],p=y.useCallback(function(){if(i){var _=cR(i),E=c==="fixed"?0:window.pageYOffset,P=_[m]+E;(P!==(v==null?void 0:v.offset)||_.left!==(v==null?void 0:v.rect.left)||_.width!==(v==null?void 0:v.rect.width))&&b({offset:P,rect:_})}},[i,c,m,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);Rf(function(){p()},[p]);var j=y.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&l.current&&(d.current=tR(i,l.current,p,{elementResize:"ResizeObserver"in window}))},[i,p]);Rf(function(){j()},[j]);var N=y.useCallback(function(_){l.current=_,j()},[j]);if(!n&&c!=="fixed"||!v)return null;var S=ce("div",me({ref:N},it(le(le({},e),{},{offset:v.offset,position:c,rect:v.rect}),"menuPortal",{"menu-portal":!0}),a),r);return ce(iS.Provider,{value:g},n?Y1.createPortal(S,n):S)},DR=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},MR=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return ce("div",me({},it(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},IR=function(e,n){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,o=e.selectProps.controlShouldRenderValue;return le({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},RR=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return ce("div",me({},it(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},OR=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},LR=function(e){var n=e.children,r=e.innerProps;return ce("div",me({},it(e,"indicatorsContainer",{indicators:!0}),r),n)},Vv,FR=["size"],$R=["innerProps","isRtl","size"],VR={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},oS=function(e){var n=e.size,r=br(e,FR);return ce("svg",me({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:VR},r))},s0=function(e){return ce(oS,me({size:20},e),ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},lS=function(e){return ce(oS,me({size:20},e),ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},cS=function(e,n){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,o=i.colors;return le({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2,":hover":{color:r?o.neutral80:o.neutral40}})},UR=cS,BR=function(e){var n=e.children,r=e.innerProps;return ce("div",me({},it(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ce(lS,null))},zR=cS,WR=function(e){var n=e.children,r=e.innerProps;return ce("div",me({},it(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ce(s0,null))},HR=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,o=i.colors;return le({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},qR=function(e){var n=e.innerProps;return ce("span",me({},n,it(e,"indicatorSeparator",{"indicator-separator":!0})))},GR=R6(Vv||(Vv=V6([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),KR=function(e,n){var r=e.isFocused,i=e.size,a=e.theme,o=a.colors,c=a.spacing.baseUnit;return le({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:c*2})},Lh=function(e){var n=e.delay,r=e.offset;return ce("span",{css:e0({animation:"".concat(GR," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},YR=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,o=br(e,$R);return ce("div",me({},it(le(le({},o),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ce(Lh,{delay:0,offset:r}),ce(Lh,{delay:160,offset:!0}),ce(Lh,{delay:320,offset:!r}))},QR=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.theme,o=a.colors,c=a.borderRadius,l=a.spacing;return le({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},JR=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,o=e.innerProps,c=e.menuIsOpen;return ce("div",me({ref:a},it(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),o,{"aria-disabled":r||void 0}),n)},ZR=JR,XR=["data"],eO=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},tO=function(e){var n=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,o=e.Heading,c=e.headingProps,l=e.innerProps,d=e.label,u=e.theme,h=e.selectProps;return ce("div",me({},it(e,"group",{group:!0}),l),ce(o,me({},c,{selectProps:h,theme:u,getStyles:i,getClassNames:a,cx:r}),d),ce("div",null,n))},nO=function(e,n){var r=e.theme,i=r.colors,a=r.spacing;return le({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},rO=function(e){var n=tS(e);n.data;var r=br(n,XR);return ce("div",me({},it(e,"groupHeading",{"group-heading":!0}),r))},sO=tO,iO=["innerRef","isDisabled","isHidden","inputClassName"],aO=function(e,n){var r=e.isDisabled,i=e.value,a=e.theme,o=a.spacing,c=a.colors;return le(le({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},oO),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:c.neutral80})},dS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},oO={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":le({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},dS)},lO=function(e){return le({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},dS)},cO=function(e){var n=e.cx,r=e.value,i=tS(e),a=i.innerRef,o=i.isDisabled,c=i.isHidden,l=i.inputClassName,d=br(i,iO);return ce("div",me({},it(e,"input",{"input-container":!0}),{"data-value":r||""}),ce("input",me({className:n({input:!0},l),ref:a,style:lO(c),disabled:o},d)))},dO=cO,uO=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,o=r.colors;return le({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},hO=function(e,n){var r=e.theme,i=r.borderRadius,a=r.colors,o=e.cropWithEllipsis;return le({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},mO=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,o=r.colors,c=e.isFocused;return le({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:c?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},uS=function(e){var n=e.children,r=e.innerProps;return ce("div",r,n)},fO=uS,pO=uS;function gO(t){var e=t.children,n=t.innerProps;return ce("div",me({role:"button"},n),e||ce(s0,{size:14}))}var xO=function(e){var n=e.children,r=e.components,i=e.data,a=e.innerProps,o=e.isDisabled,c=e.removeProps,l=e.selectProps,d=r.Container,u=r.Label,h=r.Remove;return ce(d,{data:i,innerProps:le(le({},it(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:l},ce(u,{data:i,innerProps:le({},it(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ce(h,{data:i,innerProps:le(le({},it(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:l}))},yO=xO,vO=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,o=e.theme,c=o.spacing,l=o.colors;return le({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},bO=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,o=e.innerRef,c=e.innerProps;return ce("div",me({},it(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":r},c),n)},wO=bO,jO=function(e,n){var r=e.theme,i=r.spacing,a=r.colors;return le({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},NO=function(e){var n=e.children,r=e.innerProps;return ce("div",me({},it(e,"placeholder",{placeholder:!0}),r),n)},SO=NO,CO=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing,o=i.colors;return le({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},kO=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ce("div",me({},it(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},_O=kO,EO={ClearIndicator:WR,Control:ZR,DropdownIndicator:BR,DownChevron:lS,CrossIcon:s0,Group:sO,GroupHeading:rO,IndicatorsContainer:LR,IndicatorSeparator:qR,Input:dO,LoadingIndicator:YR,Menu:NR,MenuList:CR,MenuPortal:AR,LoadingMessage:TR,NoOptionsMessage:ER,MultiValue:yO,MultiValueContainer:fO,MultiValueLabel:pO,MultiValueRemove:gO,Option:wO,Placeholder:SO,SelectContainer:MR,SingleValue:_O,ValueContainer:RR},TO=function(e){return le(le({},EO),e.components)},Uv=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function PO(t,e){return!!(t===e||Uv(t)&&Uv(e))}function AO(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!PO(t[n],e[n]))return!1;return!0}function DO(t,e){e===void 0&&(e=AO);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var MO={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},IO=function(e){return ce("span",me({css:MO},e))},Bv=IO,RO={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,o=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,a=e.label,o=a===void 0?"":a,c=e.selectValue,l=e.isDisabled,d=e.isSelected,u=e.isAppleDevice,h=function(w,x){return w&&w.length?"".concat(w.indexOf(x)+1," of ").concat(w.length):""};if(n==="value"&&c)return"value ".concat(o," focused, ").concat(h(c,r),".");if(n==="menu"&&u){var m=l?" disabled":"",f="".concat(d?" selected":"").concat(m);return"".concat(o).concat(f,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},OO=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,o=e.isFocused,c=e.selectValue,l=e.selectProps,d=e.id,u=e.isAppleDevice,h=l.ariaLiveMessages,m=l.getOptionLabel,f=l.inputValue,g=l.isMulti,w=l.isOptionDisabled,x=l.isSearchable,v=l.menuIsOpen,b=l.options,p=l.screenReaderStatus,j=l.tabSelectsValue,N=l.isLoading,S=l["aria-label"],_=l["aria-live"],E=y.useMemo(function(){return le(le({},RO),h||{})},[h]),P=y.useMemo(function(){var H="";if(n&&E.onChange){var K=n.option,O=n.options,M=n.removedValue,D=n.removedValues,V=n.value,Y=function(z){return Array.isArray(z)?null:z},U=M||K||Y(V),Q=U?m(U):"",ie=O||D||void 0,fe=ie?ie.map(m):[],ye=le({isDisabled:U&&w(U,c),label:Q,labels:fe},n);H=E.onChange(ye)}return H},[n,E,w,c,m]),C=y.useMemo(function(){var H="",K=r||i,O=!!(r&&c&&c.includes(r));if(K&&E.onFocus){var M={focused:K,label:m(K),isDisabled:w(K,c),isSelected:O,options:a,context:K===r?"menu":"value",selectValue:c,isAppleDevice:u};H=E.onFocus(M)}return H},[r,i,m,w,E,a,c,u]),I=y.useMemo(function(){var H="";if(v&&b.length&&!N&&E.onFilter){var K=p({count:a.length});H=E.onFilter({inputValue:f,resultsMessage:K})}return H},[a,f,v,E,b,p,N]),A=(n==null?void 0:n.action)==="initial-input-focus",R=y.useMemo(function(){var H="";if(E.guidance){var K=i?"value":v?"menu":"input";H=E.guidance({"aria-label":S,context:K,isDisabled:r&&w(r,c),isMulti:g,isSearchable:x,tabSelectsValue:j,isInitialFocus:A})}return H},[S,r,i,g,w,x,v,E,c,j,A]),F=ce(y.Fragment,null,ce("span",{id:"aria-selection"},P),ce("span",{id:"aria-focused"},C),ce("span",{id:"aria-results"},I),ce("span",{id:"aria-guidance"},R));return ce(y.Fragment,null,ce(Bv,{id:d},A&&F),ce(Bv,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!A&&F))},LO=OO,Of=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],FO=new RegExp("["+Of.map(function(t){return t.letters}).join("")+"]","g"),hS={};for(var Fh=0;Fh<Of.length;Fh++)for(var $h=Of[Fh],Vh=0;Vh<$h.letters.length;Vh++)hS[$h.letters[Vh]]=$h.base;var mS=function(e){return e.replace(FO,function(n){return hS[n]})},$O=DO(mS),zv=function(e){return e.replace(/^\s+|\s+$/g,"")},VO=function(e){return"".concat(e.label," ").concat(e.value)},UO=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=le({ignoreCase:!0,ignoreAccents:!0,stringify:VO,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,o=i.ignoreAccents,c=i.stringify,l=i.trim,d=i.matchFrom,u=l?zv(r):r,h=l?zv(c(n)):c(n);return a&&(u=u.toLowerCase(),h=h.toLowerCase()),o&&(u=$O(u),h=mS(h)),d==="start"?h.substr(0,u.length)===u:h.indexOf(u)>-1}},BO=["innerRef"];function zO(t){var e=t.innerRef,n=br(t,BO),r=pR(n,"onExited","in","enter","exit","appear");return ce("input",me({ref:e},r,{css:e0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var WO=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function HO(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,a=t.onTopLeave,o=y.useRef(!1),c=y.useRef(!1),l=y.useRef(0),d=y.useRef(null),u=y.useCallback(function(x,v){if(d.current!==null){var b=d.current,p=b.scrollTop,j=b.scrollHeight,N=b.clientHeight,S=d.current,_=v>0,E=j-N-p,P=!1;E>v&&o.current&&(r&&r(x),o.current=!1),_&&c.current&&(a&&a(x),c.current=!1),_&&v>E?(n&&!o.current&&n(x),S.scrollTop=j,P=!0,o.current=!0):!_&&-v>p&&(i&&!c.current&&i(x),S.scrollTop=0,P=!0,c.current=!0),P&&WO(x)}},[n,r,i,a]),h=y.useCallback(function(x){u(x,x.deltaY)},[u]),m=y.useCallback(function(x){l.current=x.changedTouches[0].clientY},[]),f=y.useCallback(function(x){var v=l.current-x.changedTouches[0].clientY;u(x,v)},[u]),g=y.useCallback(function(x){if(x){var v=hR?{passive:!1}:!1;x.addEventListener("wheel",h,v),x.addEventListener("touchstart",m,v),x.addEventListener("touchmove",f,v)}},[f,m,h]),w=y.useCallback(function(x){x&&(x.removeEventListener("wheel",h,!1),x.removeEventListener("touchstart",m,!1),x.removeEventListener("touchmove",f,!1))},[f,m,h]);return y.useEffect(function(){if(e){var x=d.current;return g(x),function(){w(x)}}},[e,g,w]),function(x){d.current=x}}var Wv=["boxSizing","height","overflow","paddingRight","position"],Hv={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function qv(t){t.cancelable&&t.preventDefault()}function Gv(t){t.stopPropagation()}function Kv(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Yv(){return"ontouchstart"in window||navigator.maxTouchPoints}var Qv=!!(typeof window<"u"&&window.document&&window.document.createElement),qa=0,Ni={capture:!1,passive:!1};function qO(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=y.useRef({}),a=y.useRef(null),o=y.useCallback(function(l){if(Qv){var d=document.body,u=d&&d.style;if(r&&Wv.forEach(function(g){var w=u&&u[g];i.current[g]=w}),r&&qa<1){var h=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,f=window.innerWidth-m+h||0;Object.keys(Hv).forEach(function(g){var w=Hv[g];u&&(u[g]=w)}),u&&(u.paddingRight="".concat(f,"px"))}d&&Yv()&&(d.addEventListener("touchmove",qv,Ni),l&&(l.addEventListener("touchstart",Kv,Ni),l.addEventListener("touchmove",Gv,Ni))),qa+=1}},[r]),c=y.useCallback(function(l){if(Qv){var d=document.body,u=d&&d.style;qa=Math.max(qa-1,0),r&&qa<1&&Wv.forEach(function(h){var m=i.current[h];u&&(u[h]=m)}),d&&Yv()&&(d.removeEventListener("touchmove",qv,Ni),l&&(l.removeEventListener("touchstart",Kv,Ni),l.removeEventListener("touchmove",Gv,Ni)))}},[r]);return y.useEffect(function(){if(e){var l=a.current;return o(l),function(){c(l)}}},[e,o,c]),function(l){a.current=l}}var GO=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},KO={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function YO(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,a=t.onBottomArrive,o=t.onBottomLeave,c=t.onTopArrive,l=t.onTopLeave,d=HO({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:c,onTopLeave:l}),u=qO({isEnabled:n}),h=function(f){d(f),u(f)};return ce(y.Fragment,null,n&&ce("div",{onClick:GO,css:KO}),e(h))}var QO={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},JO=function(e){var n=e.name,r=e.onFocus;return ce("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:QO,value:"",onChange:function(){}})},ZO=JO;function i0(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function XO(){return i0(/^iPhone/i)}function fS(){return i0(/^Mac/i)}function eL(){return i0(/^iPad/i)||fS()&&navigator.maxTouchPoints>1}function tL(){return XO()||eL()}function nL(){return fS()||tL()}var rL=function(e){return e.label},sL=function(e){return e.label},iL=function(e){return e.value},aL=function(e){return!!e.isDisabled},oL={clearIndicator:zR,container:DR,control:QR,dropdownIndicator:UR,group:eO,groupHeading:nO,indicatorsContainer:OR,indicatorSeparator:HR,input:aO,loadingIndicator:KR,loadingMessage:_R,menu:bR,menuList:SR,menuPortal:PR,multiValue:uO,multiValueLabel:hO,multiValueRemove:mO,noOptionsMessage:kR,option:vO,placeholder:jO,singleValue:CO,valueContainer:IR},lL={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},cL=4,pS=4,dL=38,uL=pS*2,hL={baseUnit:pS,controlHeight:dL,menuGutter:uL},Uh={borderRadius:cL,colors:lL,spacing:hL},mL={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:$v(),captureMenuScroll:!$v(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:UO(),formatGroupLabel:rL,getOptionLabel:sL,getOptionValue:iL,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:aL,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!dR(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Jv(t,e,n,r){var i=yS(t,e,n),a=vS(t,e,n),o=xS(t,e),c=Td(t,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:o,value:c,index:r}}function Rc(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,c){return Jv(t,o,e,c)}).filter(function(o){return Xv(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=Jv(t,n,e,r);return Xv(t,a)?a:void 0}).filter(mR)}function gS(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,qg(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function Zv(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,qg(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function fL(t,e){return gS(Rc(t,e))}function Xv(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,a=e.isSelected,o=e.label,c=e.value;return(!wS(t)||!a)&&bS(t,{label:o,value:c,data:i},r)}function pL(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var a=e.indexOf(n);if(a>-1)return n;if(i<e.length)return e[i]}return null}function gL(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Bh=function(e,n){var r,i=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},xS=function(e,n){return e.getOptionLabel(n)},Td=function(e,n){return e.getOptionValue(n)};function yS(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function vS(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Td(t,e);return n.some(function(i){return Td(t,i)===r})}function bS(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var wS=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},xL=1,jS=function(t){_I(n,t);var e=PI(n);function n(r){var i;if(CI(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,d){var u=i.props,h=u.onChange,m=u.name;d.name=m,i.ariaOnChange(l,d),h(l,d)},i.setValue=function(l,d,u){var h=i.props,m=h.closeMenuOnSelect,f=h.isMulti,g=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),m&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:d,option:u})},i.selectOption=function(l){var d=i.props,u=d.blurInputOnSelect,h=d.isMulti,m=d.name,f=i.state.selectValue,g=h&&i.isOptionSelected(l,f),w=i.isOptionDisabled(l,f);if(g){var x=i.getOptionValue(l);i.setValue(f.filter(function(v){return i.getOptionValue(v)!==x}),"deselect-option",l)}else if(!w)h?i.setValue([].concat(qg(f),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:m});return}u&&i.blurInput()},i.removeValue=function(l){var d=i.props.isMulti,u=i.state.selectValue,h=i.getOptionValue(l),m=u.filter(function(g){return i.getOptionValue(g)!==h}),f=lc(d,m,m[0]||null);i.onChange(f,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(lc(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,d=i.state.selectValue,u=d[d.length-1],h=d.slice(0,d.length-1),m=lc(l,h,h[0]||null);u&&i.onChange(m,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(l){return Bh(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return Zv(Rc(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return sR.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(l){return xS(i.props,l)},i.getOptionValue=function(l){return Td(i.props,l)},i.getStyles=function(l,d){var u=i.props.unstyled,h=oL[l](d,u);h.boxSizing="border-box";var m=i.props.styles[l];return m?m(h,d):h},i.getClassNames=function(l,d){var u,h;return(u=(h=i.props.classNames)[l])===null||u===void 0?void 0:u.call(h,d)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return TO(i.props)},i.buildCategorizedOptions=function(){return Rc(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return gS(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,d){i.setState({ariaSelection:le({value:l},d)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var d=i.props,u=d.isMulti,h=d.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Eu(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var d=l.touches,u=d&&d.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var d=l.touches,u=d&&d.item(0);if(u){var h=Math.abs(u.clientX-i.initialTouchX),m=Math.abs(u.clientY-i.initialTouchY),f=5;i.userIsDragging=h>f||m>f}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var d=i.props.inputValue,u=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var d=i.getFocusableOptions(),u=d.indexOf(l);i.setState({focusedOption:l,focusedOptionId:u>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return wS(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var d=i.props,u=d.isMulti,h=d.backspaceRemovesValue,m=d.escapeClearsValue,f=d.inputValue,g=d.isClearable,w=d.isDisabled,x=d.menuIsOpen,v=d.onKeyDown,b=d.tabSelectsValue,p=d.openMenuOnFocus,j=i.state,N=j.focusedOption,S=j.focusedValue,_=j.selectValue;if(!w&&!(typeof v=="function"&&(v(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||f)return;i.focusValue("previous");break;case"ArrowRight":if(!u||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(S)i.removeValue(S);else{if(!h)return;u?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!x||!b||!N||p&&i.isOptionSelected(N,_))return;i.selectOption(N);break;case"Enter":if(l.keyCode===229)break;if(x){if(!N||i.isComposing)return;i.selectOption(N);break}return;case"Escape":x?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):g&&m&&i.clearValue();break;case" ":if(f)return;if(!x){i.openMenu("first");break}if(!N)return;i.selectOption(N);break;case"ArrowUp":x?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":x?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!x)return;i.focusOption("pageup");break;case"PageDown":if(!x)return;i.focusOption("pagedown");break;case"Home":if(!x)return;i.focusOption("first");break;case"End":if(!x)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++xL),i.state.selectValue=Lv(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),c=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[c],i.state.focusedOptionId=Bh(a,o[c])}return i}return kI(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Fv(this.menuListRef,this.focusedOptionRef),nL()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,c=a.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&c&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Fv(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,c=o.selectValue,l=o.isFocused,d=this.buildFocusableOptions(),u=i==="first"?0:d.length-1;if(!this.props.isMulti){var h=d.indexOf(c[0]);h>-1&&(u=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[u],focusedOptionId:this.getFocusedOptionId(d[u])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,c=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(c);c||(l=-1);var d=o.length-1,u=-1;if(o.length){switch(i){case"previous":l===0?u=0:l===-1?u=d:u=l-1;break;case"next":l>-1&&l<d&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:o[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var l=0,d=c.indexOf(o);o||(d=-1),i==="up"?l=d>0?d-1:c.length-1:i==="down"?l=(d+1)%c.length:i==="pageup"?(l=d-a,l<0&&(l=0)):i==="pagedown"?(l=d+a,l>c.length-1&&(l=c.length-1)):i==="last"&&(l=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Uh):le(le({},Uh),this.props.theme):Uh}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,c=this.getClassNames,l=this.getValue,d=this.selectOption,u=this.setValue,h=this.props,m=h.isMulti,f=h.isRtl,g=h.options,w=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:c,getValue:l,hasValue:w,isMulti:m,isRtl:f,options:g,selectOption:d,selectProps:h,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return yS(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return vS(this.props,i,a)}},{key:"filterOption",value:function(i,a){return bS(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,c=i.inputId,l=i.inputValue,d=i.tabIndex,u=i.form,h=i.menuIsOpen,m=i.required,f=this.getComponents(),g=f.Input,w=this.state,x=w.inputIsHidden,v=w.ariaSelection,b=this.commonProps,p=c||this.getElementId("input"),j=le(le(le({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?y.createElement(g,me({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:p,innerRef:this.getInputRef,isDisabled:a,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:u,type:"text",value:l},j)):y.createElement(zO,me({id:p,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:_d,onFocus:this.onInputFocus,disabled:a,tabIndex:d,inputMode:"none",form:u,value:""},j))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,c=a.MultiValueContainer,l=a.MultiValueLabel,d=a.MultiValueRemove,u=a.SingleValue,h=a.Placeholder,m=this.commonProps,f=this.props,g=f.controlShouldRenderValue,w=f.isDisabled,x=f.isMulti,v=f.inputValue,b=f.placeholder,p=this.state,j=p.selectValue,N=p.focusedValue,S=p.isFocused;if(!this.hasValue()||!g)return v?null:y.createElement(h,me({},m,{key:"placeholder",isDisabled:w,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),b);if(x)return j.map(function(E,P){var C=E===N,I="".concat(i.getOptionLabel(E),"-").concat(i.getOptionValue(E));return y.createElement(o,me({},m,{components:{Container:c,Label:l,Remove:d},isFocused:C,isDisabled:w,key:I,index:P,removeProps:{onClick:function(){return i.removeValue(E)},onTouchEnd:function(){return i.removeValue(E)},onMouseDown:function(R){R.preventDefault()}},data:E}),i.formatOptionLabel(E,"value"))});if(v)return null;var _=j[0];return y.createElement(u,me({},m,{data:_,isDisabled:w}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,d=c.isLoading,u=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||d)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(a,me({},o,{innerProps:h,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,d=c.isLoading,u=this.state.isFocused;if(!a||!d)return null;var h={"aria-hidden":"true"};return y.createElement(a,me({},o,{innerProps:h,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var c=this.commonProps,l=this.props.isDisabled,d=this.state.isFocused;return y.createElement(o,me({},c,{isDisabled:l,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,c=this.props.isDisabled,l=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(a,me({},o,{innerProps:d,isDisabled:c,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,c=a.GroupHeading,l=a.Menu,d=a.MenuList,u=a.MenuPortal,h=a.LoadingMessage,m=a.NoOptionsMessage,f=a.Option,g=this.commonProps,w=this.state.focusedOption,x=this.props,v=x.captureMenuScroll,b=x.inputValue,p=x.isLoading,j=x.loadingMessage,N=x.minMenuHeight,S=x.maxMenuHeight,_=x.menuIsOpen,E=x.menuPlacement,P=x.menuPosition,C=x.menuPortalTarget,I=x.menuShouldBlockScroll,A=x.menuShouldScrollIntoView,R=x.noOptionsMessage,F=x.onMenuScrollToTop,H=x.onMenuScrollToBottom;if(!_)return null;var K=function(Q,ie){var fe=Q.type,ye=Q.data,De=Q.isDisabled,z=Q.isSelected,$=Q.label,ee=Q.value,de=w===ye,oe=De?void 0:function(){return i.onOptionHover(ye)},J=De?void 0:function(){return i.selectOption(ye)},_e="".concat(i.getElementId("option"),"-").concat(ie),be={id:_e,onClick:J,onMouseMove:oe,onMouseOver:oe,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:z};return y.createElement(f,me({},g,{innerProps:be,data:ye,isDisabled:De,isSelected:z,key:_e,label:$,type:fe,value:ee,isFocused:de,innerRef:de?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Q.data,"menu"))},O;if(this.hasOptions())O=this.getCategorizedOptions().map(function(U){if(U.type==="group"){var Q=U.data,ie=U.options,fe=U.index,ye="".concat(i.getElementId("group"),"-").concat(fe),De="".concat(ye,"-heading");return y.createElement(o,me({},g,{key:ye,data:Q,options:ie,Heading:c,headingProps:{id:De,data:U.data},label:i.formatGroupLabel(U.data)}),U.options.map(function(z){return K(z,"".concat(fe,"-").concat(z.index))}))}else if(U.type==="option")return K(U,"".concat(U.index))});else if(p){var M=j({inputValue:b});if(M===null)return null;O=y.createElement(h,g,M)}else{var D=R({inputValue:b});if(D===null)return null;O=y.createElement(m,g,D)}var V={minMenuHeight:N,maxMenuHeight:S,menuPlacement:E,menuPosition:P,menuShouldScrollIntoView:A},Y=y.createElement(wR,me({},g,V),function(U){var Q=U.ref,ie=U.placerProps,fe=ie.placement,ye=ie.maxHeight;return y.createElement(l,me({},g,V,{innerRef:Q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:p,placement:fe}),y.createElement(YO,{captureEnabled:v,onTopArrive:F,onBottomArrive:H,lockEnabled:I},function(De){return y.createElement(d,me({},g,{innerRef:function($){i.getMenuListRef($),De($)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:p,maxHeight:ye,focusedOption:w}),O)}))});return C||P==="fixed"?y.createElement(u,me({},g,{appendTo:C,controlElement:this.controlRef,menuPlacement:E,menuPosition:P}),Y):Y}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,c=a.isDisabled,l=a.isMulti,d=a.name,u=a.required,h=this.state.selectValue;if(u&&!this.hasValue()&&!c)return y.createElement(ZO,{name:d,onFocus:this.onValueInputFocus});if(!(!d||c))if(l)if(o){var m=h.map(function(w){return i.getOptionValue(w)}).join(o);return y.createElement("input",{name:d,type:"hidden",value:m})}else{var f=h.length>0?h.map(function(w,x){return y.createElement("input",{key:"i-".concat(x),name:d,type:"hidden",value:i.getOptionValue(w)})}):y.createElement("input",{name:d,type:"hidden",value:""});return y.createElement("div",null,f)}else{var g=h[0]?this.getOptionValue(h[0]):"";return y.createElement("input",{name:d,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,c=a.focusedOption,l=a.focusedValue,d=a.isFocused,u=a.selectValue,h=this.getFocusableOptions();return y.createElement(LO,me({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:c,focusedValue:l,isFocused:d,selectValue:u,focusableOptions:h,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,c=i.SelectContainer,l=i.ValueContainer,d=this.props,u=d.className,h=d.id,m=d.isDisabled,f=d.menuIsOpen,g=this.state.isFocused,w=this.commonProps=this.getCommonProps();return y.createElement(c,me({},w,{className:u,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:g}),this.renderLiveRegion(),y.createElement(a,me({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:g,menuIsOpen:f}),y.createElement(l,me({},w,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),y.createElement(o,me({},w,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,c=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,d=a.ariaSelection,u=a.isFocused,h=a.prevWasFocused,m=a.instancePrefix,f=i.options,g=i.value,w=i.menuIsOpen,x=i.inputValue,v=i.isMulti,b=Lv(g),p={};if(o&&(g!==o.value||f!==o.options||w!==o.menuIsOpen||x!==o.inputValue)){var j=w?fL(i,b):[],N=w?Zv(Rc(i,b),"".concat(m,"-option")):[],S=c?pL(a,b):null,_=gL(a,j),E=Bh(N,_);p={selectValue:b,focusedOption:_,focusedOptionId:E,focusableOptionsWithIds:N,focusedValue:S,clearFocusValueOnUpdate:!1}}var P=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},C=d,I=u&&h;return u&&!I&&(C={value:lc(v,b,b[0]||null),options:b,action:"initial-input-focus"},I=!h),(d==null?void 0:d.action)==="initial-input-focus"&&(C=null),le(le(le({},p),P),{},{prevProps:i,ariaSelection:C,prevWasFocused:I})}}]),n}(y.Component);jS.defaultProps=mL;var yL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function vL(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,a=t.defaultValue,o=a===void 0?null:a,c=t.inputValue,l=t.menuIsOpen,d=t.onChange,u=t.onInputChange,h=t.onMenuClose,m=t.onMenuOpen,f=t.value,g=br(t,yL),w=y.useState(c!==void 0?c:n),x=Nt(w,2),v=x[0],b=x[1],p=y.useState(l!==void 0?l:i),j=Nt(p,2),N=j[0],S=j[1],_=y.useState(f!==void 0?f:o),E=Nt(_,2),P=E[0],C=E[1],I=y.useCallback(function(M,D){typeof d=="function"&&d(M,D),C(M)},[d]),A=y.useCallback(function(M,D){var V;typeof u=="function"&&(V=u(M,D)),b(V!==void 0?V:M)},[u]),R=y.useCallback(function(){typeof m=="function"&&m(),S(!0)},[m]),F=y.useCallback(function(){typeof h=="function"&&h(),S(!1)},[h]),H=c!==void 0?c:v,K=l!==void 0?l:N,O=f!==void 0?f:P;return le(le({},g),{},{inputValue:H,menuIsOpen:K,onChange:I,onInputChange:A,onMenuClose:F,onMenuOpen:R,value:O})}var bL=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function wL(t){var e=t.defaultOptions,n=e===void 0?!1:e,r=t.cacheOptions,i=r===void 0?!1:r,a=t.loadOptions;t.options;var o=t.isLoading,c=o===void 0?!1:o,l=t.onInputChange,d=t.filterOption,u=d===void 0?null:d,h=br(t,bL),m=h.inputValue,f=y.useRef(void 0),g=y.useRef(!1),w=y.useState(Array.isArray(n)?n:void 0),x=Nt(w,2),v=x[0],b=x[1],p=y.useState(typeof m<"u"?m:""),j=Nt(p,2),N=j[0],S=j[1],_=y.useState(n===!0),E=Nt(_,2),P=E[0],C=E[1],I=y.useState(void 0),A=Nt(I,2),R=A[0],F=A[1],H=y.useState([]),K=Nt(H,2),O=K[0],M=K[1],D=y.useState(!1),V=Nt(D,2),Y=V[0],U=V[1],Q=y.useState({}),ie=Nt(Q,2),fe=ie[0],ye=ie[1],De=y.useState(void 0),z=Nt(De,2),$=z[0],ee=z[1],de=y.useState(void 0),oe=Nt(de,2),J=oe[0],_e=oe[1];i!==J&&(ye({}),_e(i)),n!==$&&(b(Array.isArray(n)?n:void 0),ee(n)),y.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var be=y.useCallback(function(jt,Et){if(!a)return Et();var Fe=a(jt,Et);Fe&&typeof Fe.then=="function"&&Fe.then(Et,function(){return Et()})},[a]);y.useEffect(function(){n===!0&&be(N,function(jt){g.current&&(b(jt||[]),C(!!f.current))})},[]);var ut=y.useCallback(function(jt,Et){var Fe=iR(jt,Et,l);if(!Fe){f.current=void 0,S(""),F(""),M([]),C(!1),U(!1);return}if(i&&fe[Fe])S(Fe),F(Fe),M(fe[Fe]),C(!1),U(!1);else{var wr=f.current={};S(Fe),C(!0),U(!R),be(Fe,function(cn){g&&wr===f.current&&(f.current=void 0,C(!1),F(Fe),M(cn||[]),U(!1),ye(cn?le(le({},fe),{},Gi({},Fe,cn)):fe))})}},[i,be,R,fe,l]),$t=Y?[]:N&&R?O:v||[];return le(le({},h),{},{options:$t,isLoading:P||c,onInputChange:ut,filterOption:u})}var jL=y.forwardRef(function(t,e){var n=wL(t),r=vL(n);return y.createElement(jS,me({ref:e},r))}),NL=jL;function SL(t,e){let n=null;return function(...r){return new Promise(i=>{n&&clearTimeout(n),n=setTimeout(()=>{const a=t(...r);i(a),n=null},e)})}}function $r(t){return Array.isArray?Array.isArray(t):CS(t)==="[object Array]"}function CL(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function kL(t){return t==null?"":CL(t)}function ur(t){return typeof t=="string"}function NS(t){return typeof t=="number"}function _L(t){return t===!0||t===!1||EL(t)&&CS(t)=="[object Boolean]"}function SS(t){return typeof t=="object"}function EL(t){return SS(t)&&t!==null}function mn(t){return t!=null}function zh(t){return!t.trim().length}function CS(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const TL="Incorrect 'index' type",PL=t=>`Invalid value for key ${t}`,AL=t=>`Pattern length exceeds max of ${t}.`,DL=t=>`Missing ${t} property in key`,ML=t=>`Property 'weight' in key '${t}' must be a positive integer`,eb=Object.prototype.hasOwnProperty;class IL{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=kS(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function kS(t){let e=null,n=null,r=null,i=1,a=null;if(ur(t)||$r(t))r=t,e=tb(t),n=Lf(t);else{if(!eb.call(t,"name"))throw new Error(DL("name"));const o=t.name;if(r=o,eb.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(ML(o));e=tb(o),n=Lf(o),a=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:a}}function tb(t){return $r(t)?t:t.split(".")}function Lf(t){return $r(t)?t.join("."):t}function RL(t,e){let n=[],r=!1;const i=(a,o,c)=>{if(mn(a))if(!o[c])n.push(a);else{let l=o[c];const d=a[l];if(!mn(d))return;if(c===o.length-1&&(ur(d)||NS(d)||_L(d)))n.push(kL(d));else if($r(d)){r=!0;for(let u=0,h=d.length;u<h;u+=1)i(d[u],o,c+1)}else o.length&&i(d,o,c+1)}};return i(t,ur(e)?e.split("."):e,0),r?n:n[0]}const OL={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},LL={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},FL={location:0,threshold:.6,distance:100},$L={useExtendedSearch:!1,getFn:RL,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var pe={...LL,...OL,...FL,...$L};const VL=/[^ ]+/g;function UL(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const a=i.match(VL).length;if(n.has(a))return n.get(a);const o=1/Math.pow(a,.5*t),c=parseFloat(Math.round(o*r)/r);return n.set(a,c),c},clear(){n.clear()}}}class a0{constructor({getFn:e=pe.getFn,fieldNormWeight:n=pe.fieldNormWeight}={}){this.norm=UL(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ur(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();ur(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!mn(e)||zh(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,a)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(mn(o)){if($r(o)){let c=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:d,value:u}=l.pop();if(mn(u))if(ur(u)&&!zh(u)){let h={v:u,i:d,n:this.norm.get(u)};c.push(h)}else $r(u)&&u.forEach((h,m)=>{l.push({nestedArrIndex:m,value:h})})}r.$[a]=c}else if(ur(o)&&!zh(o)){let c={v:o,n:this.norm.get(o)};r.$[a]=c}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function _S(t,e,{getFn:n=pe.getFn,fieldNormWeight:r=pe.fieldNormWeight}={}){const i=new a0({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(kS)),i.setSources(e),i.create(),i}function BL(t,{getFn:e=pe.getFn,fieldNormWeight:n=pe.fieldNormWeight}={}){const{keys:r,records:i}=t,a=new a0({getFn:e,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function cc(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=pe.distance,ignoreLocation:a=pe.ignoreLocation}={}){const o=e/t.length;if(a)return o;const c=Math.abs(r-n);return i?o+c/i:c?1:o}function zL(t=[],e=pe.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let o=t.length;a<o;a+=1){let c=t[a];c&&r===-1?r=a:!c&&r!==-1&&(i=a-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[a-1]&&a-r>=e&&n.push([r,a-1]),n}const Us=32;function WL(t,e,n,{location:r=pe.location,distance:i=pe.distance,threshold:a=pe.threshold,findAllMatches:o=pe.findAllMatches,minMatchCharLength:c=pe.minMatchCharLength,includeMatches:l=pe.includeMatches,ignoreLocation:d=pe.ignoreLocation}={}){if(e.length>Us)throw new Error(AL(Us));const u=e.length,h=t.length,m=Math.max(0,Math.min(r,h));let f=a,g=m;const w=c>1||l,x=w?Array(h):[];let v;for(;(v=t.indexOf(e,g))>-1;){let _=cc(e,{currentLocation:v,expectedLocation:m,distance:i,ignoreLocation:d});if(f=Math.min(_,f),g=v+u,w){let E=0;for(;E<u;)x[v+E]=1,E+=1}}g=-1;let b=[],p=1,j=u+h;const N=1<<u-1;for(let _=0;_<u;_+=1){let E=0,P=j;for(;E<P;)cc(e,{errors:_,currentLocation:m+P,expectedLocation:m,distance:i,ignoreLocation:d})<=f?E=P:j=P,P=Math.floor((j-E)/2+E);j=P;let C=Math.max(1,m-P+1),I=o?h:Math.min(m+P,h)+u,A=Array(I+2);A[I+1]=(1<<_)-1;for(let F=I;F>=C;F-=1){let H=F-1,K=n[t.charAt(H)];if(w&&(x[H]=+!!K),A[F]=(A[F+1]<<1|1)&K,_&&(A[F]|=(b[F+1]|b[F])<<1|1|b[F+1]),A[F]&N&&(p=cc(e,{errors:_,currentLocation:H,expectedLocation:m,distance:i,ignoreLocation:d}),p<=f)){if(f=p,g=H,g<=m)break;C=Math.max(1,2*m-g)}}if(cc(e,{errors:_+1,currentLocation:m,expectedLocation:m,distance:i,ignoreLocation:d})>f)break;b=A}const S={isMatch:g>=0,score:Math.max(.001,p)};if(w){const _=zL(x,c);_.length?l&&(S.indices=_):S.isMatch=!1}return S}function HL(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}const Pd=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class ES{constructor(e,{location:n=pe.location,threshold:r=pe.threshold,distance:i=pe.distance,includeMatches:a=pe.includeMatches,findAllMatches:o=pe.findAllMatches,minMatchCharLength:c=pe.minMatchCharLength,isCaseSensitive:l=pe.isCaseSensitive,ignoreDiacritics:d=pe.ignoreDiacritics,ignoreLocation:u=pe.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:c,isCaseSensitive:l,ignoreDiacritics:d,ignoreLocation:u},e=l?e:e.toLowerCase(),e=d?Pd(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(f,g)=>{this.chunks.push({pattern:f,alphabet:HL(f),startIndex:g})},m=this.pattern.length;if(m>Us){let f=0;const g=m%Us,w=m-g;for(;f<w;)h(this.pattern.substr(f,Us),f),f+=Us;if(g){const x=m-Us;h(this.pattern.substr(x),x)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=n?e:e.toLowerCase(),e=r?Pd(e):e,this.pattern===e){let w={isMatch:!0,score:0};return i&&(w.indices=[[0,e.length-1]]),w}const{location:a,distance:o,threshold:c,findAllMatches:l,minMatchCharLength:d,ignoreLocation:u}=this.options;let h=[],m=0,f=!1;this.chunks.forEach(({pattern:w,alphabet:x,startIndex:v})=>{const{isMatch:b,score:p,indices:j}=WL(e,w,x,{location:a+v,distance:o,threshold:c,findAllMatches:l,minMatchCharLength:d,includeMatches:i,ignoreLocation:u});b&&(f=!0),m+=p,b&&j&&(h=[...h,...j])});let g={isMatch:f,score:f?m/this.chunks.length:1};return f&&i&&(g.indices=h),g}}class Ts{constructor(e){this.pattern=e}static isMultiMatch(e){return nb(e,this.multiRegex)}static isSingleMatch(e){return nb(e,this.singleRegex)}search(){}}function nb(t,e){const n=t.match(e);return n?n[1]:null}class qL extends Ts{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class GL extends Ts{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class KL extends Ts{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class YL extends Ts{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class QL extends Ts{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class JL extends Ts{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class TS extends Ts{constructor(e,{location:n=pe.location,threshold:r=pe.threshold,distance:i=pe.distance,includeMatches:a=pe.includeMatches,findAllMatches:o=pe.findAllMatches,minMatchCharLength:c=pe.minMatchCharLength,isCaseSensitive:l=pe.isCaseSensitive,ignoreDiacritics:d=pe.ignoreDiacritics,ignoreLocation:u=pe.ignoreLocation}={}){super(e),this._bitapSearch=new ES(e,{location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:c,isCaseSensitive:l,ignoreDiacritics:d,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class PS extends Ts{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],a=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+a,i.push([r,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Ff=[qL,PS,KL,YL,JL,QL,GL,TS],rb=Ff.length,ZL=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,XL="|";function eF(t,e={}){return t.split(XL).map(n=>{let r=n.trim().split(ZL).filter(a=>a&&!!a.trim()),i=[];for(let a=0,o=r.length;a<o;a+=1){const c=r[a];let l=!1,d=-1;for(;!l&&++d<rb;){const u=Ff[d];let h=u.isMultiMatch(c);h&&(i.push(new u(h,e)),l=!0)}if(!l)for(d=-1;++d<rb;){const u=Ff[d];let h=u.isSingleMatch(c);if(h){i.push(new u(h,e));break}}}return i})}const tF=new Set([TS.type,PS.type]);class nF{constructor(e,{isCaseSensitive:n=pe.isCaseSensitive,ignoreDiacritics:r=pe.ignoreDiacritics,includeMatches:i=pe.includeMatches,minMatchCharLength:a=pe.minMatchCharLength,ignoreLocation:o=pe.ignoreLocation,findAllMatches:c=pe.findAllMatches,location:l=pe.location,threshold:d=pe.threshold,distance:u=pe.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:a,findAllMatches:c,ignoreLocation:o,location:l,threshold:d,distance:u},e=n?e:e.toLowerCase(),e=r?Pd(e):e,this.pattern=e,this.query=eF(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:a}=this.options;e=i?e:e.toLowerCase(),e=a?Pd(e):e;let o=0,c=[],l=0;for(let d=0,u=n.length;d<u;d+=1){const h=n[d];c.length=0,o=0;for(let m=0,f=h.length;m<f;m+=1){const g=h[m],{isMatch:w,indices:x,score:v}=g.search(e);if(w){if(o+=1,l+=v,r){const b=g.constructor.type;tF.has(b)?c=[...c,...x]:c.push(x)}}else{l=0,o=0,c.length=0;break}}if(o){let m={isMatch:!0,score:l/o};return r&&(m.indices=c),m}}return{isMatch:!1,score:1}}}const $f=[];function rF(...t){$f.push(...t)}function Vf(t,e){for(let n=0,r=$f.length;n<r;n+=1){let i=$f[n];if(i.condition(t,e))return new i(t,e)}return new ES(t,e)}const Ad={AND:"$and",OR:"$or"},Uf={PATH:"$path",PATTERN:"$val"},Bf=t=>!!(t[Ad.AND]||t[Ad.OR]),sF=t=>!!t[Uf.PATH],iF=t=>!$r(t)&&SS(t)&&!Bf(t),sb=t=>({[Ad.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function AS(t,e,{auto:n=!0}={}){const r=i=>{let a=Object.keys(i);const o=sF(i);if(!o&&a.length>1&&!Bf(i))return r(sb(i));if(iF(i)){const l=o?i[Uf.PATH]:a[0],d=o?i[Uf.PATTERN]:i[l];if(!ur(d))throw new Error(PL(l));const u={keyId:Lf(l),pattern:d};return n&&(u.searcher=Vf(d,e)),u}let c={children:[],operator:a[0]};return a.forEach(l=>{const d=i[l];$r(d)&&d.forEach(u=>{c.children.push(r(u))})}),c};return Bf(t)||(t=sb(t)),r(t)}function aF(t,{ignoreFieldNorm:e=pe.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:a,score:o})=>{const c=i?i.weight:null;r*=Math.pow(o===0&&c?Number.EPSILON:o,(c||1)*(e?1:a))}),n.score=r})}function oF(t,e){const n=t.matches;e.matches=[],mn(n)&&n.forEach(r=>{if(!mn(r.indices)||!r.indices.length)return;const{indices:i,value:a}=r;let o={indices:i,value:a};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}function lF(t,e){e.score=t.score}function cF(t,e,{includeMatches:n=pe.includeMatches,includeScore:r=pe.includeScore}={}){const i=[];return n&&i.push(oF),r&&i.push(lF),t.map(a=>{const{idx:o}=a,c={item:e[o],refIndex:o};return i.length&&i.forEach(l=>{l(a,c)}),c})}class Da{constructor(e,n={},r){this.options={...pe,...n},this.options.useExtendedSearch,this._keyStore=new IL(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof a0))throw new Error(TL);this._myIndex=n||_S(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){mn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const a=this._docs[r];e(a,r)&&(this.removeAt(r),r-=1,i-=1,n.push(a))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:a,sortFn:o,ignoreFieldNorm:c}=this.options;let l=ur(e)?ur(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return aF(l,{ignoreFieldNorm:c}),a&&l.sort(o),NS(n)&&n>-1&&(l=l.slice(0,n)),cF(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=Vf(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:a,i:o,n:c})=>{if(!mn(a))return;const{isMatch:l,score:d,indices:u}=n.searchIn(a);l&&i.push({item:a,idx:o,matches:[{score:d,value:a,norm:c,indices:u}]})}),i}_searchLogical(e){const n=AS(e,this.options),r=(c,l,d)=>{if(!c.children){const{keyId:h,searcher:m}=c,f=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:m});return f&&f.length?[{idx:d,item:l,matches:f}]:[]}const u=[];for(let h=0,m=c.children.length;h<m;h+=1){const f=c.children[h],g=r(f,l,d);if(g.length)u.push(...g);else if(c.operator===Ad.AND)return[]}return u},i=this._myIndex.records,a={},o=[];return i.forEach(({$:c,i:l})=>{if(mn(c)){let d=r(n,c,l);d.length&&(a[l]||(a[l]={idx:l,item:c,matches:[]},o.push(a[l])),d.forEach(({matches:u})=>{a[l].matches.push(...u)}))}}),o}_searchObjectList(e){const n=Vf(e,this.options),{keys:r,records:i}=this._myIndex,a=[];return i.forEach(({$:o,i:c})=>{if(!mn(o))return;let l=[];r.forEach((d,u)=>{l.push(...this._findMatches({key:d,value:o[u],searcher:n}))}),l.length&&a.push({idx:c,item:o,matches:l})}),a}_findMatches({key:e,value:n,searcher:r}){if(!mn(n))return[];let i=[];if($r(n))n.forEach(({v:a,i:o,n:c})=>{if(!mn(a))return;const{isMatch:l,score:d,indices:u}=r.searchIn(a);l&&i.push({score:d,key:e,value:a,idx:o,norm:c,indices:u})});else{const{v:a,n:o}=n,{isMatch:c,score:l,indices:d}=r.searchIn(a);c&&i.push({score:l,key:e,value:a,norm:o,indices:d})}return i}}Da.version="7.1.0";Da.createIndex=_S;Da.parseIndex=BL;Da.config=pe;Da.parseQuery=AS;rF(nF);const Wh=new Map;let dc=null,ko={cities:[]};const dF=async()=>{try{return ko=(await Rn(()=>import("./cities-BEpYJWGb.js"),[])).default,ko.cities}catch(t){return k.error("Error loading cities data:",t),[]}},uF=async()=>{if(dc)return dc;try{const t=await dF();return dc=new Da(t,{keys:["name","country","region","alternateNames"],threshold:.3,distance:100,includeScore:!0,shouldSort:!0,minMatchCharLength:2,ignoreLocation:!0}),dc}catch(t){return k.error("Error initializing Fuse.js:",t),null}},ib=async(t,e="en",n=50)=>{try{if(!t||t.length<2)return[];const r=`${t.toLowerCase().trim()}-${e}`;if(Wh.has(r))return Wh.get(r)||[];const i=await uF();if(!i)return k.error("Fuse.js not initialized"),[];const o=i.search(t).slice(0,n).map(c=>{const l=c.item;let d=l.name;return e!=="en"&&l.alternateNames&&l.alternateNames[e]&&(d=l.alternateNames[e]),{id:l.id,name:l.name,country:l.country,countryCode:l.countryCode,region:l.region,latitude:l.latitude,longitude:l.longitude,population:l.population,localizedName:d!==l.name?d:void 0,label:`${l.name}, ${l.country}`,value:l.name}});return Wh.set(r,o),o}catch(r){return k.error("Error searching cities:",r),[]}},hF=(t=10)=>{const e=[{id:"nyc",name:"New York",country:"United States",countryCode:"US",region:"New York",latitude:40.7128,longitude:-74.006},{id:"london",name:"London",country:"United Kingdom",countryCode:"GB",region:"England",latitude:51.5074,longitude:-.1278},{id:"paris",name:"Paris",country:"France",countryCode:"FR",region:"Île-de-France",latitude:48.8566,longitude:2.3522},{id:"tokyo",name:"Tokyo",country:"Japan",countryCode:"JP",region:"Tokyo",latitude:35.6762,longitude:139.6503},{id:"sydney",name:"Sydney",country:"Australia",countryCode:"AU",region:"New South Wales",latitude:-33.8688,longitude:151.2093},{id:"berlin",name:"Berlin",country:"Germany",countryCode:"DE",region:"Berlin",latitude:52.52,longitude:13.405},{id:"singapore",name:"Singapore",country:"Singapore",countryCode:"SG",region:"Singapore",latitude:1.3521,longitude:103.8198},{id:"dubai",name:"Dubai",country:"United Arab Emirates",countryCode:"AE",region:"Dubai",latitude:25.2048,longitude:55.2708}];return!ko.cities||ko.cities.length===0?e.slice(0,t):ko.cities.sort((n,r)=>(r.population||0)-(n.population||0)).slice(0,t).map(n=>({id:n.id,name:n.name,country:n.country,countryCode:n.countryCode,region:n.region,latitude:n.latitude,longitude:n.longitude,population:n.population,label:`${n.name}, ${n.country}`,value:n.name}))},Ga=new Map;let ab=0;const ob=1e3;let na=0;const mF=3;let DS=0;const fF=5*60*1e3,pF={it:{Florence:"Firenze",Rome:"Roma",Milan:"Milano",Venice:"Venezia",Naples:"Napoli"},es:{Seville:"Sevilla",Barcelona:"Barcelona",Madrid:"Madrid"},fr:{Marseille:"Marseille",Lyon:"Lyon",Paris:"Paris"},de:{Munich:"München",Cologne:"Köln",Berlin:"Berlin"},ja:{Tokyo:"東京",Osaka:"大阪",Kyoto:"京都"}},MS=()=>typeof navigator<"u"&&"onLine"in navigator&&!navigator.onLine?(k.info("Using local city data because device is offline"),!0):Date.now()-DS>fF?(na=0,!1):na>=mF?(k.info(`Using local city data due to ${na} recent API failures`),!0):!1,gF=(t,e)=>{var r;const n=pF[e];if(n){const i=Object.entries(n).find(([a,o])=>o.toLowerCase()===t.toLowerCase());if(i)return i[0]}if(Js!=null&&Js.cities){for(const i of Js.cities)if(i.alternateNames&&((r=i.alternateNames[e])==null?void 0:r.toLowerCase())===t.toLowerCase())return i.name}return t},xF=async()=>{const e=Date.now()-ab;if(e<ob){const n=ob-e;await new Promise(r=>setTimeout(r,n))}ab=Date.now()},IS=async(t,e="en",n=50)=>{try{if(!t||t.length<2)return[];const r=`${t.toLowerCase().trim()}-${e}`;if(Ga.has(r))return Ga.get(r)||[];if(MS()){k.info("Using local city data for search");const d=await ib(t,e,n);return Ga.set(r,d),d}await xF(),DS=Date.now();const i=`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(t)}&format=json&addressdetails=1&limit=${n}&accept-language=${e}&featuretype=city&featuretype=town&featuretype=village&featuretype=hamlet&dedupe=1`,a=await fetch(i,{headers:{"User-Agent":"Dislink City Search (https://dislink.com)","Accept-Language":e==="auto"?navigator.language:e}});if(!a.ok)throw new Error(`Failed to search cities: ${a.status} ${a.statusText}`);const o=await a.json();na=0;const l=o.filter(d=>{const u=d.class==="place"&&["city","town","village","hamlet","suburb","municipality"].includes(d.type),h=d.address&&(d.address.city||d.address.town||d.address.village||d.address.hamlet||d.address.municipality);return u||h}).sort((d,u)=>{const h={city:1,town:2,municipality:3,suburb:4,village:5,hamlet:6},m=d.type||"other",f=u.type||"other";return(h[m]||99)-(h[f]||99)}).map(d=>{var x;const u=d.address.country||"",h=((x=d.address.country_code)==null?void 0:x.toUpperCase())||"",m=d.address.state||d.address.county||"",f=d.address.city||d.address.town||d.address.village||d.address.hamlet||d.address.municipality||d.name,g=f,w=e!=="en"?gF(f,e):f;return{id:`nominatim-${d.place_id}`,name:w||f,country:u,countryCode:h,region:m,latitude:parseFloat(d.lat),longitude:parseFloat(d.lon),localizedName:g!==w?g:void 0,displayName:d.display_name,label:`${f}, ${u}`,value:f}});return Ga.set(r,l),l}catch(r){k.error("Error searching cities with Nominatim:",r),na++,k.info(`Falling back to local city data after API error (failure count: ${na})`);const i=await ib(t,e,n);return Ga.set(cacheKey,i),i}},yF=SL(IS,500),Oc=(t=8)=>MS()?hF(t):vF.slice(0,t),vF=[{id:"nyc",name:"New York",country:"United States",countryCode:"US",region:"New York",latitude:40.7128,longitude:-74.006},{id:"london",name:"London",country:"United Kingdom",countryCode:"GB",region:"England",latitude:51.5074,longitude:-.1278},{id:"paris",name:"Paris",country:"France",countryCode:"FR",region:"Île-de-France",latitude:48.8566,longitude:2.3522},{id:"tokyo",name:"Tokyo",country:"Japan",countryCode:"JP",region:"Tokyo",latitude:35.6762,longitude:139.6503},{id:"sydney",name:"Sydney",country:"Australia",countryCode:"AU",region:"New South Wales",latitude:-33.8688,longitude:151.2093},{id:"berlin",name:"Berlin",country:"Germany",countryCode:"DE",region:"Berlin",latitude:52.52,longitude:13.405},{id:"singapore",name:"Singapore",country:"Singapore",countryCode:"SG",region:"Singapore",latitude:1.3521,longitude:103.8198},{id:"dubai",name:"Dubai",country:"United Arab Emirates",countryCode:"AE",region:"Dubai",latitude:25.2048,longitude:55.2708}];let Js={cities:[]};try{Rn(()=>import("./cities-BEpYJWGb.js"),[]).then(t=>{Js=t.default}).catch(t=>{k.error("Error loading cities data:",t),Js={cities:[]}})}catch(t){k.error("Error importing cities data:",t),Js={cities:[]}}const uc=new Map;function ga({value:t,onSelect:e,label:n,placeholder:r="Search for a city...",required:i=!1,onBlur:a,className:o="",defaultLanguage:c="en",language:l,showLanguageIndicator:d=!0,errorMessage:u,disabled:h=!1,initialSuggestions:m,noOptionsMessage:f="No locations found",loadingMessage:g="Searching locations...",storageKey:w="userCity",fieldName:x="location",showRecentSearches:v=!0,maxRecentSearches:b=10}){const{user:p}=Ft(),[j,N]=y.useState(""),[S,_]=y.useState(null),[E,P]=y.useState(null),[C,I]=y.useState([]),[A,R]=y.useState(!1),[F,H]=y.useState(!1),[K,O]=y.useState(c),[M,D]=y.useState({}),[V,Y]=y.useState(!1),[U,Q]=y.useState(0),[ie,fe]=y.useState(!0),[ye,De]=y.useState([]),[z,$]=y.useState(!1),[ee,de]=y.useState(""),[oe,J]=y.useState(!1),[_e,be]=y.useState(!1),ut=y.useRef(null),$t=50;y.useEffect(()=>{if(l){O(l);return}try{const ue=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();O(ue),k.info(`Detected user language: ${ue}`)}catch(B){k.error("Error detecting user language:",B),O(c)}},[l,c]),y.useEffect(()=>{const B=()=>{J(!1),k.info("Device is online, using Nominatim API")},ue=()=>{J(!0),k.info("Device is offline, using local city data")};return J(!navigator.onLine),window.addEventListener("online",B),window.addEventListener("offline",ue),()=>{window.removeEventListener("online",B),window.removeEventListener("offline",ue)}},[]),y.useEffect(()=>{try{const B=localStorage.getItem("recentLocationSearches");B&&I(JSON.parse(B).slice(0,b));const ue=localStorage.getItem("savedLocations");ue&&D(JSON.parse(ue))}catch(B){k.error("Error loading saved data:",B)}},[b]),y.useEffect(()=>{try{const B=`${w}_${x}`,ue=localStorage.getItem(B);if(ue&&!t){const ke=JSON.parse(ue),dn=`${ke.name}${ke.country?`, ${ke.country}`:""}`;e({name:dn,location:ke}),_(ke),k.info(`Loaded saved location for ${x} from localStorage:`,ke)}}catch(B){k.error(`Error loading saved location for ${x}:`,B)}},[w,x,e,t]),y.useEffect(()=>{if(t&&!S){const B=t.split(",")[0].trim(),ke=[...m||[],...C].find(dn=>dn.name.toLowerCase()===B.toLowerCase());ke&&_(ke)}},[t,S,C,m]);const jt=B=>{try{I(ue=>{const ke=ue.filter(Hn=>Hn.id!==B.id),dn=[B,...ke].slice(0,b);return localStorage.setItem("recentLocationSearches",JSON.stringify(dn)),dn})}catch(ue){k.error("Error saving recent search:",ue)}},Et=B=>{Tl(B),be(!1)},Fe=()=>{I([]),localStorage.removeItem("recentLocationSearches")},wr=async B=>{try{const ue=`${w}_${x}`;localStorage.setItem(ue,JSON.stringify(B));const ke={...M,[x]:B};if(localStorage.setItem("savedLocations",JSON.stringify(ke)),D(ke),k.info(`Saved location for ${x} to localStorage:`,B),p!=null&&p.id){const{data:dn,error:Hn}=await supabase.from("profiles").select("bio").eq("id",p.id).single();if(Hn){k.error("Error fetching profile for location update:",Hn);return}const Ps=`${B.name}${B.country?`, ${B.country}`:""}`,Ru={...dn.bio||{},[x]:Ps},{error:Pl}=await supabase.from("profiles").update({bio:Ru}).eq("id",p.id);if(Pl){k.error("Error updating profile with location:",Pl);return}k.info(`Saved location for ${x} to profile bio:`,Ps)}}catch(ue){k.error(`Error saving location preference for ${x}:`,ue)}},cn=async()=>{if(!(!ee||z||!ie))try{$(!0);const B=U+1,ke=(await IS(ee,K,$t)).filter(Hn=>!ye.some(Ps=>Ps.id===Hn.id));ke.length>0?(De(Hn=>[...Hn,...ke]),Q(B),fe(ke.length===$t)):fe(!1);const dn=`${ee.toLowerCase().trim()}-${K}`;uc.set(dn,[...ye,...ke])}catch(B){k.error("Error loading more results:",B),fe(!1)}finally{$(!1)}},_l=y.useCallback(async B=>{if(!B||B.length<2)return Oc(8);B!==ee&&(Q(0),fe(!0),De([]),de(B));const ue=`${B.toLowerCase().trim()}-${K}`;if(uc.has(ue))return uc.get(ue)||[];Y(!0),P(null);try{const ke=await yF(B,K);return uc.set(ue,ke),De(ke),fe(ke.length>=$t),ke}catch(ke){return k.error("Error searching cities:",ke),P("Failed to search cities"),Oc(8)}finally{Y(!1)}},[K,ee,U]),El=B=>{const ue=B.localizedName||B.name,ke=B.localizedName&&B.localizedName!==B.name&&K!=="en";return s.jsxs("div",{className:"flex items-start",children:[s.jsx(We,{className:"h-4 w-4 text-gray-400 mt-0.5 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[ue,ke&&s.jsxs("span",{className:"ml-1 text-gray-500",children:["(",B.name,")"]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:[B.region,B.country].filter(Boolean).join(", ")})]})]})},Tl=B=>{if(B){const ue=`${B.name}${B.country?`, ${B.country}`:""}`;_(B),jt(B),wr(B),P(null),e({name:ue,location:B}),console.log("Selected location:",B)}else{_(null),e({name:"",location:null});try{const ue=`${w}_${x}`;localStorage.removeItem(ue);const ke={...M};delete ke[x],localStorage.setItem("savedLocations",JSON.stringify(ke)),D(ke)}catch(ue){k.error(`Error removing saved location for ${x}:`,ue)}}},Tu=B=>(N(B),B.length>=2||B===""?P(null):B.length>0&&B.length<2&&P("Please enter at least 2 characters to search"),B),Pu=B=>{const ue=B.target;ue.scrollHeight-ue.scrollTop-ue.clientHeight<50&&ie&&!z&&ee&&cn()},Au={control:(B,ue)=>({...B,minHeight:"44px",borderRadius:"0.5rem",borderColor:ue.isFocused?"#6366F1":u||E?"#EF4444":"#D1D5DB",boxShadow:ue.isFocused?"0 0 0 1px #6366F1":u||E?"0 0 0 1px #EF4444":"none","&:hover":{borderColor:ue.isFocused?"#6366F1":u||E?"#EF4444":"#9CA3AF"},backgroundColor:h?"#F9FAFB":"#FFFFFF",cursor:h?"not-allowed":"text"}),input:B=>({...B,margin:"0px",padding:"0px"}),valueContainer:B=>({...B,padding:"8px 12px"}),placeholder:B=>({...B,color:"#9CA3AF",fontSize:"14px"}),singleValue:B=>({...B,color:"#111827",fontSize:"14px",fontWeight:"500"}),option:(B,ue)=>({...B,backgroundColor:ue.isSelected?"#6366F1":ue.isFocused?"#F3F4F6":"#FFFFFF",color:ue.isSelected?"#FFFFFF":"#111827",cursor:"pointer",padding:"12px 16px",fontSize:"14px","&:active":{backgroundColor:"#E5E7EB"}}),menu:B=>({...B,zIndex:50,borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #E5E7EB",marginTop:"4px"}),menuList:B=>({...B,maxHeight:"320px",padding:"8px 0"}),noOptionsMessage:B=>({...B,color:"#6B7280",padding:"16px",textAlign:"center"}),loadingMessage:B=>({...B,color:"#6B7280",padding:"16px",textAlign:"center"}),indicatorSeparator:()=>({display:"none"})},Du={DropdownIndicator:()=>s.jsx("div",{className:"px-3",children:s.jsx(We,{className:"h-5 w-5 text-gray-400"})}),LoadingIndicator:()=>s.jsx("div",{className:"px-3",children:s.jsx(md,{className:"h-5 w-5 text-gray-400 animate-spin"})}),ClearIndicator:B=>s.jsx("div",{className:"px-3 cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:B.clearValue,children:s.jsx(Se,{className:"h-5 w-5"})}),NoOptionsMessage:({children:B})=>s.jsx("div",{className:"p-4 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(We,{className:"h-8 w-8 text-gray-300"}),s.jsx("div",{children:j.length<2?"Type at least 2 characters to search":B||f})]})}),MenuList:B=>s.jsxs("div",{onScroll:Pu,className:"max-h-[320px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[B.children,z&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx(md,{className:"h-5 w-5 text-gray-400 animate-spin mx-auto"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Loading more results..."})]}),ie&&!z&&ee&&s.jsx("div",{className:"text-center py-3 text-xs text-gray-500 border-t border-gray-100",children:"Scroll for more results"})]})},Mu=[...C,...(m||Oc(8)).filter(B=>!C.some(ue=>ue.id===B.id))].slice(0,8);return s.jsxs("div",{className:`relative ${o}`,children:[n&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(NL,{ref:ut,cacheOptions:!0,defaultOptions:Mu,loadOptions:_l,onChange:Tl,onInputChange:Tu,formatOptionLabel:El,placeholder:r,isClearable:!0,isSearchable:!0,isDisabled:h,className:"react-select-container",classNamePrefix:"react-select",styles:Au,components:Du,onMenuOpen:()=>R(!0),onMenuClose:()=>R(!1),onFocus:()=>{H(!0),v&&C.length>0&&be(!0)},onBlur:()=>{H(!1),setTimeout(()=>{be(!1)},200),a&&a()},noOptionsMessage:({inputValue:B})=>B&&B.length<2?"Type at least 2 characters to search":f,loadingMessage:()=>g,value:S}),v&&C.length>0&&!A&&s.jsx("button",{type:"button",onClick:()=>be(!_e),className:"absolute right-10 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full",title:"Recent searches",children:s.jsx(qe,{className:"h-4 w-4"})})]}),s.jsx(ne,{children:_e&&v&&C.length>0&&!A&&s.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-40 mt-1 w-full bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-500 px-2",children:"Recent Searches"}),s.jsx("button",{type:"button",onClick:Fe,className:"text-xs text-gray-500 hover:text-gray-700 px-2",children:"Clear"})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:C.map((B,ue)=>s.jsxs("button",{type:"button",onClick:()=>Et(B),className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md flex items-center",children:[s.jsx(qe,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name}),s.jsx("div",{className:"text-xs text-gray-500",children:[B.region,B.country].filter(Boolean).join(", ")})]})]},`${B.id}-${ue}`))})]})})}),d&&K!=="en"&&s.jsxs("div",{className:"mt-1 flex items-center text-xs text-gray-500",children:[s.jsx(lt,{className:"h-3 w-3 mr-1 flex-shrink-0"}),s.jsxs("span",{children:["Searching in ",new Intl.DisplayNames([K],{type:"language"}).of(K)||K]})]}),oe&&s.jsxs("div",{className:"mt-1 flex items-center text-xs text-amber-600",children:[s.jsx(gt,{className:"h-3 w-3 mr-1 flex-shrink-0"}),s.jsx("span",{children:"Offline mode: Using local city database"})]}),s.jsx(ne,{children:(E||u)&&s.jsxs(T.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(gt,{className:"h-4 w-4 mr-1 flex-shrink-0"}),E||u]})})]})}function bF({onChange:t,selectedTiers:e,disabled:n=!1}){const[r,i]=y.useState(!1),a=[{id:1,name:"Inner Circle",description:"Close connections, frequent contact",icon:gl,color:"text-red-600 bg-red-100 border-red-200",activeColor:"text-white bg-gradient-to-r from-red-600 to-red-500 border-red-700",hoverColor:"hover:bg-red-50"},{id:2,name:"Middle Circle",description:"Regular connections, occasional contact",icon:Ze,color:"text-amber-600 bg-amber-100 border-amber-200",activeColor:"text-white bg-gradient-to-r from-amber-600 to-amber-500 border-amber-700",hoverColor:"hover:bg-amber-50"},{id:3,name:"Outer Circle",description:"Acquaintances, infrequent contact",icon:Ea,color:"text-blue-600 bg-blue-100 border-blue-200",activeColor:"text-white bg-gradient-to-r from-blue-600 to-blue-500 border-blue-700",hoverColor:"hover:bg-blue-50"}],o=l=>{e.includes(l)?t(e.filter(d=>d!==l)):t([...e,l])},c=()=>{e.length===a.length?t([]):t(a.map(l=>l.id))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center",children:[s.jsx(Ht,{className:"h-4 w-4 mr-2 text-gray-400"}),"Notify Relationship Circles",s.jsx("button",{type:"button",onClick:()=>i(!r),className:"ml-2 text-gray-400 hover:text-gray-500",children:s.jsx(ag,{className:"h-4 w-4"})})]}),s.jsx("button",{type:"button",onClick:c,disabled:n,className:`text-sm font-medium ${n?"text-gray-400 cursor-not-allowed":"text-indigo-600 hover:text-indigo-700 hover:underline"}`,children:e.length===a.length?"Deselect All":"Select All"})]}),s.jsx(ne,{children:r&&s.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-indigo-50 p-3 rounded-lg text-sm text-indigo-700",children:"When you update your profile information, notifications will be sent to the selected relationship circles. This helps keep your connections informed about your latest changes."})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:a.map(l=>{const d=e.includes(l.id),u=l.icon;return s.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(l.id),disabled:n,className:`flex items-center p-4 rounded-lg border-2 transition-all duration-200 ${d?l.activeColor+" shadow-md":`${l.color} ${l.hoverColor}`} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsx("div",{className:"flex-shrink-0 mr-3",children:s.jsx(u,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1 text-left",children:[d&&s.jsx("span",{className:"absolute top-2 right-2 text-xs bg-white/20 px-1.5 py-0.5 rounded-full",children:"Active"}),s.jsx("p",{className:`font-medium text-sm ${d?"text-white":""}`,children:l.name})]}),s.jsx("div",{className:"flex-shrink-0 ml-2",children:d?s.jsx(Ht,{className:"h-4 w-4"}):s.jsx(no,{className:"h-4 w-4"})})]},l.id)})})]})}function wF({user:t,updatedFields:e,selectedTiers:n,onClose:r}){const i=()=>{const c=[];return n.includes(1)&&c.push("Inner Circle"),n.includes(2)&&c.push("Middle Circle"),n.includes(3)&&c.push("Outer Circle"),c.length===0?"No circles selected":c.length===3?"All circles":c.join(", ")},a=c=>{switch(c){case"firstName":case"lastName":return"Name";case"jobTitle":return"Job Title";case"company":return"Company";case"bio.location":return"Location";case"bio.from":return"Hometown";case"bio.about":return"Bio";case"socialLinks":return"Social Links";case"interests":return"Interests";default:return c.charAt(0).toUpperCase()+c.slice(1).replace(/([A-Z])/g," $1")}},o=c=>{switch(c){case"firstName":case"lastName":return Ct;case"jobTitle":case"company":return $n;case"email":return Gt;case"phone":return $j;case"socialLinks":return It;case"bio.location":case"location":return We;case"bio.about":return xn;case"interests":return Lt;default:return Ht}};return s.jsxs(T.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white border border-gray-200 rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 p-2 rounded-full shadow-sm",children:s.jsx(Ht,{className:"h-5 w-5 text-indigo-600","aria-hidden":"true"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Preview"}),s.jsx("p",{className:"text-xs text-gray-500",children:"How your connections will see updates"})]}),s.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:"Profile Update Notification"})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 p-1 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Se,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"mb-6 bg-indigo-50 p-3 rounded-lg",children:s.jsxs("p",{className:"text-sm text-indigo-700",children:["This notification will be sent to: ",s.jsx("span",{className:"font-medium",children:i()})]})}),s.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[t.profileImage?s.jsx("img",{src:t.profileImage,alt:t.name,className:"h-10 w-10 rounded-full object-cover border border-gray-200"}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-indigo-100 to-purple-100 flex items-center justify-center",children:s.jsx(Ct,{className:"h-5 w-5 text-indigo-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"font-medium text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx($n,{className:"h-3 w-3 mr-1 flex-shrink-0","aria-hidden":"true"}),t.jobTitle,t.company?` at ${t.company}`:""]})]})]}),s.jsxs("p",{className:"text-gray-700 mb-4 bg-indigo-50 p-2 rounded-lg text-sm",children:[s.jsx("span",{className:"font-medium",children:t.name.split(" ")[0]})," has updated their profile information:"]}),s.jsx("div",{className:"space-y-3",children:e.map(c=>{const l=o(c);return s.jsxs(T.div,{className:"flex items-center text-sm bg-white p-2 rounded-lg border border-gray-100",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},children:[s.jsx("div",{className:"p-1.5 bg-indigo-100 rounded-md mr-3",children:s.jsx(l,{className:"h-4 w-4 text-indigo-600"})}),s.jsx("span",{className:"font-medium text-gray-800",children:a(c)}),s.jsx("span",{className:"ml-2 text-gray-500",children:"was updated"}),s.jsx(rt,{className:"h-3 w-3 ml-auto text-green-500"})]},c)})}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsx("span",{children:"Sent via Dislink"}),s.jsx("span",{children:new Date().toLocaleDateString()})]})})]}),s.jsx(ne,{children:n.length===0&&s.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-amber-50 p-3 rounded-lg mb-4 text-sm text-amber-700",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"mr-2 mt-0.5",children:"⚠️"}),s.jsx("div",{children:"No notification circles selected. Please select at least one circle to send notifications to."})]})})}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"You can customize notification settings anytime in your profile settings."})})]})}function jF({user:t,onSave:e,onCancel:n,saving:r}){var I,A,R,F,H,K,O,M,D,V,Y,U,Q,ie,fe,ye,De,z,$,ee,de,oe;const[i,a]=y.useState({firstName:t.firstName||"",lastName:t.lastName||"",name:t.name||"",jobTitle:t.jobTitle||"",company:t.company||"",industry:t.industry||void 0,profileImage:t.profileImage||void 0,coverImage:t.coverImage||void 0,bio:{location:((I=t.bio)==null?void 0:I.location)||"",from:((A=t.bio)==null?void 0:A.from)||"",about:((R=t.bio)==null?void 0:R.about)||""},interests:t.interests||[],socialLinks:t.socialLinks||{},publicProfile:{enabled:((F=t.publicProfile)==null?void 0:F.enabled)??!0,defaultSharedLinks:((H=t.publicProfile)==null?void 0:H.defaultSharedLinks)||{},allowedFields:{email:((O=(K=t.publicProfile)==null?void 0:K.allowedFields)==null?void 0:O.email)??!1,phone:((D=(M=t.publicProfile)==null?void 0:M.allowedFields)==null?void 0:D.phone)??!1,company:((Y=(V=t.publicProfile)==null?void 0:V.allowedFields)==null?void 0:Y.company)??!0,jobTitle:((Q=(U=t.publicProfile)==null?void 0:U.allowedFields)==null?void 0:Q.jobTitle)??!0,bio:((fe=(ie=t.publicProfile)==null?void 0:ie.allowedFields)==null?void 0:fe.bio)??!0,interests:((De=(ye=t.publicProfile)==null?void 0:ye.allowedFields)==null?void 0:De.interests)??!0,location:(($=(z=t.publicProfile)==null?void 0:z.allowedFields)==null?void 0:$.location)??!0}}}),[o,c]=y.useState(null),[l,d]=y.useState(["basic","images","bio","interests","social","privacy","notifications"]),[u,h]=y.useState([1]),[m,f]=y.useState(!1),[g,w]=y.useState([]),[x]=y.useState({firstName:t.firstName||"",lastName:t.lastName||"",jobTitle:t.jobTitle||"",company:t.company||"",bio:{location:((ee=t.bio)==null?void 0:ee.location)||"",from:((de=t.bio)==null?void 0:de.from)||"",about:((oe=t.bio)==null?void 0:oe.about)||""},socialLinks:{...t.socialLinks}}),v=J=>{d(_e=>_e.includes(J)?_e.filter(be=>be!==J):[..._e,J])},b=async J=>{J.preventDefault(),c(null);try{if(!i.firstName.trim())throw new Error("First name is required");if(!i.lastName.trim())throw new Error("Last name is required");const _e=`${i.firstName} ${i.lastName}`.trim(),be=[];(i.firstName!==x.firstName||i.lastName!==x.lastName)&&be.push("firstName"),i.jobTitle!==x.jobTitle&&be.push("jobTitle"),i.company!==x.company&&be.push("company"),i.bio.location!==x.bio.location&&be.push("bio.location"),i.bio.from!==x.bio.from&&be.push("bio.from"),i.bio.about!==x.bio.about&&be.push("bio.about");const ut=Object.keys(x.socialLinks||{}).length,$t=Object.keys(i.socialLinks||{}).length;if(ut!==$t)be.push("socialLinks");else for(const[jt,Et]of Object.entries(i.socialLinks||{}))if(x.socialLinks[jt]!==Et){be.push("socialLinks");break}if(w(be),be.length>0&&u.length>0){f(!0);return}await e({...i,name:_e})}catch(_e){throw c(_e instanceof Error?_e.message:"Failed to save changes"),_e}},p=async()=>{try{const J=`${i.firstName} ${i.lastName}`.trim();console.log("Sending notifications to tiers:",u),console.log("Updated fields:",g),await e({...i,name:J},u),f(!1)}catch(J){throw c(J instanceof Error?J.message:"Failed to save changes"),J}},j=J=>{a({...i,interests:J})},N=J=>{a({...i,bio:{...i.bio,location:J.name}})},S=J=>{a({...i,bio:{...i.bio,from:J.name}})},_=J=>{a({...i,industry:J})},E=J=>{a({...i,publicProfile:{...i.publicProfile,allowedFields:{...i.publicProfile.allowedFields,[J]:!i.publicProfile.allowedFields[J]}}})},P=J=>{a({...i,publicProfile:{...i.publicProfile,defaultSharedLinks:{...i.publicProfile.defaultSharedLinks,[J]:!i.publicProfile.defaultSharedLinks[J]}}})},C=()=>{a({...i,publicProfile:{...i.publicProfile,enabled:!i.publicProfile.enabled}})};return s.jsxs("form",{onSubmit:b,className:"space-y-8",children:[o&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsx("div",{className:"text-sm text-red-700",children:o})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>v("basic"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"})]}),l.includes("basic")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),l.includes("basic")&&s.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"firstName",required:!0,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:i.firstName,onChange:J=>a({...i,firstName:J.target.value})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"lastName",required:!0,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:i.lastName,onChange:J=>a({...i,lastName:J.target.value})})]})]}),s.jsx(T2,{value:i.industry,onChange:_}),s.jsx(P2,{value:i.jobTitle,onChange:J=>a({...i,jobTitle:J}),industry:i.industry,required:!0}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),s.jsx("input",{type:"text",id:"company",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:i.company,onChange:J=>a({...i,company:J.target.value})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>v("images"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(pl,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Images"})]}),l.includes("images")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),l.includes("images")&&s.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Profile Picture ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sv,{currentImage:i.profileImage,onImageChange:J=>a({...i,profileImage:J}),onImageRemove:()=>a({...i,profileImage:void 0}),required:!0}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Face verification is required for profile photos to ensure authenticity."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Cover Image"}),s.jsx(Sv,{currentImage:i.coverImage,onImageChange:J=>a({...i,coverImage:J}),onImageRemove:()=>a({...i,coverImage:void 0}),isCover:!0}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"A cover photo adds personality to your profile and makes it more engaging."})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>v("bio"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bio & Location"})]}),l.includes("bio")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),l.includes("bio")&&s.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsx(ga,{label:"Current Location",value:i.bio.location,onSelect:N,placeholder:"Search your city...",required:!0,storageKey:"profile",fieldName:"location"}),s.jsx(ga,{label:"From",value:i.bio.from,onSelect:S,placeholder:"Where are you from?",storageKey:"profile",fieldName:"from"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700 mb-1",children:"About You"}),s.jsx("textarea",{id:"about",rows:4,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:i.bio.about,onChange:J=>a({...i,bio:{...i.bio,about:J.target.value}}),placeholder:"Tell us about yourself..."}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Brief description for your profile. URLs are hyperlinked automatically."})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>v("interests"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lt,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Interests"})]}),l.includes("interests")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),l.includes("interests")&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsx(NI,{interests:i.interests,onChange:j})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>v("social"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(It,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Social Links"})]}),l.includes("social")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),l.includes("social")&&s.jsxs("div",{className:"p-4 border-t border-gray-200",children:[s.jsx(jI,{links:i.socialLinks,onChange:J=>a({...i,socialLinks:J}),required:!0}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"At least one social platform is required to complete your profile."})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>v("notifications"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ht,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Settings"})]}),l.includes("notifications")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),l.includes("notifications")&&s.jsxs("div",{className:"p-4 border-t border-gray-200",children:[s.jsx(bF,{selectedTiers:u,onChange:h,disabled:r}),s.jsx("div",{className:"mt-4 bg-amber-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-amber-700",children:"When you update your profile information, such as job title, company, or social links, your connections in the selected circles will be notified of these changes."})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>v("privacy"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ea,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Public Profile Settings"})]}),l.includes("privacy")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),l.includes("privacy")&&s.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Public Profile"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Allow others to view your profile without having the app"})]}),s.jsx("button",{type:"button",onClick:C,disabled:r,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${i.publicProfile.enabled?"bg-indigo-600":"bg-gray-200"} ${r?"opacity-50 cursor-not-allowed":""}`,children:s.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${i.publicProfile.enabled?"translate-x-5":"translate-x-0"}`})})]}),i.publicProfile.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Profile Information"}),s.jsx("div",{className:"space-y-4",children:[{key:"email",label:"Email Address"},{key:"phone",label:"Phone Number"},{key:"company",label:"Company"},{key:"jobTitle",label:"Job Title"},{key:"bio",label:"Bio"},{key:"interests",label:"Interests"},{key:"location",label:"Location"}].map(({key:J,label:_e})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:_e}),s.jsx("button",{type:"button",onClick:()=>E(J),disabled:r,className:`p-2 rounded-full transition-colors ${i.publicProfile.allowedFields[J]?"text-indigo-600 hover:bg-indigo-50":"text-gray-400 hover:bg-gray-100"} ${r?"opacity-50 cursor-not-allowed":""}`,children:i.publicProfile.allowedFields[J]?s.jsx(ea,{className:"h-5 w-5"}):s.jsx(hd,{className:"h-5 w-5"})})]},J))})]}),Object.keys(i.socialLinks).length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Social Links"}),s.jsx("div",{className:"space-y-4",children:Object.keys(i.socialLinks).map(J=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700 capitalize",children:J}),s.jsx("button",{type:"button",onClick:()=>P(J),disabled:r,className:`p-2 rounded-full transition-colors ${i.publicProfile.defaultSharedLinks[J]?"text-indigo-600 hover:bg-indigo-50":"text-gray-400 hover:bg-gray-100"} ${r?"opacity-50 cursor-not-allowed":""}`,children:i.publicProfile.defaultSharedLinks[J]?s.jsx(ea,{className:"h-5 w-5"}):s.jsx(hd,{className:"h-5 w-5"})})]},J))})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[s.jsxs("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[s.jsx(Se,{className:"h-4 w-4 inline mr-1.5"}),"Cancel"]}),s.jsx("button",{type:"submit",disabled:r,className:"inline-flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vj,{className:"h-4 w-4 mr-1.5"}),"Save Changes"]})})]}),s.jsx(ne,{children:m&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsx(wF,{user:t,updatedFields:g,selectedTiers:u,onClose:()=>f(!1)}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,disabled:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 disabled:opacity-50",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save & Send Notifications"})]})]})})})]})}class we{constructor(e,n,r,i,a){this._legacyCanvasSize=we.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),r&&typeof r=="object"?this._onDecode=n:(console.warn(r||i||a?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=n),n=typeof r=="object"?r:{},this._onDecodeError=n.onDecodeError||(typeof r=="function"?r:this._onDecodeError),this._calculateScanRegion=n.calculateScanRegion||(typeof i=="function"?i:this._calculateScanRegion),this._preferredCamera=n.preferredCamera||a||this._preferredCamera,this._legacyCanvasSize=typeof r=="number"?r:typeof i=="number"?i:this._legacyCanvasSize,this._maxScansPerSecond=n.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let o=!1;if(e.hidden&&(e.hidden=!1,o=!0),document.body.contains(e)||(document.body.appendChild(e),o=!0),r=e.parentElement,n.highlightScanRegion||n.highlightCodeOutline){if(i=!!n.overlay,this.$overlay=n.overlay||document.createElement("div"),a=this.$overlay.style,a.position="absolute",a.display="none",a.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&n.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}r.insertBefore(this.$overlay,this.$video.nextSibling)}n.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let c=window.getComputedStyle(e);c.display==="none"&&(e.style.setProperty("display","block","important"),o=!0),c.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=we.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await we.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="videoinput"),r;try{e&&(await n()).every(i=>!i.label)&&(r=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await n()).map((i,a)=>({id:i.deviceId,label:i.label||(a===0?"Default Camera":`Camera ${a+1}`)}))}finally{r&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),we._stopVideoStream(r))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),we._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),we._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:n}=await this._getCameraStream();!this._active||this._paused?we._stopVideoStream(e):(this._setVideoMirror(n),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let n=()=>{this.$video.srcObject instanceof MediaStream&&(we._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(n(),!0):(await new Promise(r=>setTimeout(r,300)),this._paused?(n(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,n,r,i,a=!1,o=!1){let c,l=!1;n&&("scanRegion"in n||"qrEngine"in n||"canvas"in n||"disallowCanvasResizing"in n||"alsoTryWithoutScanRegion"in n||"returnDetailedScanResult"in n)?(c=n.scanRegion,r=n.qrEngine,i=n.canvas,a=n.disallowCanvasResizing||!1,o=n.alsoTryWithoutScanRegion||!1,l=!0):console.warn(n||r||i||a||o?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),n=!!r;try{let d,u;[r,d]=await Promise.all([r||we.createQrEngine(),we._loadImage(e)]),[i,u]=we._drawToCanvas(d,c,i,a);let h;if(r instanceof Worker){let m=r;n||we._postWorkerMessageSync(m,"inversionMode","both"),h=await new Promise((f,g)=>{let w,x,v,b=-1;x=j=>{j.data.id===b&&(m.removeEventListener("message",x),m.removeEventListener("error",v),clearTimeout(w),j.data.data!==null?f({data:j.data.data,cornerPoints:we._convertPoints(j.data.cornerPoints,c)}):g(we.NO_QR_CODE_FOUND))},v=j=>{m.removeEventListener("message",x),m.removeEventListener("error",v),clearTimeout(w),g("Scanner error: "+(j?j.message||j:"Unknown Error"))},m.addEventListener("message",x),m.addEventListener("error",v),w=setTimeout(()=>v("timeout"),1e4);let p=u.getImageData(0,0,i.width,i.height);b=we._postWorkerMessageSync(m,"decode",p,[p.data.buffer])})}else h=await Promise.race([new Promise((m,f)=>window.setTimeout(()=>f("Scanner error: timeout"),1e4)),(async()=>{try{var[m]=await r.detect(i);if(!m)throw we.NO_QR_CODE_FOUND;return{data:m.rawValue,cornerPoints:we._convertPoints(m.cornerPoints,c)}}catch(f){if(m=f.message||f,/not implemented|service unavailable/.test(m))return we._disableBarcodeDetector=!0,we.scanImage(e,{scanRegion:c,canvas:i,disallowCanvasResizing:a,alsoTryWithoutScanRegion:o});throw`Scanner error: ${m}`}})()]);return l?h:h.data}catch(d){if(!c||!o)throw d;let u=await we.scanImage(e,{qrEngine:r,canvas:i,disallowCanvasResizing:a});return l?u:u.data}finally{n||we._postWorkerMessage(r,"close")}}setGrayscaleWeights(e,n,r,i=!0){we._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:n,blue:r,useIntegerApproximation:i})}setInversionMode(e){we._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>Rn(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(r=>r.createWorker()),!(!we._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let n=navigator.userAgentData;return n&&n.brands.some(({brand:r})=>/Chromium/i.test(r))&&/mac ?OS/i.test(n.platform)&&await n.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:r,platformVersion:i})=>/arm/i.test(r||"arm")&&13<=parseInt(i||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let n=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-n)/2),y:Math.round((e.videoHeight-n)/2),width:n,height:n,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,n=e.videoWidth,r=e.videoHeight,i=e.offsetWidth,a=e.offsetHeight,o=e.offsetLeft,c=e.offsetTop,l=window.getComputedStyle(e),d=l.objectFit,u=n/r,h=i/a;switch(d){case"none":var m=n,f=r;break;case"fill":m=i,f=a;break;default:(d==="cover"?u>h:u<h)?(f=a,m=f*u):(m=i,f=m/u),d==="scale-down"&&(m=Math.min(m,n),f=Math.min(f,r))}var[g,w]=l.objectPosition.split(" ").map((v,b)=>{const p=parseFloat(v);return v.endsWith("%")?(b?a-f:i-m)*p/100:p});l=this._scanRegion.width||n,h=this._scanRegion.height||r,d=this._scanRegion.x||0;var x=this._scanRegion.y||0;u=this.$overlay.style,u.width=`${l/n*m}px`,u.height=`${h/r*f}px`,u.top=`${c+w+x/r*f}px`,r=/scaleX\(-1\)/.test(e.style.transform),u.left=`${o+(r?i-g-m:g)+(r?n-d-l:d)/n*m}px`,u.transform=e.style.transform}})}static _convertPoints(e,n){if(!n)return e;let r=n.x||0,i=n.y||0,a=n.width&&n.downScaledWidth?n.width/n.downScaledWidth:1;n=n.height&&n.downScaledHeight?n.height/n.downScaledHeight:1;for(let o of e)o.x=o.x*a+r,o.y=o.y*n+i;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,n=1e3/this._maxScansPerSecond;e<n&&await new Promise(i=>setTimeout(i,n-e)),this._lastScanTimestamp=Date.now();try{var r=await we.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(i){if(!this._active)return;this._onDecodeError(i)}!we._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=we.createQrEngine()),r?(this._onDecode?this._onDecode(r):this._legacyOnDecode&&this._legacyOnDecode(r.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(({x:i,y:a})=>`${i},${a}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==we.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",n=[{width:{min:1024}},{width:{min:768}},{}],r=n.map(i=>Object.assign({},i,{[e]:{exact:this._preferredCamera}}));for(let i of[...r,...n])try{let a=await navigator.mediaDevices.getUserMedia({video:i,audio:!1}),o=this._getFacingMode(a)||(i.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:a,facingMode:o}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let n of e.getTracks())n.stop(),e.removeTrack(n)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,n,r,i=!1){r=r||document.createElement("canvas");let a=n&&n.x?n.x:0,o=n&&n.y?n.y:0,c=n&&n.width?n.width:e.videoWidth||e.width,l=n&&n.height?n.height:e.videoHeight||e.height;return i||(i=n&&n.downScaledWidth?n.downScaledWidth:c,n=n&&n.downScaledHeight?n.downScaledHeight:l,r.width!==i&&(r.width=i),r.height!==n&&(r.height=n)),n=r.getContext("2d",{alpha:!1}),n.imageSmoothingEnabled=!1,n.drawImage(e,a,o,c,l,0,0,r.width,r.height),[r,n]}static async _loadImage(e){if(e instanceof Image)return await we._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let n=new Image;n.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await we._awaitImageLoad(n),n}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(n.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((n,r)=>{let i=a=>{e.removeEventListener("load",i),e.removeEventListener("error",i),a instanceof ErrorEvent?r("Image load error"):n()};e.addEventListener("load",i),e.addEventListener("error",i)})}static async _postWorkerMessage(e,n,r,i){return we._postWorkerMessageSync(await e,n,r,i)}static _postWorkerMessageSync(e,n,r,i){if(!(e instanceof Worker))return-1;let a=we._workerMessageId++;return e.postMessage({id:a,type:n,data:r},i),a}}we.DEFAULT_CANVAS_SIZE=400;we.NO_QR_CODE_FOUND="No QR code found";we._disableBarcodeDetector=!1;we._workerMessageId=0;function NF({show:t,onClose:e,name:n,title:r,company:i,image:a,time:o}){const c=Ke();y.useEffect(()=>{if(t){const d=setTimeout(()=>{e()},5e3);return()=>clearTimeout(d)}},[t,e]);const l=()=>{c("/app/contacts"),e()};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-20 right-4 max-w-sm w-full bg-white rounded-lg shadow-lg border border-gray-200 z-50 cursor-pointer",onClick:l,children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:a?s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:a,alt:n}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-medium text-indigo-600",children:n.charAt(0)})})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["New connection with ",n]}),(r||i)&&s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[s.jsx($n,{className:"flex-shrink-0 mr-1.5 h-4 w-4"}),s.jsxs("p",{children:[r,i&&` at ${i}`]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:o})]}),s.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:s.jsxs("button",{className:"rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none",onClick:d=>{d.stopPropagation(),e()},children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx(Se,{className:"h-5 w-5"})]})})]})})})})}function RS({isOpen:t,onClose:e,onConfirm:n,user:r,location:i}){const[a,o]=y.useState(!1),[c,l]=y.useState(!1),[d,u]=y.useState(null),h=async()=>{try{l(!0),u(null),await k2({userId:r.id,name:r.name,email:r.email,jobTitle:r.jobTitle,company:r.company,profileImage:r.profileImage,location:i?{latitude:i.latitude,longitude:i.longitude,name:i.name,timestamp:new Date}:void 0}),o(!0),n()}catch(m){console.error("Error creating connection:",m),u(m instanceof Error?m.message:"Failed to create connection")}finally{l(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"mb-4",children:r.profileImage?s.jsx("img",{src:r.profileImage,alt:r.name,className:"w-24 h-24 rounded-full mx-auto object-cover"}):s.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-100 flex items-center justify-center mx-auto",children:s.jsx(gl,{className:"h-12 w-12 text-indigo-600"})})}),s.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Connect with ",r.name,"?"]}),(r.jobTitle||r.company)&&s.jsxs("div",{className:"mt-2 flex items-center justify-center text-gray-500",children:[s.jsx($n,{className:"h-4 w-4 mr-1.5"}),s.jsxs("p",{className:"text-sm",children:[r.jobTitle,r.company&&` at ${r.company}`]})]}),i&&s.jsxs("div",{className:"mt-2 flex items-center justify-center text-gray-500",children:[s.jsx(We,{className:"h-4 w-4 mr-1.5"}),s.jsxs("p",{className:"text-sm",children:["Current location: ",i.name||"GPS Location"]})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-center text-gray-500",children:[s.jsx(wt,{className:"h-4 w-4 mr-1.5"}),s.jsx("p",{className:"text-sm",children:new Date().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})})]}),d&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600",children:d})})]}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex space-x-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:c,children:"Cancel"}),s.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",disabled:c,children:c?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connecting..."]}):"Connect"})]})]})})}),s.jsx(NF,{show:a,onClose:()=>o(!1),name:r.name,title:r.jobTitle,company:r.company,image:r.profileImage,time:"just now"})]})}function SF({isOpen:t,onClose:e,onScan:n}){const r=y.useRef(null),[i,a]=y.useState(null),[o,c]=y.useState(!1),[l,d]=y.useState(!1),[u,h]=y.useState(null),[m,f]=y.useState(null),g=y.useRef(null),[w,x]=y.useState(!1),[v,b]=y.useState(!1);y.useEffect(()=>{t?navigator.geolocation.getCurrentPosition(N=>{f({latitude:N.coords.latitude,longitude:N.coords.longitude,name:"Current Location"}),p()},N=>{console.error("Error getting location:",N),p()},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):(g.current&&(g.current.stop(),g.current.destroy(),g.current=null),x(!1),b(!1))},[t]);const p=()=>{r.current&&navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(()=>{c(!0),a(null);const N=new we(r.current,async S=>{try{x(!1),b(!0);const _=await Wg(S.data);if(!_)throw new Error("Invalid QR code");m&&await NM(_.code,{latitude:m.latitude,longitude:m.longitude}),h(_),d(!0),g.current&&g.current.stop(),n&&n(S.data)}catch(_){console.error("Error processing QR code:",_),a("Invalid QR code"),setTimeout(()=>{x(!0),g.current&&g.current.start()},2e3)}},{highlightScanRegion:!0,highlightCodeOutline:!0});g.current=N,N.start(),x(!0)}).catch(N=>{console.error("Camera error:",N),a("Unable to access camera. Please make sure you have granted camera permissions."),c(!1)})},j=async()=>{if(u)try{d(!1),e()}catch(N){console.error("Error creating connection request:",N),a("Failed to create connection request")}};return s.jsxs(s.Fragment,{children:[s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/75 flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl overflow-hidden max-w-lg w-full",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scan QR Code"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Point your camera at someone's QR code to connect"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsx("div",{className:"relative aspect-square bg-black",children:o?s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:r,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"w-64 h-64 border-2 border-white/50 rounded-lg",children:[w&&s.jsx("div",{className:"absolute inset-0 border-2 border-indigo-500 rounded-lg animate-pulse"}),v&&s.jsx("div",{className:"absolute inset-0 border-2 border-green-500 rounded-lg"})]})}),m&&s.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-black/50 backdrop-blur-sm p-2 rounded-lg",children:s.jsxs("div",{className:"flex items-center text-white text-sm",children:[s.jsx(Fj,{className:"h-4 w-4 mr-2 text-indigo-400"}),s.jsxs("span",{children:["GPS Location: ",m.latitude.toFixed(6),", ",m.longitude.toFixed(6)]})]})}),i&&s.jsx("div",{className:"absolute top-4 left-4 right-4 bg-red-500/80 backdrop-blur-sm p-2 rounded-lg",children:s.jsx("p",{className:"text-white text-sm",children:i})})]}):s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx(pl,{className:"h-12 w-12 text-white mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm mb-4",children:i||"Requesting camera access..."})]})})}),s.jsx("div",{className:"p-4 bg-gray-50",children:s.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Make sure the QR code is within the frame and well-lit"})})]})})}),u&&s.jsx(RS,{isOpen:l,onClose:()=>{d(!1),e()},onConfirm:j,user:u,location:m})]})}function CF({user:t,onEdit:e}){const n=Ke(),[r,i]=y.useState(!1),[a,o]=y.useState(!1),[c,l]=y.useState(!1),[d,u]=y.useState(null),[h,m]=y.useState(!1),f=async()=>{try{const x=`${window.location.origin}/share/${t.id}`;await navigator.clipboard.writeText(x),m(!0),setTimeout(()=>m(!1),2e3)}catch(x){console.error("Error copying link:",x),i(!0)}},g=async x=>{try{const v=await Wg(x);v?(u(v),l(!0)):console.error("Invalid QR code")}catch(v){console.error("Error scanning QR code:",v)}},w=async()=>{if(d)try{await k2(d),n("/app/contacts")}catch(x){console.error("Error creating connection:",x)}finally{l(!1),u(null)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col space-y-3 sm:hidden",children:[s.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(!0),className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(fr,{className:"h-5 w-5 mr-2"}),"Show QR Code"]}),s.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(!0),className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Zx,{className:"h-5 w-5 mr-2"}),"Scan QR"]}),s.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 rounded-xl shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Go,{className:"h-5 w-5 mr-2"}),"Copy Profile Link",h&&s.jsx("span",{className:"ml-2 text-green-600",children:"(Copied!)"})]}),s.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 rounded-xl shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(af,{className:"h-5 w-5 mr-2"}),"Edit Profile"]})]}),s.jsxs("div",{className:"hidden sm:flex sm:space-x-3",children:[s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(fr,{className:"h-5 w-5 mr-2"}),"Show QR Code"]}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Zx,{className:"h-5 w-5 mr-2"}),"Scan QR"]}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Go,{className:"h-5 w-5 mr-2"}),"Copy Profile Link",h&&s.jsx("span",{className:"ml-2 text-green-600",children:"(Copied!)"})]}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(af,{className:"h-5 w-5 mr-2"}),"Edit Profile"]})]}),s.jsx(Hg,{isOpen:r,onClose:()=>i(!1),user:t}),s.jsx(SF,{isOpen:a,onClose:()=>o(!1),onScan:g}),d&&s.jsx(RS,{isOpen:c,onClose:()=>{l(!1),u(null)},onConfirm:w,user:d})]})}const kF=new Set;let hc=null;function _F(t){hc&&window.clearTimeout(hc),hc=window.setTimeout(()=>{kF.forEach(e=>{try{e(t)}catch(n){k.error("Error in profile listener:",n)}}),hc=null},16)}async function OS(t){var e;k.info("Updating profile",{updates:t});try{const{data:{session:n}}=await L.auth.getSession();if(!n)throw new Error("No active session");const r=n.user.id;if(!r)throw new Error("No user ID available");const i=t.firstName||t.lastName?`${t.firstName||""} ${t.lastName||""}`.trim():void 0,{data:a,error:o}=await L.from("profiles").update({first_name:t.firstName,middle_name:t.middleName,last_name:t.lastName,job_title:t.jobTitle,company:t.company,industry:t.industry,profile_image:t.profileImage,cover_image:t.coverImage,bio:t.bio,interests:t.interests,social_links:t.socialLinks,public_profile:t.publicProfile,onboarding_complete:t.onboardingComplete,registration_complete:t.registrationComplete,registration_status:t.registrationStatus,registration_completed_at:(e=t.registrationCompletedAt)==null?void 0:e.toISOString(),updated_at:new Date().toISOString()}).eq("id",r).select().single();if(o)throw o;if(!a)throw new Error("No data returned from update");const c={id:a.id,email:a.email,firstName:a.first_name,lastName:a.last_name,middleName:a.middle_name,name:`${a.first_name} ${a.middle_name?a.middle_name+" ":""}${a.last_name}`.trim(),jobTitle:a.job_title,company:a.company,industry:a.industry,profileImage:a.profile_image,coverImage:a.cover_image,bio:a.bio,interests:a.interests,socialLinks:a.social_links||{},onboardingComplete:a.onboarding_complete,registrationComplete:a.registration_complete,registrationStatus:a.registration_status,registrationCompletedAt:a.registration_completed_at?new Date(a.registration_completed_at):void 0,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at),twoFactorEnabled:!1,publicProfile:a.public_profile||{enabled:!0,defaultSharedLinks:{},allowedFields:{email:!1,phone:!1,company:!0,jobTitle:!0,bio:!0,interests:!0,location:!0}}};return _F(c),k.info("Profile update complete"),c}catch(n){throw k.error("Error updating profile:",n),n}}async function lb(){try{const{data:{session:t}}=await L.auth.getSession();if(!t)return k.info("No active session found when getting current profile"),null;const{data:e,error:n}=await L.from("profiles").select("*").eq("id",t.user.id).single();if(n)throw k.error("Error fetching profile:",n),n;if(!e)return k.warn("No profile found for user:",t.user.id),null;const r={id:e.id,email:e.email,firstName:e.first_name||"",lastName:e.last_name||"",middleName:e.middle_name,name:`${e.first_name||""} ${e.middle_name?e.middle_name+" ":""}${e.last_name||""}`.trim(),jobTitle:e.job_title,company:e.company,industry:e.industry,profileImage:e.profile_image,coverImage:e.cover_image,bio:e.bio||{},interests:e.interests||[],socialLinks:e.social_links||{},onboardingComplete:e.onboarding_complete||!1,registrationComplete:e.registration_complete||!1,registrationStatus:e.registration_status||"pending",registrationCompletedAt:e.registration_completed_at?new Date(e.registration_completed_at):void 0,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),twoFactorEnabled:!1,publicProfile:e.public_profile||{enabled:!0,defaultSharedLinks:{},allowedFields:{email:!1,phone:!1,company:!0,jobTitle:!0,bio:!0,interests:!0,location:!0}}};return k.info("Successfully retrieved current profile"),r}catch(t){return k.error("Error getting current profile:",t),null}}async function EF(t,e,n){try{k.info("Sending tier notifications",{userId:t,updatedFields:e,tiers:n});const i=(await el()).filter(a=>a.tier!==void 0&&n.includes(a.tier));return k.info(`Found ${i.length} contacts in selected tiers`),i.forEach(a=>{k.info(`Sending notification to ${a.name}`,{contactId:a.id,tier:a.tier,updatedFields:e})}),!0}catch(r){return k.error("Error sending tier notifications:",r),!1}}function TF(){const{user:t,refreshUser:e,connectionStatus:n,reconnectSupabase:r}=Ft(),[i,a]=y.useState(!1),[o,c]=y.useState(!1),[l,d]=y.useState(null),[u,h]=y.useState(t),[m,f]=y.useState(!1),[g,w]=y.useState(!0),[x,v]=y.useState(0),[b,p]=y.useState(!1);y.useEffect(()=>{(async()=>{try{w(!0);const{data:{session:_}}=await L.auth.getSession(),E=!!_;if(f(E),E)if(t)h(t);else{const P=await lb();P?h(P):(await e(),h(t))}}catch(_){k.error("Error loading profile data:",_),d("Failed to load profile data. Please try again.")}finally{w(!1)}})()},[t,e]);const j=async(S,_)=>{var E;c(!0),d(null),p(!1);try{const P=await OS(S);if(h(P),await e(),_&&_.length>0){const C=[];(S.firstName||S.lastName)&&C.push("name"),S.jobTitle&&C.push("jobTitle"),S.company&&C.push("company"),(E=S.bio)!=null&&E.location&&C.push("location"),S.socialLinks&&C.push("socialLinks"),C.length>0&&await EF(P.id,C,_)&&(p(!0),k.info("Notifications sent successfully",{tiers:_}))}a(!1)}catch(P){throw k.error("Failed to save profile:",P),d(P instanceof Error?P.message:"Failed to save profile changes"),P}finally{c(!1)}},N=async()=>{v(S=>S+1),d(null),w(!0);try{if(n==="disconnected"&&!await r())throw new Error("Failed to reconnect to Supabase");await e();const S=await lb();if(S)h(S);else if(t)h(t);else throw new Error("Failed to load profile data")}catch(S){k.error("Error retrying profile load:",S),d(S instanceof Error?S.message:"Failed to load profile data")}finally{w(!1)}};return g?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):!u&&!m?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Sign In"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to view your profile."}),s.jsx("a",{href:"/app/login",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign In"})]})}):!u&&l?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[s.jsx(gt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Profile"}),s.jsx("p",{className:"text-red-600 mb-6",children:l}),s.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Retry ",x>0?`(${x})`:""]})]})}):u?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(CF,{user:u,onEdit:()=>a(!0)})}),b&&s.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Your profile has been updated and notifications have been sent to your selected circles."})}),s.jsx("div",{className:"ml-auto pl-3",children:s.jsx("div",{className:"-mx-1.5 -my-1.5",children:s.jsxs("button",{onClick:()=>p(!1),className:"inline-flex bg-green-50 rounded-md p-1.5 text-green-500 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[s.jsx("span",{className:"sr-only",children:"Dismiss"}),s.jsx(X,{className:"h-5 w-5"})]})})})]}),l&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-600",children:l})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:i?s.jsx("div",{className:"p-6",children:s.jsx(jF,{user:u,onSave:j,onCancel:()=>a(!1),saving:o})}):s.jsx(pI,{user:u,onEdit:()=>a(!0)})})]})}):s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your profile information."}),s.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Refresh Profile"]})]})})}function PF(){const t=Ke(),{user:e,loading:n,connectionStatus:r}=Ft();Br();const[i,a]=y.useState(""),[o,c]=y.useState(""),[l,d]=y.useState(!1),[u,h]=y.useState(null),[m,f]=y.useState(!1),[g,w]=y.useState(""),[x,v]=y.useState(!1),[b,p]=y.useState(!1);y.useEffect(()=>{if(!n&&e){const _=localStorage.getItem("redirectUrl");_?(k.info("🔄 User already authenticated with stored redirect URL, redirecting to:",_),localStorage.removeItem("redirectUrl"),t(_)):k.info("🔄 User already authenticated but no redirect URL - staying on login page")}},[e,n,t]),y.useEffect(()=>{if(b&&!l){const _=setTimeout(()=>{if(b){k.info("🔄 Fallback redirect triggered after timeout");const E=localStorage.getItem("redirectUrl");E?(localStorage.removeItem("redirectUrl"),t(E)):t("/app"),p(!1)}},3e3);return()=>clearTimeout(_)}},[b,l,t]),y.useEffect(()=>{e&&b&&(k.info("✅ User authenticated, clearing pending redirect"),p(!1))},[e,b]);const j=async _=>{var C,I;_.preventDefault(),h(null),p(!1);const E={timestamp:new Date().toISOString(),environment:{mode:"production",prod:!0,dev:!1},supabase:{urlPresent:!0,keyPresent:!0,urlLength:40,keyLength:208},auth:{connectionStatus:r,userPresent:!!e,loading:n},browser:{userAgent:navigator.userAgent,url:window.location.href,localStorage:typeof localStorage<"u"}};if(console.log("🔍 PRODUCTION LOGIN DEBUG:",E),k.info("🔍 Production login attempt starting",E),!i.trim()||!o.trim()){h("Please enter both email and password");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){h("Please enter a valid email address");return}d(!0);try{if(r==="disconnected"){console.error("🔍 CONNECTION ERROR: Status is disconnected"),h("You appear to be offline. Please check your internet connection and try again."),d(!1);return}k.info("🔐 Starting login process for:",i),console.log("🔍 About to call login function with:",{email:i.substring(0,5)+"..."});const A=await JD({email:i,password:o});if(console.log("🔍 Login function result:",{success:A.success,hasUser:!!A.user,hasSession:!!A.session,error:(C=A.error)==null?void 0:C.message,errorCode:(I=A.error)==null?void 0:I.code,requiresOnboarding:A.requiresOnboarding,emailConfirmationRequired:A.emailConfirmationRequired,emailNotFound:A.emailNotFound}),A.success&&A.session){k.info("✅ Login successful with session - navigating immediately"),console.log("🔍 SUCCESS: Login completed, preparing navigation");const R=localStorage.getItem("redirectUrl");R?(localStorage.removeItem("redirectUrl"),k.info("🔄 Redirecting to stored URL:",R),t(R)):A.requiresOnboarding?(k.info("🔄 Redirecting to onboarding"),t("/app/onboarding")):(k.info("🔄 Redirecting to app home"),t("/app")),p(!1);return}else if(A.success)k.info("✅ Login successful but no session yet - waiting for AuthProvider"),p(!0);else if(A.emailConfirmationRequired)k.info("📧 Email confirmation required"),v(!0),localStorage.setItem("confirmEmail",i);else if(A.emailNotFound)k.warn("📧 Email not found during login attempt"),h(s.jsxs("div",{className:"text-sm",children:["No account found with this email."," ",s.jsx(Pe,{to:"/app/register",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Create an account"})," ","or try a different email."]}));else if(A.error){k.error("❌ Login error:",A.error),k.info("🔄 Trying direct Supabase sign-in as backup...");const{data:R,error:F}=await L.auth.signInWithPassword({email:i.trim().toLowerCase(),password:o});if(F)k.error("❌ Direct login also failed:",F.message),h(A.error.message);else if(R.session){k.info("✅ Direct login successful with session");const H=localStorage.getItem("redirectUrl");H?(localStorage.removeItem("redirectUrl"),t(H)):t("/app");return}}}catch(A){k.error("❌ Critical login error:",A);try{k.info("🔄 Final fallback: direct Supabase sign-in...");const{data:R,error:F}=await L.auth.signInWithPassword({email:i.trim().toLowerCase(),password:o});if(F)k.error("❌ All login methods failed:",F.message),F.message.includes("Failed to fetch")||F.message.includes("Network Error")?h("Network error. Please check your internet connection and try again."):F.message.includes("Invalid login credentials")?h("Invalid email or password"):h(F.message);else if(R.session){k.info("✅ Final fallback login successful with session");const H=localStorage.getItem("redirectUrl");H?(localStorage.removeItem("redirectUrl"),t(H)):t("/app");return}}catch(R){k.error("❌ All login attempts failed:",R),h("An unexpected error occurred. Please try again.")}}finally{d(!1)}},N=async()=>{d(!0),h(null);try{k.info("Resending confirmation email to:",i);const{error:_}=await L.auth.resend({type:"signup",email:i,options:{emailRedirectTo:`${window.location.origin}/confirmed`}});if(_)throw _.message.includes("Failed to fetch")?new Error("Network error. Please check your internet connection and try again."):_;h("Confirmation email resent. Please check your inbox.")}catch(_){console.error("Error resending confirmation:",_),h("Failed to resend confirmation email. Please try again.")}finally{d(!1)}},S=async _=>{if(_.preventDefault(),!g.trim()||!g.includes("@")){h("Please enter a valid email address");return}d(!0),h(null);try{const{error:E}=await L.auth.resetPasswordForEmail(g,{redirectTo:`${window.location.origin}/app/reset-password`});if(E)throw E.message.includes("Failed to fetch")?new Error("Network error. Please check your internet connection and try again."):E;f(!0)}catch(E){console.error("Password reset error:",E),h("If an account exists with this email, you will receive password reset instructions.")}finally{d(!1)}};return x?s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 mb-6",children:s.jsx(Gt,{className:"h-8 w-8 text-indigo-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Verify Your Email"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent a verification link to ",s.jsx("strong",{children:i}),". Please check your email and click the link to activate your account."]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:N,disabled:l,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resending..."]}):"Resend Verification Email"}),s.jsxs("button",{onClick:()=>{v(!1),a(""),c("")},className:"w-full text-center text-sm text-gray-500 hover:text-gray-700",children:[s.jsx(st,{className:"h-4 w-4 inline mr-1"}),"Back to Login"]})]})]})}):m?s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 mb-6",children:s.jsx(Gt,{className:"h-8 w-8 text-indigo-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["If an account exists with ",s.jsx("strong",{children:g}),", you will receive password reset instructions shortly."]}),s.jsx("button",{onClick:()=>{f(!1),w("")},className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Back to Login"})]})}):s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-cosmic-neutral py-12 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-cosmic-secondary/10 rounded-full flex items-center justify-center mb-6 cosmic-glow",children:s.jsx(dt,{className:"h-10 w-10 text-cosmic-secondary"})}),s.jsx("h1",{className:"text-3xl font-bold text-cosmic-primary",children:"Welcome back! 👋"}),s.jsx("p",{className:"mt-2 text-xl text-cosmic-primary/70",children:"Great to see you again"})]}),s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl border border-cosmic-secondary/10",children:[r==="disconnected"&&s.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(gt,{className:"h-5 w-5 text-red-400 mr-2"}),s.jsx("div",{className:"text-sm text-red-700",children:"You appear to be offline. Please check your internet connection and try again."})]})}),!n&&e&&s.jsx("div",{className:"mb-4 rounded-md bg-blue-50 p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(wn,{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"text-sm text-blue-700",children:[s.jsxs("p",{className:"font-medium",children:["You're already signed in as ",e.firstName," ",e.lastName]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>t(e.onboardingComplete?"/app":"/app/onboarding"),className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200",children:[s.jsx(Ot,{className:"h-3 w-3 mr-1"}),e.onboardingComplete?"Go to App":"Complete Onboarding"]}),s.jsx("button",{onClick:async()=>{await L.auth.signOut(),window.location.reload()},className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Sign Out"})]})]})})]})}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[u&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(gt,{className:"h-5 w-5 text-red-400 mr-2"}),s.jsx("div",{className:"text-sm text-red-700",children:u})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",id:"email",required:!0,disabled:!n&&!!e,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100 disabled:text-gray-500",value:i,onChange:_=>{a(_.target.value),w(_.target.value)},placeholder:"you@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",id:"password",required:!0,disabled:!n&&!!e,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100 disabled:text-gray-500",value:o,onChange:_=>c(_.target.value),placeholder:"Enter your password"})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"text-sm",children:s.jsx("button",{type:"button",disabled:!n&&!!e,onClick:S,className:"font-medium text-cosmic-secondary hover:text-cosmic-accent disabled:text-gray-400 disabled:cursor-not-allowed",children:"Forgot your password?"})})}),s.jsx("button",{type:"submit",disabled:l||r==="disconnected"||!n&&!!e,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-xl shadow-sm text-base font-medium text-white cosmic-gradient hover:cosmic-glow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cosmic-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:!n&&e?"Already Signed In":l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"}),!1]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-cosmic-primary/70",children:["Don't have an account yet?"," ",s.jsx(Pe,{to:"/app/register",className:"font-medium text-cosmic-secondary hover:text-cosmic-accent",children:"Create one now"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(Pe,{to:"/waitlist",className:"inline-flex items-center text-sm text-cosmic-primary/60 hover:text-cosmic-secondary",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Back to Home"]})})]})]})}/*! js-cookie v3.0.5 | MIT */function mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var AF={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function zf(t,e){function n(i,a,o){if(!(typeof document>"u")){o=mc({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,o[l]!==!0&&(c+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(a,i)+c}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],o={},c=0;c<a.length;c++){var l=a[c].split("="),d=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(d,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,a){n(i,"",mc({},a,{expires:-1}))},withAttributes:function(i){return zf(this.converter,mc({},this.attributes,i))},withConverter:function(i){return zf(mc({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Hh=zf(AF,{path:"/"}),Ae;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ae||(Ae={}));var cb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(cb||(cb={}));const re=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qr=t=>{switch(typeof t){case"undefined":return re.undefined;case"string":return re.string;case"number":return Number.isNaN(t)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(t)?re.array:t===null?re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?re.promise:typeof Map<"u"&&t instanceof Map?re.map:typeof Set<"u"&&t instanceof Set?re.set:typeof Date<"u"&&t instanceof Date?re.date:re.object;default:return re.unknown}},G=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let c=r,l=0;for(;l<o.path.length;){const d=o.path[l];l===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(o))):c[d]=c[d]||{_errors:[]},c=c[d],l++}}};return i(this),r}static assert(e){if(!(e instanceof Vr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vr.create=t=>new Vr(t);const Wf=(t,e)=>{let n;switch(t.code){case G.invalid_type:t.received===re.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case G.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ae.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ae.joinValues(t.keys,", ")}`;break;case G.invalid_union:n="Invalid input";break;case G.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ae.joinValues(t.options)}`;break;case G.invalid_enum_value:n=`Invalid enum value. Expected ${Ae.joinValues(t.options)}, received '${t.received}'`;break;case G.invalid_arguments:n="Invalid function arguments";break;case G.invalid_return_type:n="Invalid function return type";break;case G.invalid_date:n="Invalid date";break;case G.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ae.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case G.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case G.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case G.custom:n="Invalid input";break;case G.invalid_intersection_types:n="Intersection results could not be merged";break;case G.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case G.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ae.assertNever(t)}return{message:n}};let DF=Wf;function MF(){return DF}const IF=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const l=r.filter(d=>!!d).slice().reverse();for(const d of l)c=d(o,{data:e,defaultError:c}).message;return{...i,path:a,message:c}};function Z(t,e){const n=MF(),r=IF({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wf?void 0:Wf].filter(i=>!!i)});t.common.issues.push(r)}class Nn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ge;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return Nn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return ge;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const ge=Object.freeze({status:"aborted"}),oo=t=>({status:"dirty",value:t}),Wn=t=>({status:"valid",value:t}),db=t=>t.status==="aborted",ub=t=>t.status==="dirty",xa=t=>t.status==="valid",Dd=t=>typeof Promise<"u"&&t instanceof Promise;var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class bs{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hb=(t,e)=>{if(xa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vr(t.common.issues);return this._error=n,this._error}}};function je(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,c)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??c.defaultError}:typeof c.data>"u"?{message:l??r??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:l??n??c.defaultError}},description:i}}class Te{get description(){return this._def.description}_getType(e){return Qr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Nn,ctx:{common:e.parent.common,data:e.data,parsedType:Qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Dd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qr(e)},i=this._parseSync({data:e,path:r.path,parent:r});return hb(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qr(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return xa(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>xa(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qr(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Dd(i)?i:Promise.resolve(i));return hb(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),c=()=>a.addIssue({code:G.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new va({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ps.create(this,this._def)}nullable(){return ba.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yr.create(this)}promise(){return Od.create(this,this._def)}or(e){return Id.create([this,e],this._def)}and(e){return Rd.create(this,e,this._def)}transform(e){return new va({...je(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Gf({...je(this._def),innerType:this,defaultValue:n,typeName:xe.ZodDefault})}brand(){return new r$({typeName:xe.ZodBranded,type:this,...je(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Kf({...je(this._def),innerType:this,catchValue:n,typeName:xe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return o0.create(this,e)}readonly(){return Yf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const RF=/^c[^\s-]{8,}$/i,OF=/^[0-9a-z]+$/,LF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,FF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$F=/^[a-z0-9_-]{21}$/i,VF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qh;const WF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,HF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,GF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,KF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,YF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,LS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",QF=new RegExp(`^${LS}$`);function FS(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function JF(t){return new RegExp(`^${FS(t)}$`)}function ZF(t){let e=`${LS}T${FS(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function XF(t,e){return!!((e==="v4"||!e)&&WF.test(t)||(e==="v6"||!e)&&qF.test(t))}function e$(t,e){if(!VF.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function t$(t,e){return!!((e==="v4"||!e)&&HF.test(t)||(e==="v6"||!e)&&GF.test(t))}class ss extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==re.string){const a=this._getOrReturnCtx(e);return Z(a,{code:G.invalid_type,expected:re.string,received:a.parsedType}),ge}const r=new Nn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Z(i,{code:G.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Z(i,{code:G.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,c=e.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(e,i),o?Z(i,{code:G.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Z(i,{code:G.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")BF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"email",code:G.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")qh||(qh=new RegExp(zF,"u")),qh.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"emoji",code:G.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")FF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"uuid",code:G.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")$F.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"nanoid",code:G.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")RF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"cuid",code:G.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")OF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"cuid2",code:G.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")LF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"ulid",code:G.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Z(i,{validation:"url",code:G.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"regex",code:G.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Z(i,{code:G.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Z(i,{code:G.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Z(i,{code:G.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?ZF(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{code:G.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?QF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{code:G.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?JF(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{code:G.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?UF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"duration",code:G.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?XF(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"ip",code:G.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?e$(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"jwt",code:G.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?t$(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"cidr",code:G.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?KF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"base64",code:G.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?YF.test(e.data)||(i=this._getOrReturnCtx(e,i),Z(i,{validation:"base64url",code:G.invalid_string,message:a.message}),r.dirty()):Ae.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:G.invalid_string,...se.errToObj(r)})}_addCheck(e){return new ss({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...se.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...se.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...se.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...se.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...se.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...se.errToObj(n)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new ss({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ss.create=t=>new ss({checks:[],typeName:xe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...je(t)});function n$(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class sl extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==re.number){const a=this._getOrReturnCtx(e);return Z(a,{code:G.invalid_type,expected:re.number,received:a.parsedType}),ge}let r;const i=new Nn;for(const a of this._def.checks)a.kind==="int"?Ae.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:G.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:G.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:G.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?n$(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Z(r,{code:G.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:G.not_finite,message:a.message}),i.dirty()):Ae.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,i){return new sl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new sl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ae.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}sl.create=t=>new sl({checks:[],typeName:xe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...je(t)});class il extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==re.bigint)return this._getInvalidInput(e);let r;const i=new Nn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:G.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:G.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:G.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ae.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Z(n,{code:G.invalid_type,expected:re.bigint,received:n.parsedType}),ge}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,i){return new il({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new il({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}il.create=t=>new il({checks:[],typeName:xe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...je(t)});class Hf extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==re.boolean){const r=this._getOrReturnCtx(e);return Z(r,{code:G.invalid_type,expected:re.boolean,received:r.parsedType}),ge}return Wn(e.data)}}Hf.create=t=>new Hf({typeName:xe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...je(t)});class Md extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==re.date){const a=this._getOrReturnCtx(e);return Z(a,{code:G.invalid_type,expected:re.date,received:a.parsedType}),ge}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Z(a,{code:G.invalid_date}),ge}const r=new Nn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Z(i,{code:G.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Z(i,{code:G.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ae.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Md({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Md.create=t=>new Md({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:xe.ZodDate,...je(t)});class mb extends Te{_parse(e){if(this._getType(e)!==re.symbol){const r=this._getOrReturnCtx(e);return Z(r,{code:G.invalid_type,expected:re.symbol,received:r.parsedType}),ge}return Wn(e.data)}}mb.create=t=>new mb({typeName:xe.ZodSymbol,...je(t)});class fb extends Te{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return Z(r,{code:G.invalid_type,expected:re.undefined,received:r.parsedType}),ge}return Wn(e.data)}}fb.create=t=>new fb({typeName:xe.ZodUndefined,...je(t)});class pb extends Te{_parse(e){if(this._getType(e)!==re.null){const r=this._getOrReturnCtx(e);return Z(r,{code:G.invalid_type,expected:re.null,received:r.parsedType}),ge}return Wn(e.data)}}pb.create=t=>new pb({typeName:xe.ZodNull,...je(t)});class gb extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return Wn(e.data)}}gb.create=t=>new gb({typeName:xe.ZodAny,...je(t)});class xb extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wn(e.data)}}xb.create=t=>new xb({typeName:xe.ZodUnknown,...je(t)});class ws extends Te{_parse(e){const n=this._getOrReturnCtx(e);return Z(n,{code:G.invalid_type,expected:re.never,received:n.parsedType}),ge}}ws.create=t=>new ws({typeName:xe.ZodNever,...je(t)});class yb extends Te{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return Z(r,{code:G.invalid_type,expected:re.void,received:r.parsedType}),ge}return Wn(e.data)}}yb.create=t=>new yb({typeName:xe.ZodVoid,...je(t)});class yr extends Te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==re.array)return Z(n,{code:G.invalid_type,expected:re.array,received:n.parsedType}),ge;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(o||c)&&(Z(n,{code:o?G.too_big:G.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Z(n,{code:G.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Z(n,{code:G.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>i.type._parseAsync(new bs(n,o,n.path,c)))).then(o=>Nn.mergeArray(r,o));const a=[...n.data].map((o,c)=>i.type._parseSync(new bs(n,o,n.path,c)));return Nn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new yr({...this._def,minLength:{value:e,message:se.toString(n)}})}max(e,n){return new yr({...this._def,maxLength:{value:e,message:se.toString(n)}})}length(e,n){return new yr({...this._def,exactLength:{value:e,message:se.toString(n)}})}nonempty(e){return this.min(1,e)}}yr.create=(t,e)=>new yr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...je(e)});function _i(t){if(t instanceof ht){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ps.create(_i(r))}return new ht({...t._def,shape:()=>e})}else return t instanceof yr?new yr({...t._def,type:_i(t.element)}):t instanceof ps?ps.create(_i(t.unwrap())):t instanceof ba?ba.create(_i(t.unwrap())):t instanceof di?di.create(t.items.map(e=>_i(e))):t}class ht extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ae.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==re.object){const d=this._getOrReturnCtx(e);return Z(d,{code:G.invalid_type,expected:re.object,received:d.parsedType}),ge}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof ws&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||c.push(d);const l=[];for(const d of o){const u=a[d],h=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new bs(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ws){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of c)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")c.length>0&&(Z(i,{code:G.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of c){const h=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new bs(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of l){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Nn.mergeObjectSync(r,d)):Nn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new ht({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:se.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ht({...this._def,unknownKeys:"strip"})}passthrough(){return new ht({...this._def,unknownKeys:"passthrough"})}extend(e){return new ht({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ht({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ht({...this._def,catchall:e})}pick(e){const n={};for(const r of Ae.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ht({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ae.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ht({...this._def,shape:()=>n})}deepPartial(){return _i(this)}partial(e){const n={};for(const r of Ae.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ht({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ae.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof ps;)a=a._def.innerType;n[r]=a}return new ht({...this._def,shape:()=>n})}keyof(){return $S(Ae.objectKeys(this.shape))}}ht.create=(t,e)=>new ht({shape:()=>t,unknownKeys:"strip",catchall:ws.create(),typeName:xe.ZodObject,...je(e)});ht.strictCreate=(t,e)=>new ht({shape:()=>t,unknownKeys:"strict",catchall:ws.create(),typeName:xe.ZodObject,...je(e)});ht.lazycreate=(t,e)=>new ht({shape:t,unknownKeys:"strip",catchall:ws.create(),typeName:xe.ZodObject,...je(e)});class Id extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new Vr(c.ctx.common.issues));return Z(n,{code:G.invalid_union,unionErrors:o}),ge}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const l of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(l=>new Vr(l));return Z(n,{code:G.invalid_union,unionErrors:c}),ge}}get options(){return this._def.options}}Id.create=(t,e)=>new Id({options:t,typeName:xe.ZodUnion,...je(e)});function qf(t,e){const n=Qr(t),r=Qr(e);if(t===e)return{valid:!0,data:t};if(n===re.object&&r===re.object){const i=Ae.objectKeys(e),a=Ae.objectKeys(t).filter(c=>i.indexOf(c)!==-1),o={...t,...e};for(const c of a){const l=qf(t[c],e[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(n===re.array&&r===re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],c=e[a],l=qf(o,c);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===re.date&&r===re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Rd extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(db(a)||db(o))return ge;const c=qf(a.value,o.value);return c.valid?((ub(a)||ub(o))&&n.dirty(),{status:n.value,value:c.data}):(Z(r,{code:G.invalid_intersection_types}),ge)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rd.create=(t,e,n)=>new Rd({left:t,right:e,typeName:xe.ZodIntersection,...je(n)});class di extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.array)return Z(r,{code:G.invalid_type,expected:re.array,received:r.parsedType}),ge;if(r.data.length<this._def.items.length)return Z(r,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&r.data.length>this._def.items.length&&(Z(r,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new bs(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Nn.mergeArray(n,o)):Nn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new di({...this._def,rest:e})}}di.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new di({items:t,typeName:xe.ZodTuple,rest:null,...je(e)})};class vb extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.map)return Z(r,{code:G.invalid_type,expected:re.map,received:r.parsedType}),ge;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([c,l],d)=>({key:i._parse(new bs(r,c,r.path,[d,"key"])),value:a._parse(new bs(r,l,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const d=await l.key,u=await l.value;if(d.status==="aborted"||u.status==="aborted")return ge;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),c.set(d.value,u.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const l of o){const d=l.key,u=l.value;if(d.status==="aborted"||u.status==="aborted")return ge;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),c.set(d.value,u.value)}return{status:n.value,value:c}}}}vb.create=(t,e,n)=>new vb({valueType:e,keyType:t,typeName:xe.ZodMap,...je(n)});class al extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.set)return Z(r,{code:G.invalid_type,expected:re.set,received:r.parsedType}),ge;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Z(r,{code:G.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Z(r,{code:G.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(l){const d=new Set;for(const u of l){if(u.status==="aborted")return ge;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((l,d)=>a._parse(new bs(r,l,r.path,d)));return r.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(e,n){return new al({...this._def,minSize:{value:e,message:se.toString(n)}})}max(e,n){return new al({...this._def,maxSize:{value:e,message:se.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}al.create=(t,e)=>new al({valueType:t,minSize:null,maxSize:null,typeName:xe.ZodSet,...je(e)});class bb extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}bb.create=(t,e)=>new bb({getter:t,typeName:xe.ZodLazy,...je(e)});class wb extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Z(n,{received:n.data,code:G.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}wb.create=(t,e)=>new wb({value:t,typeName:xe.ZodLiteral,...je(e)});function $S(t,e){return new ya({values:t,typeName:xe.ZodEnum,...je(e)})}class ya extends Te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Z(n,{expected:Ae.joinValues(r),received:n.parsedType,code:G.invalid_type}),ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Z(n,{received:n.data,code:G.invalid_enum_value,options:r}),ge}return Wn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ya.create(e,{...this._def,...n})}exclude(e,n=this._def){return ya.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ya.create=$S;class jb extends Te{_parse(e){const n=Ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==re.string&&r.parsedType!==re.number){const i=Ae.objectValues(n);return Z(r,{expected:Ae.joinValues(i),received:r.parsedType,code:G.invalid_type}),ge}if(this._cache||(this._cache=new Set(Ae.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ae.objectValues(n);return Z(r,{received:r.data,code:G.invalid_enum_value,options:i}),ge}return Wn(e.data)}get enum(){return this._def.values}}jb.create=(t,e)=>new jb({values:t,typeName:xe.ZodNativeEnum,...je(e)});class Od extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.promise&&n.common.async===!1)return Z(n,{code:G.invalid_type,expected:re.promise,received:n.parsedType}),ge;const r=n.parsedType===re.promise?n.data:Promise.resolve(n.data);return Wn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Od.create=(t,e)=>new Od({type:t,typeName:xe.ZodPromise,...je(e)});class va extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Z(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return ge;const l=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return l.status==="aborted"?ge:l.status==="dirty"||n.value==="dirty"?oo(l.value):l});{if(n.value==="aborted")return ge;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?ge:c.status==="dirty"||n.value==="dirty"?oo(c.value):c}}if(i.type==="refinement"){const o=c=>{const l=i.refinement(c,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?ge:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?ge:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!xa(o))return ge;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>xa(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:n.value,value:c})):ge);Ae.assertNever(i)}}va.create=(t,e,n)=>new va({schema:t,typeName:xe.ZodEffects,effect:e,...je(n)});va.createWithPreprocess=(t,e,n)=>new va({schema:e,effect:{type:"preprocess",transform:t},typeName:xe.ZodEffects,...je(n)});class ps extends Te{_parse(e){return this._getType(e)===re.undefined?Wn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ps.create=(t,e)=>new ps({innerType:t,typeName:xe.ZodOptional,...je(e)});class ba extends Te{_parse(e){return this._getType(e)===re.null?Wn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ba.create=(t,e)=>new ba({innerType:t,typeName:xe.ZodNullable,...je(e)});class Gf extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Gf.create=(t,e)=>new Gf({innerType:t,typeName:xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...je(e)});class Kf extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Dd(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Vr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Kf.create=(t,e)=>new Kf({innerType:t,typeName:xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...je(e)});class Nb extends Te{_parse(e){if(this._getType(e)!==re.nan){const r=this._getOrReturnCtx(e);return Z(r,{code:G.invalid_type,expected:re.nan,received:r.parsedType}),ge}return{status:"valid",value:e.data}}}Nb.create=t=>new Nb({typeName:xe.ZodNaN,...je(t)});class r$ extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class o0 extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ge:a.status==="dirty"?(n.dirty(),oo(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ge:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new o0({in:e,out:n,typeName:xe.ZodPipeline})}}class Yf extends Te{_parse(e){const n=this._def.innerType._parse(e),r=i=>(xa(i)&&(i.value=Object.freeze(i.value)),i);return Dd(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Yf.create=(t,e)=>new Yf({innerType:t,typeName:xe.ZodReadonly,...je(e)});var xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xe||(xe={}));const Ka=ss.create,s$=Hf.create;ws.create;yr.create;const Gh=ht.create;Id.create;Rd.create;di.create;const i$=ya.create;Od.create;ps.create;ba.create;const a$=Gh({NODE_ENV:i$(["development","production","test"]).default("production"),IN_DEVELOPMENT:s$().default(!1),ACCESS_PASSWORD:Ka().default("ITHINKWEMET2025"),TEST_CREDENTIALS:Gh({DISLINK_USER:Ka().default("DISLINK_USER_2024"),TEST_USER:Ka().default("TEST_USER_1_2025")}),SUPABASE:Gh({URL:Ka().default(""),ANON_KEY:Ka().default("")})}),pn=a$.parse({NODE_ENV:"production",IN_DEVELOPMENT:!1,ACCESS_PASSWORD:"ITHINKWEMET2025",TEST_CREDENTIALS:{DISLINK_USER:"DISLINK_USER_2024",TEST_USER:"TEST_USER_1_2025"},SUPABASE:{URL:"https://bbonxxvifycwpoeaxsor.supabase.co",ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJib254eHZpZnljd3BvZWF4c29yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0Mjg5NDUsImV4cCI6MjA3MDAwNDk0NX0.rUuAcPIHVCfpAMEU2ADyb0F4Q3_eL0mkEyhBcbu0O70"}}),Sb=t=>t?t===pn.TEST_CREDENTIALS.DISLINK_USER||t===pn.TEST_CREDENTIALS.TEST_USER:!1,Cb=t=>t?t===pn.ACCESS_PASSWORD:!1;pn.ACCESS_PASSWORD,Object.values(pn.TEST_CREDENTIALS);function o$(){return!pn.SUPABASE.URL||!pn.SUPABASE.ANON_KEY?(console.error("Missing required Supabase environment variables"),!1):pn.NODE_ENV==="production"&&!pn.ACCESS_PASSWORD?(console.error("Production access password not configured"),!1):!0}o$();const Ws=class Ws{constructor(){Tt(this,"currentChannel",null)}static getInstance(){return Ws.instance||(Ws.instance=new Ws),Ws.instance}initializeChannel(e){return Sb(e)?(this.currentChannel="testing",k.info("Initialized testing channel")):Cb(e)?(this.currentChannel="production",k.info("Initialized production channel")):(this.currentChannel=null,k.debug("No channel initialized - user not authenticated")),this.currentChannel}getCurrentChannel(){return this.currentChannel}isTestingChannel(){return this.currentChannel==="testing"}isProductionChannel(){return this.currentChannel==="production"}resetChannel(){this.currentChannel=null,k.info("Channel reset")}getChannelConfig(){if(!this.currentChannel)throw new Error("No channel initialized");return pn.channels[this.currentChannel]}validateChannelAccess(e){return Sb(e)?e===pn.TEST_CREDENTIALS.DISLINK_USER||e===pn.TEST_CREDENTIALS.TEST_USER:Cb(e)?e===pn.ACCESS_PASSWORD:!1}};Tt(Ws,"instance");let Qf=Ws;const Ei=Qf.getInstance(),Hs=class Hs{constructor(){Tt(this,"testingData",new Map)}static getInstance(){return Hs.instance||(Hs.instance=new Hs),Hs.instance}storeData(e,n){try{Ei.isTestingChannel()?(this.testingData.set(e,n),k.debug("Stored testing data:",{key:e})):(localStorage.setItem(e,JSON.stringify(n)),k.debug("Stored production data:",{key:e}))}catch(r){throw k.error("Error storing data:",r),r}}getData(e){try{if(Ei.isTestingChannel())return this.testingData.get(e);{const n=localStorage.getItem(e);return n?JSON.parse(n):null}}catch(n){throw k.error("Error retrieving data:",n),n}}clearData(e){try{Ei.isTestingChannel()?(this.testingData.delete(e),k.debug("Cleared testing data:",{key:e})):(localStorage.removeItem(e),k.debug("Cleared production data:",{key:e}))}catch(n){throw k.error("Error clearing data:",n),n}}clearAllData(){try{Ei.isTestingChannel()?(this.testingData.clear(),k.info("Cleared all testing data")):(localStorage.clear(),k.info("Cleared all production data"))}catch(e){throw k.error("Error clearing all data:",e),e}}resetTestingData(){Ei.isTestingChannel()&&(this.testingData.clear(),k.info("Reset testing data"))}};Tt(Hs,"instance");let Jf=Hs;const l$=Jf.getInstance(),qs=class qs{constructor(){Tt(this,"MAX_LOGIN_ATTEMPTS",5);Tt(this,"LOCKOUT_DURATION",15*60*1e3);Tt(this,"SESSION_DURATION",24*60*60*1e3);setInterval(()=>this.checkSessionExpiry(),6e4)}static getInstance(){return qs.instance||(qs.instance=new qs),qs.instance}storeProductionSession(e){try{const n=Date.now()+this.SESSION_DURATION;localStorage.setItem("sb-token",e),localStorage.setItem("session_expires_at",n.toString()),this.resetLoginAttempts(),Hh.set("session_active","true",{expires:1,secure:!0,sameSite:"strict"}),k.info("Production session stored successfully")}catch(n){throw k.error("Error storing production session:",{error:n}),n}}storeTestingSession(e){try{localStorage.setItem("auth_token",e),this.resetLoginAttempts(),k.info("Testing session stored successfully")}catch(n){throw k.error("Error storing testing session:",{error:n}),n}}hasSession(){try{const e=localStorage.getItem("sb-token"),n=Hh.get("session_active"),r=localStorage.getItem("session_expires_at");return!e||!n?!1:r&&Date.now()>=parseInt(r)?(this.clearSession(),!1):!0}catch(e){return k.error("Error checking session:",{error:e}),!1}}clearSession(){try{localStorage.removeItem("sb-token"),localStorage.removeItem("auth_token"),localStorage.removeItem("session_expires_at"),localStorage.removeItem("loginAttempts"),localStorage.removeItem("loginLockoutUntil"),localStorage.removeItem("redirectUrl"),Hh.remove("session_active"),l$.clearAllData(),Ei.resetChannel(),k.info("Session cleared successfully")}catch(e){throw k.error("Error clearing session:",{error:e}),e}}recordFailedAttempt(){try{const e=Number(localStorage.getItem("loginAttempts")||"0")+1;if(localStorage.setItem("loginAttempts",e.toString()),e>=this.MAX_LOGIN_ATTEMPTS){const r=Date.now()+this.LOCKOUT_DURATION;throw localStorage.setItem("loginLockoutUntil",r.toString()),new Error("Account is temporarily locked. Please try again later.")}const n=this.MAX_LOGIN_ATTEMPTS-e;throw new Error(`Invalid credentials. ${n} attempts remaining.`)}catch(e){throw e instanceof Error?(k.error("Error recording failed attempt:",{message:e.message}),e):(k.error("Error recording failed attempt:",{error:e}),new Error("Failed to record login attempt"))}}resetLoginAttempts(){try{localStorage.removeItem("loginAttempts"),localStorage.removeItem("loginLockoutUntil"),k.info("Login attempts reset")}catch(e){throw k.error("Error resetting login attempts:",{error:e}),e}}isLockedOut(){try{const e=localStorage.getItem("loginLockoutUntil");if(!e)return!1;const n=Date.now(),r=parseInt(e);if(n<r){const i=Math.ceil((r-n)/6e4);throw new Error(`Account is locked. Please try again in ${i} minutes.`)}return this.resetLoginAttempts(),!1}catch(e){if(e instanceof Error)throw e;return k.error("Error checking lockout status:",{error:e}),!1}}storeRedirectUrl(e){!e.startsWith("/app/login")&&!e.startsWith("/app/register")&&localStorage.setItem("redirectUrl",e)}getRedirectUrl(){const e=localStorage.getItem("redirectUrl");return localStorage.removeItem("redirectUrl"),e}getRemainingAttempts(){const e=Number(localStorage.getItem("loginAttempts")||"0");return Math.max(0,this.MAX_LOGIN_ATTEMPTS-e)}checkSessionExpiry(){try{const e=localStorage.getItem("session_expires_at");e&&Date.now()>=parseInt(e)&&(this.clearSession(),k.info("Session expired"),window.location.href="/app/login")}catch(e){k.error("Error checking session expiry:",{error:e})}}isAccessVerified(){return!0}};Tt(qs,"instance");let Zf=qs;const c$=Zf.getInstance();async function fc(t,e){try{const n=`scan_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=h$(),i={userAgent:navigator.userAgent,platform:navigator.platform||"unknown",isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};let a=e;if(e)try{const d=await m$(e.latitude,e.longitude);a={...e,address:d.address,city:d.city,country:d.country}}catch(d){k.warn("Geocoding failed:",d)}const o={scanId:n,code:t,scannedAt:new Date,location:a,deviceInfo:i,referrer:document.referrer||void 0,sessionId:r},{error:c}=await L.from("qr_scan_tracking").insert({scan_id:n,code:t,scanned_at:o.scannedAt.toISOString(),location:a,device_info:i,referrer:o.referrer,session_id:r});c&&k.error("Failed to store scan tracking:",c);const{error:l}=await L.from("connection_codes").update({last_scanned_at:o.scannedAt.toISOString(),scan_count:L.sql`scan_count + 1`,last_scan_location:a}).eq("code",t);return l&&k.error("Failed to update connection code scan data:",l),k.info("QR scan tracked successfully:",{scanId:n,code:t,location:a}),o}catch(n){throw k.error("Error tracking QR scan:",n),n}}async function d$(t,e,n){var r;try{const i=`inv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a=`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o=new Date;o.setDate(o.getDate()+7);const{data:c,error:l}=await L.from("profiles").select("first_name, last_name, job_title, company, profile_image").eq("id",e).single();if(l)throw l;const d={invitationId:i,recipientEmail:t,senderUserId:e,connectionCode:a,scanData:n,emailSentAt:new Date,expiresAt:o,status:"sent"},{error:u}=await L.from("email_invitations").insert({invitation_id:i,recipient_email:t,sender_user_id:e,connection_code:a,scan_data:n,email_sent_at:d.emailSentAt.toISOString(),expires_at:o.toISOString(),status:"sent"});if(u)throw u;const h=`${c.first_name} ${c.last_name}`.trim(),m=c.job_title?` (${c.job_title}${c.company?` at ${c.company}`:""})`:"",f=`🤝 ${h} wants to connect with you on Dislink`,g=`${window.location.origin}/app/register?invitation=${i}&code=${a}`,w=`
Hi there! 👋

${h}${m} scanned your QR code and would like to connect with you on Dislink!

📍 Meeting Details:
• Scanned on: ${n.scannedAt.toLocaleDateString()} at ${n.scannedAt.toLocaleTimeString()}
${n.location?`• Location: ${n.location.address||`${n.location.latitude}, ${n.location.longitude}`}`:""}
${(r=n.location)!=null&&r.city?`• City: ${n.location.city}`:""}

🚀 Get Started:
Click the link below to create your Dislink account and automatically connect with ${h}:

${g}

✨ What happens next:
1. Create your profile in under 2 minutes
2. Your connection with ${h} will be automatically established
3. Start building meaningful relationships with context and follow-ups

This invitation expires on ${o.toLocaleDateString()}.

---
Dislink - Building Meaningful Connections
${window.location.origin}
    `.trim();return await f$(t,f,w),k.info("Email invitation sent successfully:",{invitationId:i,recipientEmail:t,senderUserId:e}),d}catch(i){throw k.error("Error sending email invitation:",i),i}}async function kb(t,e,n,r="qr_scan"){try{const i=`mem_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a={id:i,fromUserId:t,toUserId:e,firstMeetingData:{scanTimestamp:n.scannedAt,location:n.location,method:r,deviceInfo:n.deviceInfo},connectionStatus:"pending",createdAt:new Date,updatedAt:new Date},{error:o}=await L.from("connection_memories").insert({id:i,from_user_id:t,to_user_id:e,first_meeting_data:a.firstMeetingData,connection_status:"pending",created_at:a.createdAt.toISOString(),updated_at:a.updatedAt.toISOString()});if(o)throw o;return k.info("Connection memory created:",{memoryId:i,fromUserId:t,toUserId:e}),a}catch(i){throw k.error("Error creating connection memory:",i),i}}async function u$(t,e){try{const{data:n,error:r}=await L.from("email_invitations").select("*").eq("invitation_id",t).single();if(r)throw r;if(!n)throw new Error("Invitation not found");await L.from("email_invitations").update({status:"registered",registered_user_id:e,registration_completed_at:new Date().toISOString()}).eq("invitation_id",t);const{data:i,error:a}=await L.from("connection_memories").select("*").eq("from_user_id",n.sender_user_id).eq("connection_status","pending").order("created_at",{ascending:!1}).limit(1);!a&&i&&i.length>0&&await L.from("connection_memories").update({to_user_id:e,connection_status:"connected",registration_completed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",i[0].id),await VS(n.sender_user_id,e,{firstMeetingData:n.scan_data,connectionMethod:"email_invitation",invitationId:t}),k.info("Connection memory updated on registration:",{invitationId:t,newUserId:e})}catch(n){throw k.error("Error updating connection memory on registration:",n),n}}async function VS(t,e,n){var r,i,a,o;try{const{error:c}=await L.from("connection_requests").insert({user_id:e,requester_id:t,status:"accepted",metadata:{...n,autoAccepted:!0,reason:"QR code scan connection"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(c)throw c;const l=[{user_id:t,contact_user_id:e,tier:"professional",first_met_at:((r=n.firstMeetingData)==null?void 0:r.scanTimestamp)||new Date().toISOString(),first_met_location:(i=n.firstMeetingData)==null?void 0:i.location,connection_method:n.connectionMethod||"qr_scan",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{user_id:e,contact_user_id:t,tier:"professional",first_met_at:((a=n.firstMeetingData)==null?void 0:a.scanTimestamp)||new Date().toISOString(),first_met_location:(o=n.firstMeetingData)==null?void 0:o.location,connection_method:n.connectionMethod||"qr_scan",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],{error:d}=await L.from("contacts").insert(l);if(d)throw d;k.info("User connection created successfully:",{fromUserId:t,toUserId:e,metadata:n})}catch(c){throw k.error("Error creating user connection:",c),c}}function h$(){let t=sessionStorage.getItem("dislink_session_id");return t||(t=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("dislink_session_id",t)),t}async function m$(t,e){try{const n=await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${t}+${e}&key=demo&limit=1&no_annotations=1`);if(!n.ok)throw new Error("Geocoding request failed");const r=await n.json();if(r.results&&r.results.length>0){const i=r.results[0];return{address:i.formatted,city:i.components.city||i.components.town||i.components.village,country:i.components.country}}throw new Error("No geocoding results")}catch(n){return k.warn("Reverse geocoding failed:",n),{address:`${t}, ${e}`,city:void 0,country:void 0}}}async function f$(t,e,n){return console.log("📧 Email would be sent:"),console.log("To:",t),console.log("Subject:",e),console.log("Body:",n),new Promise(r=>{setTimeout(()=>{k.info("Email sent successfully (simulated)",{to:t,subject:e}),r()},1e3)})}async function US(t,e){try{const{data:n,error:r}=await L.from("email_invitations").select("*").eq("invitation_id",t).eq("connection_code",e).eq("status","sent").single();return r||!n?(k.info("Invalid or expired invitation:",{invitationId:t,connectionCode:e}),null):new Date>new Date(n.expires_at)?(k.info("Invitation expired:",{invitationId:t,expiresAt:n.expires_at}),null):{invitationId:n.invitation_id,recipientEmail:n.recipient_email,senderUserId:n.sender_user_id,connectionCode:n.connection_code,scanData:n.scan_data,emailSentAt:new Date(n.email_sent_at),expiresAt:new Date(n.expires_at),status:n.status}}catch(n){return k.error("Error validating invitation code:",n),null}}function p$(){const t=Ke(),{refreshUser:e,connectionStatus:n}=Ft(),[r,i]=y.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[a,o]=y.useState(!1),[c,l]=y.useState(null),[d,u]=y.useState(!1),[h,m]=y.useState(0),[f,g]=y.useState(null),[w,x]=y.useState(null),[v,b]=y.useState(!1);y.useEffect(()=>{c$.hasSession()&&t("/app");const N=new URLSearchParams(window.location.search),S=N.get("invitation"),_=N.get("code"),E=N.get("from")==="qr_scan",P=N.get("connect");if(N.get("scan_id"),S&&_&&US(S,_).then(C=>{C?(x(C),C.recipientEmail&&i(I=>({...I,email:C.recipientEmail})),console.log("Valid invitation found:",C)):l("Invalid or expired invitation link")}).catch(C=>{console.error("Error validating invitation:",C),l("Failed to validate invitation")}),E&&P){const C=localStorage.getItem("qr_registration_data");if(C)try{const I=JSON.parse(C);g(I),console.log("QR connection data loaded:",I)}catch(I){console.error("Error parsing QR registration data:",I)}}},[t]),y.useEffect(()=>{let N;return h>0&&(N=setInterval(()=>{m(S=>Math.max(0,S-1))},1e3)),()=>{N&&clearInterval(N)}},[h]);const p=async N=>{if(N.preventDefault(),l(null),b(!0),h>0){l(`Please wait ${h} seconds before trying again`),b(!1);return}if(!r.firstName.trim()||!r.lastName.trim()){l("Please enter your full name"),b(!1);return}if(!r.email.trim()||!r.email.includes("@")){l("Please enter a valid email address"),b(!1);return}if(r.password.length<8){l("Password must be at least 8 characters long"),b(!1);return}if(r.password!==r.confirmPassword){l("Passwords do not match"),b(!1);return}o(!0);try{console.log("🔍 Checking if user exists before registration");const{data:S}=await L.from("profiles").select("email, id").eq("email",r.email.trim().toLowerCase());if(S&&S.length>0){console.log("🔍 User already exists in profiles table"),l(s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gt,{className:"h-5 w-5 text-yellow-500"}),s.jsx("span",{className:"font-medium",children:"Account Already Exists"})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:"An account with this email address is already registered."}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Pe,{to:"/app/login",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign In Instead"}),s.jsx("button",{onClick:()=>l(null),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Try Different Email"})]})]})),b(!1);return}if(n==="disconnected"){l("You appear to be offline. Please check your internet connection and try again."),o(!1),b(!1);return}localStorage.setItem("confirmEmail",r.email),k.info("Submitting registration form",{email:r.email,firstName:r.firstName,lastName:r.lastName}),await eM({...r,emailRedirectTo:`${window.location.origin}/confirmed`}),k.info("Registration successful, showing verification prompt"),u(!0),(w||f)&&localStorage.setItem("pending_qr_connection",JSON.stringify({invitationData:w,qrConnectionData:f,userEmail:r.email}))}catch(S){console.error("Registration error:",S),S instanceof Error?S.message.includes("already exists")||S.message.includes("already registered")?l(s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gt,{className:"h-5 w-5 text-yellow-500"}),s.jsx("span",{className:"font-medium",children:"Account Already Exists"})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:"An account with this email address is already registered."}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Pe,{to:"/app/login",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign In Instead"}),s.jsx("button",{onClick:()=>l(null),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Try Different Email"})]})]})):S.message.includes("security purposes")||S.message.includes("rate limit")?(m(50),l(s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("span",{children:["Please wait ",h," seconds before trying again"]})]}))):l(S.message):l("Failed to create account. Please try again."),localStorage.removeItem("confirmEmail")}finally{o(!1),b(!1)}},j=async()=>{if(h>0){l(`Please wait ${h} seconds before trying again`);return}o(!0),l(null);try{const N=r.email;if(!N)throw new Error("Email address is missing");k.info("Resending verification email",{email:N});const{error:S}=await L.auth.resend({type:"signup",email:N,options:{emailRedirectTo:`${window.location.origin}/confirmed`}});if(S)throw S.message.includes("rate limit")||S.message.includes("security purposes")?(m(50),new Error("For security purposes, you can only request this after 50 seconds.")):S;l(s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Gt,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"font-medium text-green-700",children:"Email Resent Successfully"})]}),s.jsx("p",{className:"text-gray-600 mb-2",children:"A new verification email has been sent to your inbox."}),s.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ui,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-xs font-medium text-yellow-800",children:"Reminder"})]}),s.jsxs("p",{className:"text-xs text-yellow-700",children:["The verification link will expire in ",s.jsx("strong",{children:"30 minutes"}),"."]})]})]}))}catch(N){console.error("Error resending verification:",N),l(N instanceof Error?N.message:"Failed to resend verification email")}finally{o(!1)}};return d?s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 mb-6",children:s.jsx(Gt,{className:"h-8 w-8 text-indigo-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email! ✨"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent a verification link to ",s.jsx("strong",{children:r.email}),". Click the link to activate your account and start connecting!"]}),s.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ui,{className:"h-5 w-5 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Important"})]}),s.jsxs("p",{className:"text-sm text-yellow-700",children:["The verification link will expire in ",s.jsx("strong",{children:"30 minutes"}),". Please check your email and click the link as soon as possible."]})]}),c&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600",children:c})}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Can't find the email? Check your spam folder",h===0?s.jsxs(s.Fragment,{children:[" or"," ",s.jsx("button",{onClick:j,className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"click here to resend"})]}):s.jsxs(s.Fragment,{children:[" • Can resend in ",h,"s"]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsx(Pe,{to:"/app/login",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Return to login page"})})]})}):s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(dt,{className:"h-10 w-10 text-indigo-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Hey there! 👋"}),s.jsx("p",{className:"mt-2 text-xl text-gray-600",children:"Let's get you started with Dislink"})]}),s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl",children:[s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[c&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsx("div",{className:"text-sm text-red-700",children:c})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",id:"firstName",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.firstName,onChange:N=>i({...r,firstName:N.target.value}),placeholder:"Your first name"})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"lastName",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.lastName,onChange:N=>i({...r,lastName:N.target.value}),placeholder:"Your last name"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",id:"email",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.email,onChange:N=>i({...r,email:N.target.value}),placeholder:"you@example.com"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",id:"password",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.password,onChange:N=>i({...r,password:N.target.value}),placeholder:"Create a strong password"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",id:"confirmPassword",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.confirmPassword,onChange:N=>i({...r,confirmPassword:N.target.value}),placeholder:"Confirm your password"})]}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Must be at least 8 characters with uppercase, lowercase, number, and special character"})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("p",{className:"text-gray-500",children:["By creating an account, you agree to our"," ",s.jsx(Pe,{to:"/app/terms",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Terms & Conditions"})]})}),s.jsx("button",{type:"submit",disabled:a||h>0||v,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):h>0?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ui,{className:"h-5 w-5 mr-2"}),"Wait ",h,"s"]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Pe,{to:"/app/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(Pe,{to:"/waitlist",className:"inline-flex items-center text-sm text-gray-500 hover:text-indigo-600",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Back to Home"]})})]})]})}function g$(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Test User Terms"}),s.jsxs(Pe,{to:"/app/register",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Back to Registration"]})]})}),s.jsxs("div",{className:"px-6 py-8 prose max-w-none",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"NON-DISCLOSURE AGREEMENT & TERMS OF USE FOR TEST USERS"}),s.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Effective Date: 30/01/2025",s.jsx("br",{}),"App Name: Dislink",s.jsx("br",{}),"Owner: Antonio Tubito",s.jsx("br",{}),"Jurisdiction: EU (Portuguese Law)"]}),s.jsx("h3",{children:"1. Introduction"}),s.jsx("p",{children:'This Non-Disclosure Agreement (NDA) and Terms of Use ("Agreement") governs the participation of test users ("Tester") in accessing and evaluating the Dislink ("App") owned by Antonio Tubito. By requesting and receiving access, the Tester agrees to be bound by this Agreement.'}),s.jsx("h3",{children:"2. Confidentiality & Restrictions"}),s.jsx("p",{children:"The Tester acknowledges that the App is currently in a private testing phase and contains confidential and proprietary information."}),s.jsx("p",{children:"The Tester shall not share, distribute, disclose, or publish any details about the App, including but not limited to:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Features, functionalities, designs, and user experience"}),s.jsx("li",{children:"Business strategy, technical architecture, and development plans"}),s.jsx("li",{children:"Any screenshots, videos, or descriptions of the App"})]}),s.jsx("p",{children:"No public feedback, reviews, or discussions regarding the App are allowed without prior written consent."}),s.jsx("h3",{children:"3. Ownership & Intellectual Property"}),s.jsx("p",{children:"All intellectual property rights, including but not limited to feedback, ideas, and suggestions provided by the Tester, shall be the sole property of Antonio Tubito."}),s.jsx("p",{children:"The Tester shall not copy, reverse-engineer, or attempt to reproduce any element of the App."}),s.jsx("h3",{children:"4. Data Collection & Privacy"}),s.jsx("p",{children:"The App may collect certain user data, including location, behavior, and usage statistics for testing purposes."}),s.jsx("p",{children:"The data will be handled in compliance with GDPR and other applicable data protection laws."}),s.jsx("p",{children:"The Tester consents to this data collection and agrees that all collected data remains the property of Antonio Tubito."}),s.jsx("h3",{children:"5. Testing Period & Access"}),s.jsx("p",{children:"The Tester is granted access solely for evaluation purposes during the private testing phase."}),s.jsx("p",{children:"Access may be revoked at any time without notice."}),s.jsx("h3",{children:"6. Duration of Confidentiality"}),s.jsx("p",{children:"The confidentiality obligations shall remain in effect for a period of 3 years from the end of the testing phase, or until the App is publicly launched, whichever occurs later."}),s.jsx("h3",{children:"7. Legal Consequences for Violations"}),s.jsx("p",{children:"Any breach of this Agreement may result in legal action, including claims for monetary damages and injunctive relief."}),s.jsx("p",{children:"The Tester agrees to indemnify and hold harmless Antonio Tubito from any unauthorized use or disclosure of confidential information."}),s.jsx("h3",{children:"8. Tester Information Requirement"}),s.jsx("p",{children:"To access the App, the Tester must provide:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Full Name"}),s.jsx("li",{children:"Email Address"}),s.jsx("li",{children:"Company Name (if applicable)"})]}),s.jsx("h3",{children:"9. Governing Law & Dispute Resolution"}),s.jsx("p",{children:"This Agreement shall be governed by Portuguese Law under the jurisdiction of Tribunal de Lisboa."}),s.jsx("p",{children:"Any disputes arising from this Agreement shall be resolved through confidential arbitration in Portugal."}),s.jsx("h3",{children:"10. Acceptance of Terms"}),s.jsx("p",{children:"By requesting and receiving access to the App, the Tester acknowledges that they have read, understood, and agreed to this NDA and Terms of Use."})]})]})})})}function x$({contact:t,onSubmit:e,onCancel:n}){const[r,i]=y.useState({name:"",email:"",phone:"",whatsapp:"",company:"",jobTitle:"",meetingContext:"",meetingDate:"",meetingLocation:{name:"",latitude:0,longitude:0,venue:""},tags:[],...t}),[a,o]=y.useState(""),[c,l]=y.useState(!1),[d,u]=y.useState(null),[h,m]=y.useState(!1);async function f(v){if(v.preventDefault(),u(null),!r.name.trim()){u("Full Name is required");return}if(!r.whatsapp.trim()){u("WhatsApp number is required");return}if(!r.meetingDate){u("Meeting date is required");return}if(!r.meetingLocation.name){u("Meeting location is required");return}if(!/^\+?[1-9]\d{1,14}$/.test(r.whatsapp.replace(/\D/g,""))){u("Please enter a valid WhatsApp number (with country code)");return}l(!0);try{r.email&&console.log(`Sending email invitation to ${r.email}`),console.log(`Sending WhatsApp invitation to ${r.whatsapp}`),await e(r)}catch(p){u(p instanceof Error?p.message:"An error occurred")}finally{l(!1)}}function g(v){v.key==="Enter"&&a.trim()&&(v.preventDefault(),r.tags.includes(a.trim())||i({...r,tags:[...r.tags,a.trim()]}),o(""))}function w(v){i({...r,tags:r.tags.filter(b=>b!==v)})}const x=v=>{v.location?i({...r,meetingLocation:{name:v.name,latitude:v.location.latitude,longitude:v.location.longitude,venue:r.meetingLocation.venue}}):i({...r,meetingLocation:{...r.meetingLocation,name:v.name}})};return s.jsxs("form",{onSubmit:f,className:"space-y-8",children:[d&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Se,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),s.jsx("div",{className:"ml-3",children:s.jsx("h3",{className:"text-sm font-medium text-red-800",children:d})})]})}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Required Information"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ct,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"name",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.name,onChange:v=>i({...r,name:v.target.value}),placeholder:"John Doe"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{htmlFor:"whatsapp",className:"block text-sm font-medium text-gray-700 mb-1",children:["WhatsApp Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(xn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"tel",id:"whatsapp",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.whatsapp,onChange:v=>i({...r,whatsapp:v.target.value}),placeholder:"+1234567890"})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Include country code (e.g., +1 for US)"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{htmlFor:"meetingDate",className:"block text-sm font-medium text-gray-700 mb-1",children:["Meeting Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(wt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",id:"meetingDate",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.meetingDate,onChange:v=>i({...r,meetingDate:v.target.value})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Meeting Location ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ga,{label:"",value:r.meetingLocation.name,onSelect:x,placeholder:"Search for a location...",required:!0}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",placeholder:"Venue (optional)",className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.meetingLocation.venue||"",onChange:v=>i({...r,meetingLocation:{...r.meetingLocation,venue:v.target.value}})})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Additional Details"}),s.jsx("button",{type:"button",onClick:()=>m(!h),className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:h?"Show Less":"Show More"})]}),s.jsxs("div",{className:`space-y-6 ${h?"":"hidden"}`,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Gt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",id:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.email||"",onChange:v=>i({...r,email:v.target.value}),placeholder:"john@example.com"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alternative Phone"}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx($j,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"tel",id:"phone",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.phone||"",onChange:v=>i({...r,phone:v.target.value}),placeholder:"+1 (555) 000-0000"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx($n,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"company",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.company||"",onChange:v=>i({...r,company:v.target.value}),placeholder:"Company Name"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"jobTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title"}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"jobTitle",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.jobTitle||"",onChange:v=>i({...r,jobTitle:v.target.value}),placeholder:"Software Engineer"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"meetingContext",className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Context"}),s.jsx("textarea",{id:"meetingContext",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.meetingContext||"",onChange:v=>i({...r,meetingContext:v.target.value}),placeholder:"Notes about how you met or what you discussed..."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(bl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"tags",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:a,onChange:v=>o(v.target.value),onKeyDown:g,placeholder:"Press Enter to add tags"})]}),r.tags.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.tags.map((v,b)=>s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[v,s.jsxs("button",{type:"button",onClick:()=>w(v),className:"ml-1.5 inline-flex items-center justify-center h-4 w-4 rounded-full text-indigo-400 hover:bg-indigo-200 hover:text-indigo-500 focus:outline-none",children:[s.jsx("span",{className:"sr-only",children:"Remove tag"}),s.jsx(Se,{className:"h-3 w-3"})]})]},b))})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:c,className:"inline-flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Contact"})]})]})}const y$=[{id:"all",label:"All Contacts",icon:Ze,color:"text-blue-600",description:"Search across all contact information"},{id:"location",label:"Where We Met",icon:We,color:"text-green-600",description:"Search by meeting locations",getSubcategories:(t=[])=>{const e=new Set,n=new Set,r=new Set;return t.forEach(i=>{var a,o,c;i!=null&&i.meetingLocation&&(i.meetingLocation.venue&&e.add(i.meetingLocation.venue),n.add(i.meetingLocation.name)),((a=i==null?void 0:i.meetingContext)!=null&&a.toLowerCase().includes("conference")||(o=i==null?void 0:i.meetingContext)!=null&&o.toLowerCase().includes("meetup")||(c=i==null?void 0:i.meetingContext)!=null&&c.toLowerCase().includes("event"))&&r.add(i.meetingContext)}),[{id:"venue",label:"Venue",items:Array.from(e)},{id:"city",label:"City",items:Array.from(n)},{id:"event",label:"Event",items:Array.from(r)}]}},{id:"date",label:"When We Met",icon:wt,color:"text-purple-600",description:"Search by meeting dates",getSubcategories:(t=[])=>{const e=new Set,n=new Set;return t.forEach(r=>{if(r!=null&&r.meetingDate){const i=new Date(r.meetingDate);e.add(i.toLocaleString("en-US",{month:"long"})),n.add(i.getFullYear().toString())}}),[{id:"recent",label:"Recent",items:["Today","Yesterday","Last Week","Last Month"]},{id:"month",label:"Month",items:Array.from(e)},{id:"year",label:"Year",items:Array.from(n).sort().reverse()}]}},{id:"profession",label:"Profession",icon:zn,color:"text-indigo-600",description:"Search by work and personal background",getSubcategories:(t=[])=>{const e=new Set,n=new Set,r=new Set;return t.forEach(i=>{var a;i!=null&&i.jobTitle&&e.add(i.jobTitle),i!=null&&i.company&&n.add(i.company),(a=i.tags)==null||a.forEach(o=>{["Technology","Healthcare","Finance","Education","Marketing"].includes(o)&&r.add(o)})}),[{id:"job_title",label:"Job Title",items:Array.from(e)},{id:"company",label:"Company",items:Array.from(n)},{id:"industry",label:"Industry",items:Array.from(r)}]}},{id:"interests",label:"Interests",icon:Lt,color:"text-pink-600",description:"Find contacts by shared interests",getSubcategories:(t=[])=>{const e=new Set,n=new Set,r=new Set;return t.forEach(i=>{var a;(a=i.interests)==null||a.forEach(o=>{["Photography","Travel","Music","Sports","Art"].includes(o)?e.add(o):["AI","Design","Marketing","Development","Business"].includes(o)?n.add(o):["Education","Environment","Health","Social Impact"].includes(o)&&r.add(o)})}),[{id:"hobbies",label:"Hobbies",items:Array.from(e)},{id:"professional",label:"Work & Career",items:Array.from(n)},{id:"causes",label:"Causes",items:Array.from(r)}]}}];function v$({filters:t,availableTags:e,onFilterChange:n,contacts:r=[]}){var S,_,E;const[i,a]=y.useState(null),[o,c]=y.useState(null),[l,d]=y.useState(null),[u,h]=y.useState(""),[m,f]=y.useState(!0),g=y.useMemo(()=>y$.map(P=>({...P,subcategories:P.getSubcategories?P.getSubcategories(r):void 0})),[r]),w=y.useMemo(()=>{if(!r.length)return[];const P=new Map,C=new Map,I=new Map,A=new Map;r.forEach(M=>{var D;if(M.company&&P.set(M.company,(P.get(M.company)||0)+1),(D=M.meetingLocation)!=null&&D.name&&C.set(M.meetingLocation.name,(C.get(M.meetingLocation.name)||0)+1),M.tags.forEach(V=>{I.set(V,(I.get(V)||0)+1)}),M.meetingDate){const V=new Date(M.meetingDate).toLocaleString("en-US",{month:"long"});A.set(V,(A.get(V)||0)+1)}});const R=Array.from(P.entries()).sort((M,D)=>D[1]-M[1]).slice(0,3).map(([M])=>M),F=Array.from(C.entries()).sort((M,D)=>D[1]-M[1]).slice(0,3).map(([M])=>M),H=Array.from(I.entries()).sort((M,D)=>D[1]-M[1]).slice(0,5).map(([M])=>M),K=Array.from(A.entries()).sort((M,D)=>D[1]-M[1]).slice(0,2).map(([M])=>M);return[...R.map(M=>({type:"company",value:M,label:`${M} (Company)`,category:"profession",subCategory:"company"})),...F.map(M=>({type:"location",value:M,label:`${M} (Location)`,category:"location",subCategory:"city"})),...H.map(M=>({type:"tag",value:M,label:`${M} (Tag)`,category:"all"})),...K.map(M=>({type:"month",value:M,label:`${M} (Month)`,category:"date",subCategory:"month"}))]},[r]),x=P=>{i===P?(a(null),c(null),d(null),n({...t,category:void 0,subCategory:void 0,search:""})):(a(P),c(null),d(null),n({...t,category:g.find(C=>C.id===P),subCategory:void 0,search:""}))},v=P=>{c(P),d(null),n({...t,subCategory:P,search:""})},b=P=>{d(P),h(P),n({...t,search:P})},p=P=>{h(P),n({...t,search:P})},j=P=>{if(P.category){const C=g.find(I=>I.id===P.category);a(P.category),P.subCategory&&c(P.subCategory),d(P.value),h(P.value),n({...t,category:C,subCategory:P.subCategory,search:P.value})}else h(P.value),n({...t,search:P.value})},N=g.find(P=>P.id===i);return s.jsxs("div",{className:"space-y-4",children:[m&&w.length>0&&!i&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center",children:[s.jsx(lg,{className:"h-4 w-4 mr-1.5 text-amber-500"}),"Suggested Filters"]}),s.jsx("button",{onClick:()=>f(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Hide"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((P,C)=>s.jsx("button",{onClick:()=>j(P),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-amber-50 text-amber-800 hover:bg-amber-100 transition-colors",children:P.label},C))})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:s.jsx("div",{className:"flex items-center overflow-x-auto p-1",children:g.map(P=>s.jsxs("button",{onClick:()=>x(P.id),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${i===P.id?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(P.icon,{className:`h-4 w-4 mr-2 ${i===P.id?P.color:"text-gray-400"}`}),P.label,P.subcategories&&s.jsx(Re,{className:`ml-1 h-4 w-4 transition-transform ${i===P.id?"rotate-180":""}`})]},P.id))})}),s.jsx(ne,{children:i&&(N==null?void 0:N.subcategories)&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:N.subcategories.map(P=>s.jsx("button",{onClick:()=>v(P.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${o===P.id?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:P.label},P.id))}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:`Search in ${N.label.toLowerCase()}`,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:u,onChange:P=>p(P.target.value)})]}),o&&s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:(S=N.subcategories.find(P=>P.id===o))==null?void 0:S.label}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(_=N.subcategories.find(P=>P.id===o))==null?void 0:_.items.map((P,C)=>s.jsx("button",{onClick:()=>b(P),className:`px-3 py-1 rounded-full text-sm transition-colors ${l===P?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:P},C))})]})]})})}),(i||u)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Active filters:"}),i&&s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[N==null?void 0:N.label,o&&s.jsxs("span",{className:"mx-1",children:["→"," ",(E=N==null?void 0:N.subcategories.find(P=>P.id===o))==null?void 0:E.label]}),s.jsx("button",{onClick:()=>{a(null),c(null),d(null),h(""),n({...t,category:void 0,subCategory:void 0,search:""})},className:"ml-2 hover:text-indigo-600",children:"×"})]}),u&&s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:['"',u,'"',s.jsx("button",{onClick:()=>{h(""),d(null),n({...t,search:""})},className:"ml-2 hover:text-gray-600",children:"×"})]})]})]})}function b$(){const[t,e]=y.useState([]),[n,r]=y.useState([]),[i,a]=y.useState(!0),[o,c]=y.useState(!1),[l,d]=y.useState(!1),[u,h]=y.useState(null),[m,f]=y.useState(!1),[g,w]=y.useState("all"),[x,v]=y.useState({search:"",tags:[],sortBy:"name",sortOrder:"asc"}),[b,p]=y.useState(null),[j,N]=y.useState(!1),[S,_]=y.useState(void 0),E=y.useRef(0),P=y.useRef(null),[C,I]=y.useState(!1),A=y.useRef(0);y.useEffect(()=>(O(),window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)),[]);const R=()=>{E.current=window.scrollY},F=$=>{A.current=$.touches[0].clientY},H=async $=>{const de=$.touches[0].clientY-A.current;window.scrollY===0&&de>0&&(I(!0),de>100&&!o&&(c(!0),await O(),c(!1)))},K=()=>{I(!1)};async function O(){try{const[$,ee]=await Promise.all([el(),Ef(3)]);e($),r(ee)}catch($){console.error("Error loading contacts:",$)}finally{a(!1)}}async function M($){try{const ee=await KM($);e([ee,...t]),await O(),d(!1)}catch(ee){console.error("Error creating contact:",ee)}}async function D($){if(u)try{const ee=await tI(u.id,$);e(t.map(de=>de.id===ee.id?ee:de)),await O(),h(null)}catch(ee){console.error("Error updating contact:",ee)}}async function V($){try{await nI($),e(t.filter(ee=>ee.id!==$)),await O(),p(null)}catch(ee){console.error("Error deleting contact:",ee)}}async function Y($,ee){try{const de=await C2($,ee);e(t.map(oe=>oe.id===$?de:oe)),await O()}catch(de){throw console.error("Error updating contact tier:",de),de}}const U=t.filter($=>{var J,_e,be,ut,$t,jt,Et;if(g==="tier1"&&$.tier!==1||g==="tier2"&&$.tier!==2||g==="tier3"&&$.tier!==3)return!1;const ee=!x.search||$.name.toLowerCase().includes(x.search.toLowerCase())||((J=$.email)==null?void 0:J.toLowerCase().includes(x.search.toLowerCase()))||((_e=$.company)==null?void 0:_e.toLowerCase().includes(x.search.toLowerCase()))||((be=$.jobTitle)==null?void 0:be.toLowerCase().includes(x.search.toLowerCase()))||((ut=$.meetingContext)==null?void 0:ut.toLowerCase().includes(x.search.toLowerCase()))||(($t=$.meetingLocation)==null?void 0:$t.name)&&$.meetingLocation.name.toLowerCase().includes(x.search.toLowerCase())||((jt=$.meetingLocation)==null?void 0:jt.venue)&&$.meetingLocation.venue.toLowerCase().includes(x.search.toLowerCase()),de=x.tags.length===0||x.tags.every(Fe=>$.tags.includes(Fe));let oe=!0;if(x.category)switch(x.category.id){case"date":if(x.subCategory==="year"&&x.search)oe=$.meetingDate?new Date($.meetingDate).getFullYear().toString()===x.search:!1;else if(x.subCategory==="month"&&x.search)$.meetingDate?oe=new Date($.meetingDate).toLocaleString("en-US",{month:"long"})===x.search:oe=!1;else if(x.subCategory==="recent"&&x.search){const Fe=new Date,wr=$.meetingDate?new Date($.meetingDate):null;if(!wr)oe=!1;else{const cn=Math.floor((Fe.getTime()-wr.getTime())/864e5);x.search==="Today"?oe=cn===0:x.search==="Yesterday"?oe=cn===1:x.search==="Last Week"?oe=cn<=7:x.search==="Last Month"&&(oe=cn<=30)}}break;case"location":x.subCategory==="city"&&x.search?oe=$.meetingLocation?$.meetingLocation.name.toLowerCase().includes(x.search.toLowerCase()):!1:x.subCategory==="venue"&&x.search?oe=(Et=$.meetingLocation)!=null&&Et.venue?$.meetingLocation.venue.toLowerCase().includes(x.search.toLowerCase()):!1:x.subCategory==="event"&&x.search&&(oe=$.meetingContext?$.meetingContext.toLowerCase().includes(x.search.toLowerCase()):!1);break;case"profession":x.subCategory==="job_title"&&x.search?oe=$.jobTitle?$.jobTitle.toLowerCase().includes(x.search.toLowerCase()):!1:x.subCategory==="company"&&x.search?oe=$.company?$.company.toLowerCase().includes(x.search.toLowerCase()):!1:x.subCategory==="industry"&&x.search&&(oe=$.tags.some(Fe=>Fe.toLowerCase().includes(x.search.toLowerCase())));break;case"interests":oe=$.interests?$.interests.some(Fe=>Fe.toLowerCase().includes(x.search.toLowerCase())):!1;break}return ee&&de&&oe}).sort(($,ee)=>{var oe,J;let de=0;switch(x.sortBy){case"name":de=$.name.localeCompare(ee.name);break;case"date":de=new Date($.createdAt).getTime()-new Date(ee.createdAt).getTime();break;case"meeting_date":const _e=$.meetingDate?new Date($.meetingDate).getTime():0,be=ee.meetingDate?new Date(ee.meetingDate).getTime():0;de=_e-be;break;case"company":de=($.company||"").localeCompare(ee.company||"");break;case"location":de=(((oe=$.meetingLocation)==null?void 0:oe.name)||"").localeCompare(((J=ee.meetingLocation)==null?void 0:J.name)||"");break}return x.sortOrder==="asc"?de:-de}),Q=Array.from(new Set(t.flatMap($=>$.tags))).sort(),ie=g==="recent"?n:U,fe=t.filter($=>$.tier===1).length,ye=t.filter($=>$.tier===2).length,De=t.filter($=>$.tier===3).length,z=t.filter($=>!$.tier).length;return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",onTouchStart:F,onTouchMove:H,onTouchEnd:K,children:[s.jsx("div",{ref:P,className:`fixed top-0 left-0 right-0 flex justify-center transition-transform duration-300 z-50 ${C?"translate-y-0":"-translate-y-full"}`,children:s.jsx("div",{className:"bg-indigo-600 text-white px-4 py-2 rounded-b-lg shadow-lg",children:o?"Refreshing...":"Pull to refresh"})}),s.jsxs(T.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Contacts"}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[s.jsx(rr,{className:"h-5 w-5 mr-2"}),"Add Contact"]})]}),s.jsxs("div",{className:"flex overflow-x-auto pb-2 mb-6 scrollbar-hide",children:[s.jsx("button",{onClick:()=>{w("all"),_(void 0)},className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap ${g==="all"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:"All Contacts"}),s.jsxs("button",{onClick:()=>{w("recent"),_(void 0)},className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center whitespace-nowrap ${g==="recent"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(qe,{className:"h-4 w-4 mr-1.5"}),"Recent"]}),s.jsxs("button",{onClick:()=>{w("tier1"),_(1)},className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center whitespace-nowrap ${g==="tier1"?"bg-red-100 text-red-700":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(rs,{className:"h-4 w-4 mr-1.5"}),"Inner Circle",fe>0&&s.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 text-xs rounded-full ${g==="tier1"?"bg-red-200 text-red-800":"bg-gray-200 text-gray-700"}`,children:fe})]}),s.jsxs("button",{onClick:()=>{w("tier2"),_(2)},className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center whitespace-nowrap ${g==="tier2"?"bg-amber-100 text-amber-700":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(rs,{className:"h-4 w-4 mr-1.5"}),"Middle Circle",ye>0&&s.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 text-xs rounded-full ${g==="tier2"?"bg-amber-200 text-amber-800":"bg-gray-200 text-gray-700"}`,children:ye})]}),s.jsxs("button",{onClick:()=>{w("tier3"),_(3)},className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center whitespace-nowrap ${g==="tier3"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(rs,{className:"h-4 w-4 mr-1.5"}),"Outer Circle",De>0&&s.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 text-xs rounded-full ${g==="tier3"?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-700"}`,children:De})]}),z>0&&s.jsxs("button",{onClick:()=>{N(!0)},className:"px-4 py-2 rounded-lg text-sm font-medium flex items-center whitespace-nowrap text-gray-500 hover:text-gray-700",children:[s.jsx(rs,{className:"h-4 w-4 mr-1.5"}),"Uncategorized",s.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 text-xs rounded-full bg-gray-200 text-gray-700",children:z})]})]}),g!=="recent"&&s.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search contacts...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",value:x.search,onChange:$=>v({...x,search:$.target.value})}),x.search&&s.jsx("button",{onClick:()=>v({...x,search:""}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-500",children:s.jsx(Se,{className:"h-5 w-5"})})]}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!m),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium ${m?"border-indigo-600 text-indigo-600 bg-indigo-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"}`,children:[s.jsx(ig,{className:"h-5 w-5 mr-2"}),"Filters"]})]}),s.jsx(ne,{children:m&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:s.jsx(v$,{filters:x,availableTags:Q,onFilterChange:v,contacts:t})})})]}),i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(ne,{children:ie.map($=>s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},layout:!0,children:s.jsx(_f,{contact:$,onEdit:h,onDelete:ee=>p(ee),onUpdateTier:Y})},`${$.id}-${g}`))})}),!i&&ie.length===0&&s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx(Ze,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No contacts found"}),s.jsx("p",{className:"mt-1 text-gray-500",children:g==="recent"?"No recent connections":g.startsWith("tier")?`No contacts in ${g==="tier1"?"Inner Circle":g==="tier2"?"Middle Circle":"Outer Circle"}`:t.length===0?"Get started by creating a new contact":"Try adjusting your search or filters"}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(rr,{className:"h-5 w-5 mr-1.5"}),"Add Contact"]})})]}),s.jsx(ne,{children:(l||u)&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:u?"Edit Contact":"Add Contact"}),s.jsx(x$,{contact:u||void 0,onSubmit:u?D:M,onCancel:()=>{d(!1),h(null)}})]})})}),s.jsx(ne,{children:b&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900",children:"Delete Contact"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this contact? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:()=>b&&V(b),className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Delete"})]})]})})}),s.jsx(ne,{children:j&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900",children:"Categorize Uncategorized Contacts"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["You have ",z," uncategorized contacts. Select a relationship circle to categorize them."]}),s.jsx(S2,{currentTier:S,onChange:_}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:()=>{S&&w(S===1?"tier1":S===2?"tier2":"tier3"),N(!1)},disabled:!S,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:"View Contacts"})]})]})})})]})}function w$({contacts:t}){const e=Ke(),[n,r]=y.useState([]),[i,a]=y.useState([]),[o,c]=y.useState([]),[l,d]=y.useState([]),[u,h]=y.useState(null);y.useEffect(()=>{const b=t.filter(S=>S.tier===1),p=t.filter(S=>S.tier===2),j=t.filter(S=>S.tier===3),N=t.filter(S=>!S.tier);r(b),a(p),c(j),d(N)},[t]);const m=t.length,f=Math.round(n.length/m*100)||0,g=Math.round(i.length/m*100)||0,w=Math.round(o.length/m*100)||0,x=Math.round(l.length/m*100)||0,v=()=>{e("/app/contacts")};return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(rs,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Your Connection Circles"]}),s.jsxs("button",{onClick:v,className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center",children:["View All",s.jsx(sg,{className:"h-4 w-4 ml-1"})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsxs("div",{className:"relative w-full md:w-1/2 h-64 flex items-center justify-center",children:[s.jsx(T.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},onMouseEnter:()=>h(3),onMouseLeave:()=>h(null),className:`absolute w-56 h-56 rounded-full border-4 ${u===3?"border-blue-500":"border-blue-300"} flex items-center justify-center transition-colors duration-200`,children:o.length>0&&s.jsx("div",{className:"absolute -right-2 -top-2 bg-blue-500 text-white text-xs font-bold rounded-full w-8 h-8 flex items-center justify-center",children:o.length})}),s.jsx(T.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.1},onMouseEnter:()=>h(2),onMouseLeave:()=>h(null),className:`absolute w-40 h-40 rounded-full border-4 ${u===2?"border-amber-500":"border-amber-300"} flex items-center justify-center transition-colors duration-200`,children:i.length>0&&s.jsx("div",{className:"absolute -right-2 -top-2 bg-amber-500 text-white text-xs font-bold rounded-full w-8 h-8 flex items-center justify-center",children:i.length})}),s.jsx(T.div,{initial:{scale:.7,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},onMouseEnter:()=>h(1),onMouseLeave:()=>h(null),className:`absolute w-24 h-24 rounded-full border-4 ${u===1?"border-red-500":"border-red-300"} flex items-center justify-center transition-colors duration-200`,children:n.length>0&&s.jsx("div",{className:"absolute -right-2 -top-2 bg-red-500 text-white text-xs font-bold rounded-full w-8 h-8 flex items-center justify-center",children:n.length})}),s.jsx(T.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.3},className:"absolute w-12 h-12 rounded-full bg-indigo-600 flex items-center justify-center",children:s.jsx(Ze,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"w-full md:w-1/2 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Inner Circle"})]}),s.jsxs("span",{className:"text-sm font-medium",children:[n.length," contacts (",f,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(T.div,{initial:{width:0},animate:{width:`${f}%`},transition:{duration:1},className:"bg-red-500 h-2 rounded-full"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Middle Circle"})]}),s.jsxs("span",{className:"text-sm font-medium",children:[i.length," contacts (",g,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(T.div,{initial:{width:0},animate:{width:`${g}%`},transition:{duration:1},className:"bg-amber-500 h-2 rounded-full"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Outer Circle"})]}),s.jsxs("span",{className:"text-sm font-medium",children:[o.length," contacts (",w,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(T.div,{initial:{width:0},animate:{width:`${w}%`},transition:{duration:1},className:"bg-blue-500 h-2 rounded-full"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Uncategorized"})]}),s.jsxs("span",{className:"text-sm font-medium",children:[l.length," contacts (",x,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(T.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:1},className:"bg-gray-400 h-2 rounded-full"})})]})]})]}),s.jsxs("div",{className:"mt-6 bg-indigo-50 p-4 rounded-lg flex items-start",children:[s.jsx(ag,{className:"h-5 w-5 text-indigo-500 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-indigo-700",children:"Organize your contacts into circles to prioritize your relationships. Inner circle contacts are your closest connections, middle circle are regular contacts, and outer circle are acquaintances."}),l.length>0&&s.jsxs("p",{className:"text-sm text-indigo-700 mt-2 font-medium",children:["You have ",l.length," uncategorized contacts. Categorize them to better manage your network."]})]})]})]})}function j$(){const[t,e]=y.useState([]),[n,r]=y.useState(!0);return y.useEffect(()=>{async function i(){try{r(!0);const a=await el();e(a)}catch(a){console.error("Error loading contacts:",a)}finally{r(!1)}}i()},[]),s.jsxs("div",{className:"py-8",children:[s.jsx(b$,{}),!n&&t.length>0&&s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:s.jsx(w$,{contacts:t})})]})}function N$(){const{user:t,isOwner:e,refreshUser:n}=Ft(),[r,i]=y.useState(e?tM().filter(A=>!A.approved):[]),[a,o]=y.useState("account"),[c,l]=y.useState([]),[d,u]=y.useState([1]),[h,m]=y.useState({dailyNeeds:!0,socialUpdates:!0,locationUpdates:!0,bioUpdates:!0,interestsUpdates:!0}),[f,g]=y.useState({tiers:{tier1:!0,tier2:!0,tier3:!1},types:{profileUpdates:!0,dailyNeeds:!0,socialUpdates:!0,locationUpdates:!0,bioUpdates:!0,interestsUpdates:!0,followUpReminders:!0}}),[w,x]=y.useState(!1),[v,b]=y.useState(!1),p=A=>{e&&nM(A)&&i(R=>R.map(F=>F.id===A?{...F,approved:!0}:F))},j=A=>{e&&rM(A)&&i(R=>R.filter(F=>F.id!==A))},N=A=>{l(R=>R.includes(A)?R.filter(F=>F!==A):[...R,A])},S=async()=>{try{x(!0),await new Promise(A=>setTimeout(A,1e3)),b(!0),setTimeout(()=>b(!1),3e3)}catch(A){console.error("Error saving notification settings:",A)}finally{x(!1)}},_=A=>{g(R=>({...R,tiers:{...R.tiers,[A]:!R.tiers[A]}}))},E=A=>{g(R=>({...R,types:{...R.types,[A]:!R.types[A]}}))},P=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>N("profile"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Profile Information"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal information"})]})]}),c.includes("profile")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),c.includes("profile")&&s.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),s.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:(t==null?void 0:t.name)||"",onChange:()=>{},placeholder:"Your name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),s.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:(t==null?void 0:t.jobTitle)||"",onChange:()=>{},placeholder:"Your job title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),s.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:(t==null?void 0:t.company)||"",onChange:()=>{},placeholder:"Your company"})]}),s.jsx("button",{type:"button",className:"mt-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save Changes"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>N("security"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(cT,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Security"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage your security settings"})]})]}),c.includes("security")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),c.includes("security")&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Two-factor authentication"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Enable"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Change password"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Update your password"})]}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Update"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>N("devices"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xx,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Connected Devices"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage your connected devices"})]})]}),c.includes("devices")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),c.includes("devices")&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(Xx,{className:"h-4 w-4 text-gray-500"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Current Device"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Last active: Just now"})]})]}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]})})})]})]}),C=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>N("notification-tiers"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ze,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notification Circles"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Choose which relationship circles receive notifications"})]})]}),c.includes("notification-tiers")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),c.includes("notification-tiers")&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Notification Circles"}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Choose which relationship circles receive notifications about your profile updates"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{id:1,name:"Inner Circle",color:"bg-red-100 text-red-600 border-red-200"},{id:2,name:"Middle Circle",color:"bg-amber-100 text-amber-600 border-amber-200"},{id:3,name:"Outer Circle",color:"bg-blue-100 text-blue-600 border-blue-200"}].map(A=>s.jsxs("button",{onClick:()=>{u(R=>R.includes(A.id)?R.filter(F=>F!==A.id):[...R,A.id])},className:`flex items-center justify-between p-3 rounded-lg border ${d.includes(A.id)?A.color:"bg-gray-100 text-gray-600 border-gray-200"}`,children:[s.jsx("span",{children:A.name}),d.includes(A.id)?s.jsx(Ht,{className:"h-4 w-4"}):s.jsx(no,{className:"h-4 w-4"})]},A.id))})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Notification Types"}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Choose which types of updates you want to be notified about"}),s.jsx("div",{className:"space-y-3",children:[{id:"dailyNeeds",label:"Daily Needs",description:"When someone posts a new daily need"},{id:"socialUpdates",label:"Social Media Updates",description:"When connections update their social links"},{id:"locationUpdates",label:"Location Updates",description:"When connections update their location"},{id:"bioUpdates",label:"Bio Updates",description:"When connections update their bio"},{id:"interestsUpdates",label:"Interests Updates",description:"When connections update their interests"}].map(A=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-900",children:A.label}),s.jsx("p",{className:"text-xs text-gray-500",children:A.description})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:h[A.id],onChange:()=>{m(R=>({...R,[A.id]:!R[A.id]}))}}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]},A.id))})]}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ag,{className:"h-4 w-4 text-indigo-600 mr-2"}),s.jsx("p",{className:"text-sm text-indigo-700 font-medium",children:"About Notification Circles"})]}),s.jsx("p",{className:"text-sm text-indigo-600",children:"Choose which relationship circles receive notifications when you update your profile information. This helps keep your network informed about your latest changes."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer ${f.tiers.tier1?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>_("tier1"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(gl,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Inner Circle"})]}),f.tiers.tier1?s.jsx(Ht,{className:"h-4 w-4 text-red-600"}):s.jsx(no,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Close connections, frequent contact"})]}),s.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer ${f.tiers.tier2?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>_("tier2"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ze,{className:"h-5 w-5 text-amber-600 mr-2"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Middle Circle"})]}),f.tiers.tier2?s.jsx(Ht,{className:"h-4 w-4 text-amber-600"}):s.jsx(no,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Regular connections, occasional contact"})]}),s.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer ${f.tiers.tier3?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>_("tier3"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ea,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Outer Circle"})]}),f.tiers.tier3?s.jsx(Ht,{className:"h-4 w-4 text-blue-600"}):s.jsx(no,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Acquaintances, infrequent contact"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>{const R=!Object.values(f.tiers).every(F=>F);g(F=>({...F,tiers:{tier1:R,tier2:R,tier3:R}}))},className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:Object.values(f.tiers).every(A=>A)?"Disable All":"Enable All"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>N("notification-types"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ht,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notification Types"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Choose what updates you receive"})]})]}),c.includes("notification-types")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),c.includes("notification-types")&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-4",children:[[{id:"profileUpdates",title:"Profile Updates",description:"When connections update their profile information",icon:Ct},{id:"dailyNeeds",title:"Daily Needs",description:"When connections post new daily needs",icon:Lt},{id:"socialUpdates",title:"Social Platform Updates",description:"When connections add or change social links",icon:It},{id:"locationUpdates",title:"Location Updates",description:"When connections update their location",icon:We},{id:"bioUpdates",title:"Bio Updates",description:"When connections update their bio information",icon:xn},{id:"interestsUpdates",title:"Interests Updates",description:"When connections update their interests",icon:Lt},{id:"followUpReminders",title:"Follow-up Reminders",description:"Reminders to follow up with your connections",icon:wt}].map(A=>{const R=A.icon,F=f.types[A.id];return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-2 rounded-lg mr-3 ${F?"bg-indigo-100":"bg-gray-100"}`,children:s.jsx(R,{className:`h-4 w-4 ${F?"text-indigo-600":"text-gray-400"}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:A.title}),s.jsx("p",{className:"text-xs text-gray-500",children:A.description})]})]}),s.jsx("button",{onClick:()=>E(A.id),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${F?"bg-indigo-600":"bg-gray-200"}`,children:s.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${F?"translate-x-5":"translate-x-0"}`})})]},A.id)}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:()=>{const R=!Object.values(f.types).every(H=>H),F=Object.keys(f.types).reduce((H,K)=>(H[K]=R,H),{});g(H=>({...H,types:F}))},className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:Object.values(f.types).every(A=>A)?"Disable All":"Enable All"})}),s.jsx("div",{className:"pt-4 flex justify-end",children:s.jsx("button",{onClick:S,disabled:w,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:w?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):v?s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"h-4 w-4 mr-1.5"}),"Saved!"]}):"Save Settings"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>N("email-preferences"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gt,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email Preferences"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage your email settings"})]})]}),c.includes("email-preferences")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),c.includes("email-preferences")&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Format"}),s.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",defaultValue:"html",children:[s.jsx("option",{value:"html",children:"HTML"}),s.jsx("option",{value:"text",children:"Plain Text"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Frequency"}),s.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",defaultValue:"realtime",children:[s.jsx("option",{value:"realtime",children:"Real-time"}),s.jsx("option",{value:"daily",children:"Daily Digest"}),s.jsx("option",{value:"weekly",children:"Weekly Digest"})]})]})]})})]})]}),I=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>N("privacy-controls"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(on,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Privacy & Security Controls"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage your privacy settings"})]})]}),c.includes("privacy-controls")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),c.includes("privacy-controls")&&s.jsxs("div",{className:"p-4 border-t border-gray-200",children:[s.jsx("div",{className:"space-y-6",children:[{title:"Profile visibility",description:"Control who can see your profile"},{title:"Connection requests",description:"Choose who can send you connection requests"},{title:"Activity visibility",description:"Manage who can see your activities"}].map((A,R)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:A.title}),s.jsx("p",{className:"text-sm text-gray-500",children:A.description})]}),s.jsxs("select",{className:"ml-3 block pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",defaultValue:"everyone",children:[s.jsx("option",{value:"everyone",children:"Everyone"}),s.jsx("option",{value:"connections",children:"Connections only"}),s.jsx("option",{value:"nobody",children:"Nobody"})]})]},R))}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Security Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-900",children:"Two-factor authentication"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),s.jsx("button",{className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Enable"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-900",children:"Password strength"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your password is strong"})]}),s.jsx("div",{className:"w-24 h-2 bg-green-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 w-5/6"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-900",children:"Change password"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Update your password"})]}),s.jsx("button",{className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Update"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>N("data-privacy"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Uj,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Data & Privacy"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage your data and privacy choices"})]})]}),c.includes("data-privacy")?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),c.includes("data-privacy")&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Download your data"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get a copy of your data, including your profile information and connections."}),s.jsx("button",{type:"button",className:"mt-2 inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Request data export"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Delete account"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Permanently delete your account and all associated data."}),s.jsx("button",{type:"button",className:"mt-2 inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete account"})]})]})})]})]});return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Settings"}),e&&s.jsx("div",{className:"bg-white shadow rounded-lg divide-y divide-gray-200 mb-8",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Access Requests"}),r.length===0?s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No pending access requests"}):s.jsx("div",{className:"space-y-4",children:r.map(A=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${A.approved?"bg-green-50 border-green-200":"bg-white border-gray-200"}`,children:[s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:A.name}),s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[s.jsx(Gt,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),A.email]}),A.company&&s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[s.jsx($n,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),A.company]}),s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[s.jsx(wt,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),"Requested: ",new Date(A.requestDate).toLocaleDateString()]})]})})}),s.jsx("div",{className:"ml-4 flex items-center space-x-3",children:A.approved?s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(rt,{className:"h-4 w-4 mr-1"}),"Approved"]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>p(A.id),className:"inline-flex items-center px-3 py-1 border border-transparent rounded-full text-sm font-medium bg-green-100 text-green-800 hover:bg-green-200",children:[s.jsx(rt,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:()=>j(A.id),className:"inline-flex items-center px-3 py-1 border border-transparent rounded-full text-sm font-medium bg-red-100 text-red-800 hover:bg-red-200",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Decline"]})]})})]},A.id))})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex -mb-px",children:[s.jsxs(T.button,{whileHover:{backgroundColor:a!=="account"?"#F3F4F6":void 0},onClick:()=>o("account"),className:`flex-1 whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${a==="account"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Ct,{className:"h-4 w-4 inline-block mr-2"}),"Account"]}),s.jsxs(T.button,{whileHover:{backgroundColor:a!=="email"?"#F3F4F6":void 0},onClick:()=>o("email"),className:`flex-1 whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${a==="email"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Ht,{className:"h-4 w-4 inline-block mr-2"}),"Email"]}),s.jsxs(T.button,{whileHover:{backgroundColor:a!=="privacy"?"#F3F4F6":void 0},onClick:()=>o("privacy"),className:`flex-1 whitespace-nowrap py-4 px-1 border-b-2 text-sm font-medium ${a==="privacy"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(on,{className:"h-4 w-4 inline-block mr-2"}),"Privacy"]})]})}),s.jsxs("div",{className:"p-6",children:[a==="account"&&P(),a==="email"&&C(),a==="privacy"&&I()]})]}),s.jsx(ne,{children:v&&s.jsxs(T.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[s.jsx(rt,{className:"h-5 w-5 mr-2"}),"Settings saved successfully!"]})})]})}function S$({isOpen:t,onClose:e,onConfirm:n,noteName:r}){return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delete Note"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Are you sure you want to delete this note? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-800",children:"Cancel"}),s.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Delete"})]})]})})})}function C$({notes:t,onAddNote:e,onDeleteNote:n}){const[r,i]=y.useState(""),[a,o]=y.useState(!1),[c,l]=y.useState(null),[d,u]=y.useState(!1),[h,m]=y.useState(null);async function f(v){v.preventDefault();const b=r.trim();if(!b){l("Note cannot be empty");return}if(!e){l("Note adding functionality not available");return}o(!0),l(null);try{await e(b),i("")}catch(p){l(p instanceof Error?p.message:"Failed to add note")}finally{o(!1)}}const g=v=>{m(v),u(!0)},w=async()=>{if(!(!h||!n))try{await n(h),u(!1),m(null)}catch(v){console.error("Error deleting note:",v),l("Failed to delete note")}},x=[...t].sort((v,b)=>new Date(b.createdAt).getTime()-new Date(v.createdAt).getTime());return s.jsxs("div",{className:"space-y-6",children:[e&&s.jsxs("form",{onSubmit:f,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"note",className:"sr-only",children:"Add a note"}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{id:"note",rows:3,placeholder:"Add a note...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 resize-none",value:r,onChange:v=>{i(v.target.value),l(null)},disabled:a}),s.jsx("button",{type:"submit",disabled:a||!r.trim(),className:"absolute bottom-2 right-2 inline-flex items-center rounded-lg bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),s.jsx("span",{className:"ml-2",children:"Adding..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"h-4 w-4 mr-1.5"}),"Add Note"]})})]})]}),c&&s.jsx("p",{className:"text-sm text-red-600",children:c})]}),s.jsx("div",{className:"space-y-4",children:x.length===0?s.jsx("p",{className:"text-center text-gray-500 py-4",children:"No notes yet"}):x.map(v=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 relative group",children:[s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:v.content}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(qe,{className:"h-4 w-4 mr-1.5"}),s.jsx("time",{dateTime:v.createdAt.toISOString(),children:new Date(v.createdAt).toLocaleString()})]}),n&&s.jsx("button",{onClick:()=>g(v.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 text-gray-400 hover:text-red-600 rounded-full hover:bg-gray-100",children:s.jsx(yT,{className:"h-4 w-4"})})]})]},v.id))}),s.jsx(S$,{isOpen:d,onClose:()=>{u(!1),m(null)},onConfirm:w,noteName:"this note"})]})}function k$({followUps:t,onAddFollowUp:e,onToggleComplete:n}){const[r,i]=y.useState(!1),[a,o]=y.useState(""),[c,l]=y.useState(""),[d,u]=y.useState(!1),[h,m]=y.useState(null);async function f(p){if(p.preventDefault(),!(!a||!c.trim())){if(!e){m("Follow-up functionality not available");return}u(!0),m(null);try{await e({dueDate:new Date(a),description:c.trim()}),o(""),l(""),i(!1)}catch(j){m(j instanceof Error?j.message:"Failed to add follow-up")}finally{u(!1)}}}const g=[...t].sort((p,j)=>p.completed!==j.completed?p.completed?1:-1:new Date(p.dueDate).getTime()-new Date(j.dueDate).getTime()),w=g.filter(p=>!p.completed),x=g.filter(p=>p.completed),v=p=>{const j=new Date;return j.setHours(0,0,0,0),new Date(p)<j},b=p=>{const j=new Date;j.setHours(0,0,0,0);const N=new Date(j);N.setDate(N.getDate()+1);const S=new Date(p);if(S.setHours(0,0,0,0),S.getTime()===j.getTime())return"Today";if(S.getTime()===N.getTime())return"Tomorrow";if(S<j){const _=Math.abs(j.getTime()-S.getTime()),E=Math.ceil(_/(1e3*60*60*24));return`${E} ${E===1?"day":"days"} overdue`}else return S.toLocaleDateString()};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Follow-ups"}),e&&s.jsx("button",{onClick:()=>i(!r),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-indigo-600 bg-indigo-100 hover:bg-indigo-200",children:r?"Cancel":s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-4 w-4 mr-1"}),"Add Follow-up"]})})]}),s.jsx(ne,{children:r&&s.jsxs(T.form,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},onSubmit:f,className:"space-y-4 bg-gray-50 rounded-lg p-4 overflow-hidden",children:[h&&s.jsx("div",{className:"text-sm text-red-600",children:h}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date"}),s.jsx("input",{type:"date",id:"dueDate",value:a,onChange:p=>o(p.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0,min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{id:"description",value:c,onChange:p=>l(p.target.value),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"What needs to be done?",required:!0})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Follow-up"})})]})}),s.jsx("div",{className:"space-y-3",children:g.length===0?s.jsx("p",{className:"text-center py-4 text-gray-500",children:"No follow-ups scheduled"}):s.jsxs(s.Fragment,{children:[w.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Pending"}),w.map(p=>{const j=v(p.dueDate);return s.jsxs("div",{className:`flex items-start justify-between p-4 rounded-lg ${j?"bg-red-50 border border-red-200":"bg-white border border-gray-200"}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm ${j?"text-red-800":"text-gray-900"}`,children:p.description}),s.jsxs("div",{className:`mt-1 flex items-center text-sm ${j?"text-red-600":"text-gray-500"}`,children:[s.jsx(wt,{className:"h-4 w-4 mr-1"}),"Due: ",b(p.dueDate)]})]}),n&&s.jsx("button",{onClick:()=>n(p.id,!0),className:`ml-4 p-1 rounded-full transition-colors ${j?"text-red-600 hover:bg-red-100":"text-gray-400 hover:bg-gray-100 hover:text-green-600"}`,children:s.jsx(wn,{className:"h-6 w-6"})})]},p.id)})]}),x.length>0&&s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Completed"}),x.map(p=>s.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500 line-through",children:p.description}),s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-400",children:[s.jsx(qe,{className:"h-4 w-4 mr-1"}),"Completed"]})]}),n&&s.jsx("button",{onClick:()=>n(p.id,!1),className:"ml-4 p-1 text-green-500 hover:text-gray-400 rounded-full hover:bg-gray-100",children:s.jsx(zj,{className:"h-6 w-6"})})]},p.id))]})]})})]})}function _$({isOpen:t,onClose:e,onSave:n,contact:r}){const{user:i}=Ft(),[a,o]=y.useState({}),[c,l]=y.useState(!1),[d,u]=y.useState(!1);y.useEffect(()=>{if(t&&i&&i.socialLinks){const g={};Object.keys(i.socialLinks).forEach(w=>{const x=r.socialLinks&&r.socialLinks[w]!==void 0;g[w]=x}),o(g)}},[t,i,r]);const h=g=>{o(w=>({...w,[g]:!w[g]}))},m=async()=>{l(!0);try{await n(a),u(!0),setTimeout(()=>{u(!1),e()},1500)}catch(g){console.error("Error saving sharing settings:",g)}finally{l(!1)}},f={};return i&&i.socialLinks&&Object.entries(i.socialLinks).forEach(([g,w])=>{if(!w)return;let x="other";for(const[v,b]of Object.entries(Un))if(b.links[g]){x=v;break}f[x]||(f[x]=[]),f[x].push({platform:g,isShared:a[g]||!1})}),s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sharing Settings"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Choose what to share with ",r.name]})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Se,{className:"h-5 w-5 text-gray-500"})})]})}),s.jsxs("div",{className:"p-6",children:[Object.entries(f).map(([g,w])=>{const x=Un[g];return!x||w.length===0?null:s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(x.icon,{className:`h-5 w-5 mr-2 ${x.iconColor}`}),s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x.title})]}),s.jsx("div",{className:"space-y-3",children:w.map(({platform:v,isShared:b})=>{var N;const p=x.links[v];if(!p)return null;const j=p.icon;return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${b?"border-indigo-200 bg-indigo-50":"border-gray-200 bg-white"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(j,{className:"h-5 w-5 mr-3",style:{color:p.color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:p.label}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:(N=i==null?void 0:i.socialLinks)==null?void 0:N[v]})]})]}),s.jsx("button",{onClick:()=>h(v),className:`p-2 rounded-full transition-colors ${b?"text-indigo-600 hover:bg-indigo-100":"text-gray-400 hover:bg-gray-100"}`,children:b?s.jsx(ea,{className:"h-5 w-5"}):s.jsx(hd,{className:"h-5 w-5"})})]},v)})})]},g)}),Object.keys(f).length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(It,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"You don't have any social links to share"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add social links to your profile first"})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 sticky bottom-0 bg-white",children:s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:m,disabled:c,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 disabled:opacity-50 flex items-center",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):d?s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"h-4 w-4 mr-2"}),"Saved!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vj,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})})]})})})}function E$({contact:t,onClose:e,onEdit:n,onDelete:r,onAddNote:i,onAddFollowUp:a,onToggleFollowUp:o,onUpdateSharing:c}){var v,b,p,j,N;Ke();const[l,d]=y.useState(!1),[u,h]=y.useState(null),[m,f]=y.useState(!1),g=S=>{h(u===S?null:S)},w=S=>{for(const[_,E]of Object.entries(Un))if(E.links[S]){const P=E.links[S].icon;return s.jsx(P,{className:"h-5 w-5",style:{color:E.links[S].color}})}return s.jsx(It,{className:"h-5 w-5 text-gray-400"})},x=async S=>{c&&(await c(t.id,S),f(!1))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden max-w-4xl w-full",children:[s.jsxs("div",{className:"relative h-48 sm:h-64",children:[t.coverImage?s.jsx("img",{src:t.coverImage,alt:"Profile cover",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-r from-indigo-600 to-indigo-800"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("button",{onClick:e,className:"absolute top-4 left-4 p-2 rounded-full bg-white/10 hover:bg-white/20 text-white",children:s.jsx(st,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>f(!0),className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 hover:bg-white/20 text-white",title:"Sharing Settings",children:s.jsx(of,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"px-6 -mt-12 relative z-10",children:[s.jsxs("div",{className:"sm:flex sm:items-end sm:space-x-5",children:[s.jsx("div",{className:"relative flex",children:t.profileImage?s.jsx("img",{src:t.profileImage,alt:t.name,className:"h-24 w-24 rounded-xl ring-4 ring-white object-cover sm:h-32 sm:w-32"}):s.jsx("div",{className:"h-24 w-24 rounded-xl ring-4 ring-white bg-indigo-100 flex items-center justify-center sm:h-32 sm:w-32",children:s.jsx("span",{className:"text-4xl font-medium text-indigo-600",children:t.name.charAt(0).toUpperCase()})})}),s.jsx("div",{className:"mt-6 sm:flex-1 sm:min-w-0 sm:flex sm:items-center sm:justify-end sm:space-x-6 sm:pb-1",children:s.jsxs("div",{className:"sm:hidden md:block mt-6 min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 truncate",children:t.name}),t.jobTitle&&s.jsxs("p",{className:"text-lg text-gray-600",children:[t.jobTitle,t.company&&s.jsxs(s.Fragment,{children:[" at ",t.company]})]})]})})]}),s.jsxs("div",{className:"mt-8 space-y-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 mr-2 text-gray-400"}),"About"]})}),(((v=t.bio)==null?void 0:v.location)||((b=t.bio)==null?void 0:b.from))&&s.jsxs("div",{className:"flex flex-wrap gap-6 mb-4",children:[((p=t.bio)==null?void 0:p.location)&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(We,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsxs("span",{children:["Located in ",t.bio.location]})]}),((j=t.bio)==null?void 0:j.from)&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(lt,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsxs("span",{children:["From ",t.bio.from]})]})]}),((N=t.bio)==null?void 0:N.about)&&s.jsx("div",{className:"prose max-w-none mb-6",children:s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:t.bio.about})}),t.interests&&t.interests.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),"Interests"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.interests.map((S,_)=>s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-50 text-indigo-700",children:S},_))})]}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(bl,{className:"h-4 w-4 mr-2 text-gray-400"}),"Tags"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((S,_)=>s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-50 text-indigo-700",children:S},_))})]})]}),t.socialLinks&&Object.keys(t.socialLinks).length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>g("social"),children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(It,{className:"h-5 w-5 mr-2 text-gray-400"}),"Social Links"]}),u==="social"?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),s.jsx(ne,{children:u==="social"&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:s.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(t.socialLinks).map(([S,_])=>_?s.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[w(S),s.jsx("span",{className:"ml-3 font-medium text-gray-700",children:S.charAt(0).toUpperCase()+S.slice(1)}),s.jsx(Ue,{className:"h-4 w-4 ml-auto text-gray-400 rotate-90"})]},S):null)})})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>g("notes"),children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(xn,{className:"h-5 w-5 mr-2 text-gray-400"}),"Notes"]}),u==="notes"?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),s.jsx(ne,{children:u==="notes"&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:s.jsx("div",{className:"mt-4",children:s.jsx(C$,{notes:t.notes,onAddNote:i})})})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>g("followups"),children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(wt,{className:"h-5 w-5 mr-2 text-gray-400"}),"Follow-ups"]}),u==="followups"?s.jsx(Ue,{className:"h-5 w-5 text-gray-400"}):s.jsx(Re,{className:"h-5 w-5 text-gray-400"})]}),s.jsx(ne,{children:u==="followups"&&s.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:s.jsx("div",{className:"mt-4",children:s.jsx(k$,{followUps:t.followUps,onAddFollowUp:a,onToggleComplete:o})})})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(wt,{className:"h-5 w-5 mr-2 text-gray-400"}),"Meeting Details"]}),s.jsxs("div",{className:"space-y-4",children:[t.meetingDate&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Date"}),s.jsx("p",{className:"text-sm text-gray-700",children:new Date(t.meetingDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),t.meetingLocation&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(We,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location"}),s.jsxs("p",{className:"text-sm text-gray-700",children:[t.meetingLocation.name,t.meetingLocation.venue&&s.jsx("span",{className:"block text-gray-500",children:t.meetingLocation.venue}),t.meetingLocation.eventContext&&s.jsx("span",{className:"block text-indigo-600 font-medium",children:t.meetingLocation.eventContext})]})]})]}),t.meetingContext&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(xn,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Context"}),s.jsx("p",{className:"text-sm text-gray-700",children:t.meetingContext})]})]})]})]})]})]})]}),s.jsx(_$,{isOpen:m,onClose:()=>f(!1),onSave:x,contact:t})]})}function T$(){const{id:t}=rj(),e=Ke(),[n,r]=y.useState(null),[i,a]=y.useState(!0),[o,c]=y.useState(null);y.useEffect(()=>{async function f(){if(!t){c("Contact ID is required"),a(!1);return}try{const g=await GM(t);r(g)}catch(g){c(g instanceof Error?g.message:"Failed to load contact")}finally{a(!1)}}f()},[t]);async function l(f){if(n)try{const g=await QM(n.id,f);return r({...n,notes:[g,...n.notes]}),g}catch(g){throw console.error("Error adding note:",g),g}}async function d(f){if(n)try{const g=await JM(n.id,f);return r({...n,followUps:[...n.followUps,g]}),g}catch(g){throw console.error("Error adding follow-up:",g),g}}async function u(f,g){if(n)try{await ZM(n.id,f,g),r({...n,followUps:n.followUps.map(w=>w.id===f?{...w,completed:g}:w)})}catch(w){throw console.error("Error toggling follow-up:",w),w}}async function h(f,g){if(n)try{const w=await YM(f,g);r(w)}catch(w){throw console.error("Error updating sharing settings:",w),w}}async function m(){e("/app/contacts")}return i?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o||!n?s.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-red-700",children:o||"Contact not found"}),s.jsx("button",{onClick:()=>e("/app/contacts"),className:"mt-4 text-sm text-red-700 hover:text-red-800",children:"Return to contacts"})]})}):s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsx(E$,{contact:n,onClose:()=>e("/app/contacts"),onEdit:()=>{},onDelete:m,onAddNote:l,onAddFollowUp:d,onToggleFollowUp:u,onUpdateSharing:h})})}function pc({className:t="",showTitle:e=!0,size:n="medium"}){const r={ios:"#",android:"#"},i={small:{container:"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",button:"px-3 py-2 text-xs",icon:"h-4 w-4 mr-1.5"},medium:{container:"flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4",button:"px-4 py-2.5 text-sm",icon:"h-5 w-5 mr-2"},large:{container:"flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-6",button:"px-6 py-3 text-base",icon:"h-6 w-6 mr-2.5"}};return s.jsxs("div",{className:`${t}`,children:[e&&s.jsx("h3",{className:"text-center font-medium text-gray-900 mb-4",children:"Download the Dislink App"}),s.jsxs("div",{className:`flex ${i[n].container}`,children:[s.jsxs(T.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:r.ios,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center ${i[n].button} bg-black text-white rounded-xl hover:bg-gray-800 transition-colors`,children:[s.jsx(J4,{className:i[n].icon}),"App Store"]}),s.jsxs(T.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:r.android,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center ${i[n].button} bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors`,children:[s.jsx(gT,{className:i[n].icon}),"Google Play"]})]})]})}const l0=()=>window.location.protocol==="capacitor:"||window.location.protocol==="ionic:"||!!window.Capacitor,P$=async t=>{if(!l0()){navigator.share?await navigator.share(t):t.url&&(await navigator.clipboard.writeText(t.url),alert("Link copied to clipboard!"));return}try{const{Share:e}=await Rn(async()=>{const{Share:n}=await import("./index-92zB0qbe.js");return{Share:n}},__vite__mapDeps([0,1]));await e.share(t)}catch(e){if(console.error("Error sharing content:",e),t.url){const{Clipboard:n}=await Rn(async()=>{const{Clipboard:r}=await import("./index-0l-fos0M.js");return{Clipboard:r}},__vite__mapDeps([2,1]));await n.write({string:t.url}),alert("Link copied to clipboard!")}}};function _b(){var R,F,H,K,O,M;const{code:t,scanId:e}=rj();Ke();const[n,r]=y.useState(null),[i,a]=y.useState(!0),[o,c]=y.useState(null),[l,d]=y.useState(!1),[u,h]=y.useState(""),[m,f]=y.useState(null),[g,w]=y.useState(!1),[x,v]=y.useState(!1),[b,p]=y.useState(null),[j,N]=y.useState(!1),[S,_]=y.useState(null),[E]=y.useState(new Date);y.useEffect(()=>{(async()=>{try{if(!(t||new URLSearchParams(window.location.search).get("code"))&&!e)return;let U;if(navigator.geolocation)try{const ie=await new Promise((fe,ye)=>{navigator.geolocation.getCurrentPosition(fe,ye,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})});U={latitude:ie.coords.latitude,longitude:ie.coords.longitude},_(U)}catch(ie){console.warn("Location access denied:",ie)}const Q=await fc(t,U);Q.location&&_({latitude:Q.location.latitude,longitude:Q.location.longitude,name:Q.location.address||Q.location.city}),console.log("Enhanced QR Code Scan Event:",Q)}catch(Y){console.error("Error tracking enhanced scan event:",Y)}})();async function V(){const Y=t||new URLSearchParams(window.location.search).get("code"),U=e;if(!Y&&!U){c("Invalid profile link"),a(!1);return}if(t==="test-profile"){r({userId:"test-user-id",name:"Antonio Tubito",jobTitle:"Founder & CEO",company:"Dislink",profileImage:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",bio:{location:"Lisbon, Portugal",from:"Milan, Italy",about:"Passionate entrepreneur dedicated to revolutionizing how people build and maintain meaningful connections. Founded Dislink to solve the problem of forgotten relationships and missed opportunities."},interests:["Networking","Technology","Entrepreneurship","Product Design","AI","Travel"],socialLinks:{linkedin:"https://linkedin.com/in/antoniotubito",twitter:"https://twitter.com/antoniotubito",github:"https://github.com/antoniotubito",portfolio:"https://dislink.com"},publicProfile:{enabled:!0,defaultSharedLinks:{linkedin:!0,twitter:!0,github:!0,portfolio:!0},allowedFields:{email:!1,phone:!1,company:!0,jobTitle:!0,bio:!0,interests:!0,location:!0}},isExpired:!1,code:"test-profile"}),a(!1);return}try{console.log("Validating code:",t),U&&await fc(Y||U,S);const{data:Q,error:ie}=await L.from("connection_codes").select(`
            id,
            user_id,
            status,
            expires_at,
            profiles!connection_codes_user_id_fkey (
              id,
              first_name,
              last_name,
              job_title,
              company,
              profile_image,
              bio,
              social_links,
              interests,
              public_profile
            )
          `).eq("code",Y||t).maybeSingle();if(ie)throw console.error("Supabase query error:",ie),new Error("Failed to load profile");if(!Q){c("QR code not found or expired"),a(!1);return}if(Q.expires_at&&new Date(Q.expires_at)<new Date){c("This QR code has expired. Please ask for a new one."),d(!0),a(!1);return}if(Q!=null&&Q.profiles){const fe={userId:Q.profiles.id,name:`${Q.profiles.first_name} ${Q.profiles.last_name}`.trim(),jobTitle:Q.profiles.job_title,company:Q.profiles.company,profileImage:Q.profiles.profile_image,bio:Q.profiles.bio,socialLinks:Q.profiles.social_links,interests:Q.profiles.interests,publicProfile:Q.profiles.public_profile,isExpired:Q.status!=="active",code:t};if(fe.isExpired)d(!0);else{const ye=S;r(fe),w(!0)}}else{const fe=await Wg(t);fe.isExpired?(d(!0),r(fe)):(r(fe),w(!0))}console.log("Connection Request Successful:",{code:t,email:u,connectionCode:result.connectionCode,timestamp:new Date().toISOString(),scanLocation:S,scanTimestamp:E.toISOString()})}catch(Q){console.error("Error loading profile:",Q),c("Failed to load profile")}finally{a(!1)}}V()},[t]);const P=async D=>{D.preventDefault(),p(null),v(!0);try{if(!u.includes("@"))throw new Error("Please enter a valid email address");if(!n)throw new Error("Profile not found");const V=await fc(t,S),Y=await d$(u,n.userId,V);await kb(n.userId,"pending_user",V,"email_invitation"),f(Y.connectionCode),w(!1),console.log("Email invitation sent successfully:",Y)}catch(V){p(V instanceof Error?V.message:"Failed to send invitation")}finally{v(!1)}},C=async()=>{try{const D=window.location.href;l0()?await P$({title:`Connect with ${n.name} on Dislink`,text:`Check out ${n.name}'s profile on Dislink!`,url:D}):(await navigator.clipboard.writeText(D),N(!0),setTimeout(()=>N(!1),2e3))}catch(D){console.error("Error copying link:",D)}};if(i)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});if(o||!n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:o||"Profile not found"}),s.jsx("p",{className:"text-gray-600",children:"This profile may have been removed or is not publicly available."}),s.jsx("div",{className:"mt-8",children:s.jsx(pc,{showTitle:!0,size:"large"})})]})});if(l)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(qe,{className:"h-10 w-10 text-amber-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"QR Code Expired"}),s.jsxs("p",{className:"text-gray-600 mb-8",children:["This QR code has expired. Please ask ",n.name," to share a new QR code."]}),s.jsx(pc,{showTitle:!0,size:"large"})]})});if(m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsx("div",{className:"max-w-md w-full text-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(rt,{className:"h-10 w-10 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connection Code Generated!"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Connection Code:"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-indigo-600",children:m})]}),s.jsxs("p",{className:"text-gray-600 mb-8",children:["We've sent this code to your email. Download the app and enter this code during registration to connect with ",n.name,"!"]}),s.jsx(pc,{size:"large"})]})})});const I=((R=n.publicProfile)==null?void 0:R.allowedFields)||{bio:!0,interests:!0,location:!0},A=((F=n.publicProfile)==null?void 0:F.defaultSharedLinks)||{};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-2 rounded-lg mr-3",children:s.jsx(It,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Dislink"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Relationship Building"})]})]}),S&&s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(We,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:S.name||"Location detected"})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Scanned ",E.toLocaleTimeString()]})]})]})})}),s.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-600 via-purple-600 to-indigo-800 text-white overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",children:s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-purple-300/20 rounded-full blur-3xl"})]})}),s.jsx("div",{className:"relative max-w-4xl mx-auto px-4 py-16 text-center",children:s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[s.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full mb-6",children:s.jsx(Lt,{className:"h-8 w-8 text-white"})}),s.jsxs("h1",{className:"text-3xl md:text-5xl font-bold mb-4 leading-tight",children:["Every Great Relationship",s.jsx("br",{}),s.jsx("span",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:"Starts with a Single Connection"})]}),s.jsxs("p",{className:"text-xl md:text-2xl opacity-90 font-light max-w-3xl mx-auto leading-relaxed",children:["This is your moment to build something meaningful with ",s.jsx("span",{className:"font-semibold",children:n.name})]})]}),s.jsxs(T.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 max-w-2xl mx-auto border border-white/20",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-3",children:["Connect with ",n.name]}),s.jsx("p",{className:"text-lg opacity-90 mb-6",children:"Start tracking your meaningful relationships from this very moment"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(We,{className:"h-6 w-6"})}),s.jsx("p",{className:"text-sm font-medium",children:"Location"}),s.jsx("p",{className:"text-xs opacity-75",children:"Tracked"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(qe,{className:"h-6 w-6"})}),s.jsx("p",{className:"text-sm font-medium",children:"Timeline"}),s.jsx("p",{className:"text-xs opacity-75",children:"Recorded"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(Ze,{className:"h-6 w-6"})}),s.jsx("p",{className:"text-sm font-medium",children:"Connection"}),s.jsx("p",{className:"text-xs opacity-75",children:"Lifetime"})]})]}),s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-900 font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{const D=document.getElementById("connection-options");D==null||D.scrollIntoView({behavior:"smooth"})},children:s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsx(dt,{className:"h-5 w-5 mr-2"}),"Start Your Connection Journey",s.jsx(Ot,{className:"h-5 w-5 ml-2"})]})})]})]})}),s.jsx("div",{className:"absolute top-20 left-10 opacity-20",children:s.jsx(T.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:s.jsx(It,{className:"h-8 w-8 text-white"})})}),s.jsx("div",{className:"absolute bottom-20 right-10 opacity-20",children:s.jsx(T.div,{animate:{y:[0,15,0],rotate:[0,-5,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:2},children:s.jsx(Ze,{className:"h-10 w-10 text-white"})})})]}),s.jsxs("div",{id:"connection-options",className:"max-w-4xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Your Connection Method"}),s.jsxs("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:["Get connected and start tracking your relationship with ",n.name]})]}),s.jsx("div",{className:"bg-white shadow-sm relative z-10 mb-8",children:s.jsxs("div",{className:"flex items-center space-x-6 bg-white rounded-xl shadow-lg p-6",children:[n.profileImage?s.jsx("img",{src:n.profileImage,alt:n.name,className:"h-24 w-24 rounded-xl object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"h-24 w-24 rounded-xl bg-indigo-100 flex items-center justify-center border-4 border-white shadow-lg",children:s.jsx("span",{className:"text-4xl font-medium text-indigo-600",children:n.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),n.jobTitle&&s.jsxs("p",{className:"text-lg text-gray-600",children:[n.jobTitle,n.company&&s.jsxs(s.Fragment,{children:[" at ",n.company]})]}),s.jsxs("div",{className:"mt-4 flex space-x-3",children:[s.jsxs("button",{onClick:C,className:"inline-flex items-center px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100",children:[s.jsx(Go,{className:"h-4 w-4 mr-1.5"}),j?"Copied!":"Copy Link"]}),s.jsxs("a",{href:`mailto:?subject=Connect with ${n.name} on Dislink&body=Check out ${n.name}'s profile on Dislink: ${window.location.href}`,className:"inline-flex items-center px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100",children:[s.jsx(pT,{className:"h-4 w-4 mr-1.5"}),"Share"]})]})]})]})}),g&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-indigo-100",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Choose Your Connection Method"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Get connected and start tracking your relationship"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Gt,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Get Connection Link"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Receive a special link to use during registration"}),s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[b&&s.jsx("div",{className:"rounded-lg bg-red-50 p-3 border border-red-200",children:s.jsxs("div",{className:"flex",children:[s.jsx(gt,{className:"h-4 w-4 text-red-400 mr-2"}),s.jsx("div",{className:"text-sm text-red-700",children:b})]})}),s.jsx("div",{children:s.jsx("input",{type:"email",required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:u,onChange:D=>h(D.target.value),placeholder:"Enter your email address"})}),s.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:x?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"h-5 w-5 mr-2"}),"Get Connection Link"]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gradient-to-r from-green-50 to-emerald-50",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(UserPlus,{className:"h-5 w-5 mr-2 text-green-600"}),"Create Your Profile Now"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start using Dislink immediately with automatic connection tracking"}),s.jsxs("button",{onClick:async()=>{try{const D=await fc(t,S);await kb(n.userId,"pending_user",D,"qr_scan");const V={scannedProfile:{userId:n.userId,name:n.name,jobTitle:n.jobTitle,company:n.company,profileImage:n.profileImage},scanData:D,connectionMethod:"qr_scan_direct",timestamp:new Date().toISOString()};localStorage.setItem("qr_registration_data",JSON.stringify(V)),console.log("Direct Profile Creation with Enhanced Tracking:",V),window.location.href=`/app/register?from=qr_scan&connect=${encodeURIComponent(n.userId)}&scan_id=${encodeURIComponent(D.scanId)}`}catch(D){console.error("Error handling direct profile creation:",D),window.location.href="/app/register?from=qr_scan&connect="+encodeURIComponent(n.userId)}},className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[s.jsx(dt,{className:"h-5 w-5 mr-2"}),"Create Profile & Connect"]}),s.jsx("div",{className:"mt-4 text-xs text-green-700 bg-green-100 p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(rt,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Automatic Connection Tracking:"}),s.jsxs("ul",{className:"mt-1 space-y-1",children:[s.jsx("li",{children:"• Scan location and time saved"}),s.jsx("li",{children:"• Connection request sent automatically"}),s.jsx("li",{children:"• Relationship tracking starts immediately"})]})]})]})})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(dt,{className:"h-4 w-4 mr-2 text-indigo-500"}),"Why Connect with ",n.name,"?"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(We,{className:"h-4 w-4 text-indigo-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location Context"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Remember where you met"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(qe,{className:"h-4 w-4 text-indigo-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Smart Follow-ups"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Never lose touch"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(Ze,{className:"h-4 w-4 text-indigo-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Relationship Growth"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Track your network"})]})]})]})]})]}),((H=n.publicProfile)==null?void 0:H.enabled)&&s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[I.bio&&n.bio&&s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-8",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(fi,{className:"h-6 w-6 mr-2"}),"About"]}),s.jsxs("div",{className:"space-y-6",children:[I.location&&s.jsxs("div",{className:"flex flex-wrap gap-6",children:[((K=n.bio)==null?void 0:K.location)&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(We,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsxs("span",{children:["Located in ",n.bio.location]})]}),((O=n.bio)==null?void 0:O.from)&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(lt,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsxs("span",{children:["From ",n.bio.from]})]})]}),((M=n.bio)==null?void 0:M.about)&&s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap leading-relaxed",children:n.bio.about})}),I.interests&&n.interests&&n.interests.length>0&&s.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Interests"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.interests.map((D,V)=>s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-50 text-indigo-700",children:D},V))})]})]})]})}),n.socialLinks&&Object.keys(n.socialLinks).length>0&&s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-8",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(It,{className:"h-6 w-6 mr-2"}),"Connect with ",n.name]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(n.socialLinks).map(([D,V])=>{if(!A[D])return null;let Y;for(const[Q,ie]of Object.entries(Un))if(ie.links[D]){Y=ie.links[D],ie.color;break}if(!Y)return null;const U=Y.icon;return s.jsxs("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(U,{className:"h-5 w-5 mr-3",style:{color:Y.color}}),s.jsx("span",{className:"font-medium text-gray-700",children:Y.label}),s.jsx(Ot,{className:"h-4 w-4 ml-auto text-gray-400"})]},D)})})]})})]}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-2xl p-8 text-white",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Download Dislink"}),s.jsx("p",{className:"text-lg opacity-90 max-w-2xl mx-auto",children:"Build meaningful relationships with smart connection tools"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-8",children:[{icon:We,title:"Location Context",description:"Save where and when you met someone automatically"},{icon:qe,title:"Smart Follow-ups",description:"Get reminders to stay in touch with your connections"},{icon:Ht,title:"Stay Updated",description:"Get notified when connections update their contact info"},{icon:Ze,title:"Relationship Categories",description:"Organize and categorize your relationships"}].map((D,V)=>s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:s.jsx(D.icon,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-1",children:D.title}),s.jsx("p",{className:"text-sm opacity-80",children:D.description})]})]},V))}),s.jsx("div",{className:"flex justify-center",children:s.jsx(pc,{size:"large",className:"text-center"})})]})})]})}function Si({title:t,description:e,icon:n,children:r,step:i,totalSteps:a,error:o}){return s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-lg mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:["Step ",i," of ",a]}),s.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[Math.round(i/a*100),"%"]})]}),s.jsx("div",{className:"h-2 bg-indigo-100 rounded-full overflow-hidden",children:s.jsx(T.div,{className:"h-full bg-indigo-600 rounded-full",initial:{width:0},animate:{width:`${i/a*100}%`},transition:{duration:.5}})})]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(n,{className:"h-8 w-8 text-indigo-600"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:t}),s.jsx("p",{className:"text-lg text-gray-600",children:e})]}),o&&s.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-600",children:o})}),s.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm",children:r}),s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[...Array(3)].map((c,l)=>s.jsx(T.div,{className:"absolute",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:0},animate:{y:[0,-20,0],scale:[1,1.2,1],opacity:[.2,.5,.2]},transition:{duration:3,repeat:1/0,delay:l*.8},children:l%3===0?s.jsx(dt,{className:"h-6 w-6 text-indigo-200"}):l%3===1?s.jsx(Lt,{className:"h-6 w-6 text-pink-200"}):s.jsx(lg,{className:"h-6 w-6 text-yellow-200"})},l))})]})}function Eb({label:t,icon:e,error:n,type:r,...i}){if(r==="date"){const a=new Date;a.setFullYear(a.getFullYear()-100);const o=new Date;return o.setFullYear(o.getFullYear()-12),s.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(wt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",className:`
              block w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm
              text-gray-900 placeholder-gray-400
              focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500
              ${n?"border-red-300":"border-gray-300"}
              appearance-none
              bg-white
              cursor-pointer
              transition-colors
              hover:border-indigo-300
            `,style:{backgroundImage:"none"},min:a.toISOString().split("T")[0],max:o.toISOString().split("T")[0],...i}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none","aria-hidden":"true",children:s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-sm text-gray-400",children:i.value?new Date(i.value).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):null})})]}),n&&s.jsx(T.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-red-600",children:n}),s.jsx("p",{className:"text-xs text-gray-500",children:"You must be at least 12 years old to use Dislink"})]})}return s.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),s.jsxs("div",{className:"relative",children:[e&&s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(e,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{className:`
            block w-full ${e?"pl-10":"pl-4"} pr-4 py-3 border rounded-lg shadow-sm
            text-gray-900 placeholder-gray-400
            focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500
            ${n?"border-red-300":"border-gray-300"}
          `,...i})]}),n&&s.jsx(T.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-red-600",children:n})]})}function Pn({children:t,loading:e,icon:n=Ot,variant:r="primary",...i}){const a="w-full flex justify-center items-center px-6 py-3 rounded-xl text-base font-medium transition-all duration-200 disabled:opacity-50",o={primary:"border border-transparent shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",secondary:"border border-gray-300 text-gray-700 bg-white hover:bg-gray-50"};return s.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`${a} ${o[r]}`,...i,children:e?s.jsxs(s.Fragment,{children:[s.jsx(og,{className:"animate-spin h-5 w-5 mr-2"}),"Loading..."]}):s.jsxs(s.Fragment,{children:[t,n&&s.jsx(n,{className:"ml-2 h-5 w-5"})]})})}function A$({onSelect:t,onClose:e,selectedPlatforms:n}){const[r,i]=y.useState(""),[a,o]=y.useState(null),c=Object.entries(Un).filter(([d,u])=>!r||u.title.toLowerCase().includes(r.toLowerCase())?!0:Object.entries(u.links).some(([h,m])=>m.label.toLowerCase().includes(r.toLowerCase()))),l=d=>{t(d),e()};return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-h-[80vh] flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Social Platform"}),s.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-500 rounded-full hover:bg-gray-100",children:s.jsx(Se,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search platforms...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:r,onChange:d=>i(d.target.value)})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:a?s.jsxs("div",{className:"p-4",children:[s.jsxs("button",{onClick:()=>o(null),className:"flex items-center text-sm text-indigo-600 mb-4",children:[s.jsx("svg",{className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to categories"]}),s.jsx("div",{className:"space-y-2",children:Object.entries(Un[a].links).filter(([d,u])=>r?u.label.toLowerCase().includes(r.toLowerCase()):!0).map(([d,u])=>{const h=n.includes(d);return s.jsxs("div",{onClick:()=>l(d),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer ${h?"bg-indigo-50 border border-indigo-200":"hover:bg-gray-50 border border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-full mr-3",style:{backgroundColor:`${u.color}20`},children:s.jsx(u.icon,{className:"h-5 w-5",style:{color:u.color}})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:u.label}),s.jsx("p",{className:"text-sm text-gray-500",children:u.placeholder})]})]}),h&&s.jsx("div",{className:"bg-indigo-100 p-1 rounded-full",children:s.jsx(rt,{className:"h-4 w-4 text-indigo-600"})})]},d)})})]}):s.jsx("div",{className:"p-4 space-y-4",children:c.map(([d,u])=>s.jsxs("div",{onClick:()=>o(d),className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:border-gray-300 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${u.color} mr-4`,children:s.jsx(u.icon,{className:`h-6 w-6 ${u.iconColor}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:u.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[Object.keys(u.links).length," platforms"]})]})]}),s.jsx(sg,{className:"h-5 w-5 text-gray-400"})]},d))})})]})}const D$={linkedin:/^https:\/\/(www\.)?linkedin\.com\/in\/[\w-]+\/?$/,github:/^https:\/\/(www\.)?github\.com\/[\w-]+\/?$/,twitter:/^@[\w]{1,15}$|^https:\/\/(www\.)?twitter\.com\/[\w]{1,15}\/?$/,portfolio:/^https?:\/\/.+/,medium:/^@[\w]+$|^https:\/\/(www\.)?medium\.com\/@?[\w]+\/?$/,dribbble:/^https:\/\/(www\.)?dribbble\.com\/[\w-]+\/?$/,instagram:/^@[\w.]+$|^https:\/\/(www\.)?instagram\.com\/[\w.]+\/?$/,facebook:/^https:\/\/(www\.)?facebook\.com\/[\w.]+\/?$/,youtube:/^https:\/\/(www\.)?youtube\.com\/@?[\w-]+\/?$/,threads:/^@[\w.]+$|^https:\/\/(www\.)?threads\.net\/@[\w.]+\/?$/,tiktok:/^@[\w.]+$|^https:\/\/(www\.)?tiktok\.com\/@[\w.]+\/?$/,whatsapp:/^\+\d{1,15}$/,telegram:/^@[\w]+$/,discord:/^[\w]+#\d{4}$/,signal:/^\+\d{1,15}$/,skype:/^[\w\-.]+$/,calendly:/^https:\/\/(www\.)?calendly\.com\/[\w-]+\/?$/,buymeacoffee:/^https:\/\/(www\.)?buymeacoffee\.com\/[\w-]+\/?$/,patreon:/^https:\/\/(www\.)?patreon\.com\/[\w-]+\/?$/,substack:/^[\w-]+\.substack\.com$/},M$={linkedin:t=>t.startsWith("https://")?t:`https://linkedin.com/in/${t.replace("@","")}`,github:t=>t.startsWith("https://")?t:`https://github.com/${t.replace("@","")}`,twitter:t=>t.startsWith("https://")?t:`https://twitter.com/${t.replace("@","")}`,instagram:t=>t.startsWith("https://")?t:`https://instagram.com/${t.replace("@","")}`,facebook:t=>t.startsWith("https://")?t:`https://facebook.com/${t.replace("@","")}`,youtube:t=>t.startsWith("https://")?t:`https://youtube.com/${t.startsWith("@")?"":"@"}${t.replace("@","")}`,medium:t=>t.startsWith("https://")?t:`https://medium.com/${t.startsWith("@")?"":"@"}${t.replace("@","")}`,dribbble:t=>t.startsWith("https://")?t:`https://dribbble.com/${t.replace("@","")}`,threads:t=>t.startsWith("https://")?t:`https://threads.net/${t.startsWith("@")?"":"@"}${t.replace("@","")}`,tiktok:t=>t.startsWith("https://")?t:`https://tiktok.com/${t.startsWith("@")?"":"@"}${t.replace("@","")}`,buymeacoffee:t=>t.startsWith("https://")?t:`https://buymeacoffee.com/${t.replace("@","")}`,patreon:t=>t.startsWith("https://")?t:`https://patreon.com/${t.replace("@","")}`,calendly:t=>t.startsWith("https://")?t:`https://calendly.com/${t.replace("@","")}`,substack:t=>t.includes(".substack.com")?`https://${t}`:`https://${t}.substack.com`};function Tb(t,e){if(!e.trim())return{isValid:!0};const n=D$[t];return n?n.test(e)?{isValid:!0}:{isValid:!1,message:"Invalid format. Please check and try again."}:{isValid:!0}}function I$({platform:t,value:e,onChange:n,onRemove:r,autoFocus:i=!1,isValid:a=!0}){const[o,c]=y.useState(null);let l;for(const[m,f]of Object.entries(Un))if(f.links[t]){l=f.links[t];break}if(!l)return null;const d=l.icon,u=m=>{const f=m.target.value,g=Tb(t,f);g.isValid?c(null):c(g.message||"Invalid format"),n(f)},h=()=>{if(!e.trim())return;const m=M$[t];if(m){const g=m(e);n(g)}const f=Tb(t,e);f.isValid?c(null):c(f.message||"Invalid format")};return s.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`bg-white rounded-lg border ${a?"border-gray-200":"border-red-300"} p-4 relative`,children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg mr-3",style:{backgroundColor:`${l.color}20`},children:s.jsx(d,{className:"h-5 w-5",style:{color:l.color}})}),s.jsx("div",{className:"flex-1",children:s.jsx("h4",{className:"font-medium text-gray-900",children:l.label})}),s.jsx("button",{type:"button",onClick:r,className:"p-1 text-gray-400 hover:text-gray-500 rounded-full hover:bg-gray-100",children:s.jsx(Se,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",value:e,onChange:u,onBlur:h,placeholder:l.placeholder,className:`w-full px-3 py-2 border rounded-lg text-sm ${o||!a?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"}`,autoFocus:i})}),(o||!a)&&s.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 flex items-start",children:[s.jsx(gt,{className:"h-4 w-4 text-red-500 mt-0.5 mr-1.5 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-red-600",children:o||"Invalid format. Please check and try again."})]}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:l.placeholder})]})}function R$({socialLinks:t,onUpdate:e,onNext:n,onBack:r}){const[i,a]=y.useState(!1),[o,c]=y.useState(null),[l,d]=y.useState({}),[u,h]=y.useState(!1);y.useEffect(()=>{const b={};let p=!1;Object.entries(t).forEach(([j,N])=>{const S=N.trim()!==""&&m(j,N);b[j]=S,S&&(p=!0)}),d(b),h(p)},[t]);const m=(b,p)=>{if(!p.trim())return!1;const j={linkedin:/^https:\/\/(www\.)?linkedin\.com\/in\/[\w-]+\/?$/,twitter:/^@[\w]{1,15}$|^https:\/\/(www\.)?twitter\.com\/[\w]{1,15}\/?$/,github:/^https:\/\/(www\.)?github\.com\/[\w-]+\/?$/,instagram:/^@[\w.]+$|^https:\/\/(www\.)?instagram\.com\/[\w.]+\/?$/,facebook:/^https:\/\/(www\.)?facebook\.com\/[\w.]+\/?$/,portfolio:/^https?:\/\/.+/};return j[b]?j[b].test(p):p.trim()!==""},f=b=>{if(t[b]){c(`You've already added ${b}`);return}const p={...t,[b]:""};e(p),a(!1),c(null)},g=b=>{const p={...t};delete p[b],e(p)},w=(b,p)=>{e({...t,[b]:p})},x=()=>{if(!u){c("Please add at least one social platform to continue");return}if(Object.entries(l).some(([j,N])=>!N)){c("Please fix the invalid social links before continuing");return}const p=Object.entries(t).filter(([j,N])=>N.trim()!=="").reduce((j,[N,S])=>({...j,[N]:S}),{});e(p),c(null),n()},v=()=>Object.values(l).filter(Boolean).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx(lt,{className:"h-12 w-12 text-indigo-600"}),s.jsx(dt,{className:"h-6 w-6 text-yellow-500 absolute -top-1 -right-1"})]})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect Your World! 🌎"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Add your social platforms to make it easier for people to discover and connect with you"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Platforms Added"}),s.jsxs("span",{className:"text-sm text-indigo-600 font-semibold",children:[v()," / 3+ recommended"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(T.div,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(v()/3*100,100)}%`},transition:{duration:.5}})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:v()===0?"Start by adding your first platform":v()===1?"Great! Add a couple more for better visibility":"Excellent! You're well connected"})]}),o&&s.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-2",children:[s.jsx(gt,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:o})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Your Social Platforms"}),s.jsx("p",{className:"text-sm text-gray-500",children:v()>0?`${v()} platform${v()>1?"s":""} added`:"No platforms added yet"})]}),s.jsxs("button",{type:"button",onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-medium rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg hover:shadow-xl",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Platform"]})]}),Object.keys(t).length===0?s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-dashed border-indigo-200 rounded-xl p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ze,{className:"h-12 w-12 text-indigo-500"}),s.jsx(It,{className:"h-6 w-6 text-purple-500 absolute -bottom-1 -right-1"})]})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Connect? 🚀"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-sm mx-auto",children:"Add your social platforms to help others discover and connect with you. At least one platform is required to continue."}),s.jsxs("button",{type:"button",onClick:()=>a(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-medium rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg hover:shadow-xl",children:[s.jsx(rr,{className:"h-5 w-5 mr-2"}),"Add Your First Platform"]})]}):s.jsx("div",{className:"space-y-3",children:s.jsx(ne,{children:Object.entries(t).map(([b,p])=>s.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"relative",children:[s.jsx(I$,{platform:b,value:p,onChange:j=>w(b,j),onRemove:()=>g(b),autoFocus:p==="",isValid:l[b]!==!1}),l[b]&&p.trim()!==""&&s.jsx(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(wn,{className:"h-5 w-5 text-green-500"})})]},b))})})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(dt,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"Why add social platforms?"}),s.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[s.jsx("li",{children:"• Help others discover your work and interests"}),s.jsx("li",{children:"• Build credibility and trust with connections"}),s.jsx("li",{children:"• Make it easier for people to reach out"}),s.jsx("li",{children:"• Show your personality and expertise"})]})]})]})}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx(Pn,{variant:"secondary",onClick:r,icon:st,children:"Back"}),s.jsx(Pn,{onClick:x,disabled:!u,className:u?"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600":"",children:u?"Continue":"Add at least 1 platform"})]}),s.jsx(ne,{children:i&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsx(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-lg",onClick:b=>b.stopPropagation(),children:s.jsx(A$,{onSelect:f,onClose:()=>a(!1),selectedPlatforms:Object.keys(t)})})})})]})}function O$({location:t,from:e,onUpdate:n,onNext:r,onBack:i}){const[a,o]=y.useState(t),[c,l]=y.useState(e),[d,u]=y.useState(null),[h,m]=y.useState(null),[f,g]=y.useState(null),[w,x]=y.useState(!1);y.useEffect(()=>{!a&&navigator.geolocation&&(x(!0),navigator.geolocation.getCurrentPosition(async j=>{var N;try{const S=await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${j.coords.latitude}+${j.coords.longitude}&key=f4b0b7ef11msh663d761ebea1d2fp15c6eajsnbb69d673cce0&no_annotations=1`);if(S.ok){const _=await S.json();if(_.results&&_.results.length>0){const E=_.results[0],P=E.components.city||E.components.town||E.components.village||E.components.county;if(P){const C=E.components.country,I=`${P}, ${C}`;o(I);const A={id:`detected-${Date.now()}`,name:P,country:C,countryCode:((N=E.components.country_code)==null?void 0:N.toUpperCase())||"",region:E.components.state||E.components.region||"",latitude:j.coords.latitude,longitude:j.coords.longitude};m(A),n({location:I,from:c})}}}}catch(S){console.error("Error detecting location:",S)}finally{x(!1)}},j=>{console.error("Geolocation error:",j),x(!1)}))},[a,c,n]);const v=()=>{if(u(null),!a.trim()){u("Please enter your current location");return}if(!c.trim()){u("Please enter your hometown");return}n({location:a,from:c}),r()},b=j=>{o(j.name),m(j.location),u(null)},p=j=>{l(j.name),g(j.location),u(null)};return s.jsxs("div",{className:"space-y-6",children:[d&&s.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-2",children:[s.jsx(gt,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:d})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(We,{className:"h-5 w-5 text-indigo-600"}),s.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Where are you currently located?",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),s.jsx(ga,{value:a,onSelect:b,placeholder:w?"Detecting your location...":"Search your current city...",required:!0,errorMessage:d&&!a.trim()?d:void 0,storageKey:"onboarding",fieldName:"location",disabled:w,className:"w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5 text-indigo-600"}),s.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Where are you from originally?",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),s.jsx(ga,{value:c,onSelect:p,placeholder:"Search your hometown...",required:!0,errorMessage:d&&!c.trim()?d:void 0,storageKey:"onboarding",fieldName:"from",className:"w-full"})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(We,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Why we ask for your location?"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Connect with people in your area"}),s.jsx("li",{children:"• Find local events and opportunities"}),s.jsx("li",{children:"• Get relevant local recommendations"}),s.jsx("li",{children:"• Build meaningful relationships nearby"})]})]})]})})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx(Pn,{variant:"secondary",onClick:i,icon:st,children:"Back"}),s.jsx(Pn,{onClick:v,disabled:!a.trim()||!c.trim(),children:"Continue"})]})]})}function L$({onVerified:t,onError:e,isVerified:n=!1}){const[r,i]=y.useState(!1),[a,o]=y.useState(null),[c,l]=y.useState(null),[d,u]=y.useState(!1),[h,m]=y.useState(!1),f=y.useRef(null);y.useRef(null),y.useRef(null);const g=async v=>new Promise(b=>{const p=new Image;p.onload=()=>{const j=document.createElement("canvas"),N=j.getContext("2d");if(!N){b(!1);return}j.width=p.width,j.height=p.height,N.drawImage(p,0,0);const _=N.getImageData(0,0,j.width,j.height).data;let E=0,P=0;for(let A=0;A<_.length;A+=4){const R=_[A],F=_[A+1],H=_[A+2];R>95&&F>40&&H>20&&Math.max(R,F,H)-Math.min(R,F,H)>15&&Math.abs(R-F)>15&&R>F&&R>H&&E++,P++}const I=E/P>.1;b(I)},p.src=v}),w=async v=>{var p;const b=(p=v.target.files)==null?void 0:p[0];if(b){i(!0),o(null),e(""),u(!1);try{if(!b.type.startsWith("image/"))throw new Error("Please upload an image file");if(b.size>5*1024*1024)throw new Error("Image size should be less than 5MB");const j=new Image,N=new FileReader;N.onload=async()=>{typeof N.result=="string"&&(j.src=N.result,j.onload=async()=>{try{if(m(!0),!await g(N.result))throw new Error("No face detected. Please upload a clear photo with your face visible.");l(N.result),u(!0),t(N.result),o(null),e("")}catch(S){o(S instanceof Error?S.message:"Failed to process image"),e(S instanceof Error?S.message:"Failed to process image"),l(null),u(!1)}finally{i(!1),m(!1)}},j.onerror=()=>{o("Failed to load image"),e("Failed to load image"),i(!1),l(null),u(!1)})},N.onerror=()=>{throw new Error("Failed to read image file")},N.readAsDataURL(b)}catch(j){o(j instanceof Error?j.message:"An error occurred while processing the image"),e(j instanceof Error?j.message:"An error occurred while processing the image"),i(!1),l(null),u(!1)}f.current&&(f.current.value="")}},x=()=>{l(null),u(!1),t("")};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(pl,{className:"h-5 w-5 text-indigo-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Profile Photo Required"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Please upload a clear photo of your face. This photo will be visible to your connections."})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ne,{children:c?s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c,alt:"Profile preview",className:"h-48 w-48 rounded-xl object-cover mx-auto"}),d&&s.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-1 bg-green-100 px-2 py-1 rounded-full",children:[s.jsx(wn,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Face Detected"})]}),s.jsx("button",{onClick:x,className:"absolute top-2 right-2 p-1 bg-red-100 rounded-full hover:bg-red-200 transition-colors",title:"Remove photo",children:s.jsx(Se,{className:"h-4 w-4 text-red-600"})})]}),s.jsxs("button",{onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},className:"mt-4 w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(lf,{className:"h-4 w-4 mr-2"}),"Change Photo"]})]}):s.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},disabled:r,className:"flex-1 h-48 w-48 mx-auto rounded-xl bg-gray-100 flex flex-col items-center justify-center hover:bg-gray-50 border-2 border-dashed border-gray-300 hover:border-gray-400 transition-colors",children:r||h?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:h?"Detecting face...":"Processing..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(lf,{className:"h-8 w-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Upload Photo"}),s.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Face required"})]})})}),s.jsx("input",{ref:f,type:"file",accept:"image/*",capture:"user",onChange:w,className:"hidden"})]}),a&&s.jsxs("div",{className:"flex items-start space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[s.jsx(gt,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm",children:a})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Photo Requirements:"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Clear photo of your face"}),s.jsx("li",{children:"• Good lighting"}),s.jsx("li",{children:"• Face must be clearly visible"}),s.jsx("li",{children:"• Can be taken with phone camera or uploaded"})]})]})]})}async function BS(t){try{const e=localStorage.getItem("pending_qr_connection");if(!e){k.info("No pending QR connection found");return}const n=JSON.parse(e);k.info("Processing pending QR connection:",{userId:t,connectionData:n}),n.invitationData&&await F$(t,n.invitationData),n.qrConnectionData&&await $$(t,n.qrConnectionData),localStorage.removeItem("pending_qr_connection"),localStorage.removeItem("qr_registration_data"),k.info("QR connection completed successfully")}catch(e){throw k.error("Error completing QR connection:",e),e}}async function F$(t,e){try{await u$(e.invitationId,t),await zS(e.senderUserId,t,"invitation_accepted",{invitationId:e.invitationId,scanData:e.scanData}),k.info("Email invitation connection completed:",{invitationId:e.invitationId,userId:t})}catch(n){throw k.error("Error handling email invitation connection:",n),n}}async function $$(t,e){try{const{scannedProfile:n,scanData:r}=e;await VS(n.userId,t,{firstMeetingData:r,connectionMethod:"qr_scan_direct"}),await zS(n.userId,t,"qr_scan_connection",{scanData:r,connectionMethod:"qr_scan_direct"}),k.info("Direct QR scan connection completed:",{scannedUserId:n.userId,newUserId:t})}catch(n){throw k.error("Error handling direct QR scan connection:",n),n}}async function zS(t,e,n,r){try{const{data:i,error:a}=await L.from("profiles").select("first_name, last_name, profile_image, job_title, company").eq("id",e).single();if(a)throw a;const o=n==="invitation_accepted"?"🎉 Connection Accepted!":"🤝 New QR Connection!",c=n==="invitation_accepted"?`${i.first_name} ${i.last_name} joined Dislink and accepted your connection!`:`${i.first_name} ${i.last_name} joined Dislink through your QR code!`,{error:l}=await L.from("notifications").insert({user_id:t,type:"connection",title:o,message:c,data:{connectedUserId:e,connectionType:n,metadata:r,connectedUserProfile:{name:`${i.first_name} ${i.last_name}`,profileImage:i.profile_image,jobTitle:i.job_title,company:i.company}},read:!1,created_at:new Date().toISOString()});if(l)throw l;k.info("Connection notification created:",{recipientUserId:t,connectedUserId:e,type:n})}catch(i){k.error("Error creating connection notification:",i)}}function V$({isOpen:t,onClose:e,onSuccess:n,onSkip:r}){const{user:i}=Ft(),[a,o]=y.useState(""),[c,l]=y.useState(""),[d,u]=y.useState(!1),[h,m]=y.useState(null),[f,g]=y.useState("input"),[w,x]=y.useState(null),v=async j=>{if(j.preventDefault(),!a.trim()||!c.trim()){m("Please enter both codes");return}u(!0),m(null),g("validating");try{const N=await US(a.trim(),c.trim());if(!N)throw new Error("Invalid or expired invitation codes. Please check your codes and try again.");const S={type:"email_invitation",invitationData:N,userEmail:(i==null?void 0:i.email)||"",completedAt:new Date().toISOString()};localStorage.setItem("pending_qr_connection",JSON.stringify(S)),i!=null&&i.id&&(await BS(i.id),x({connectedUser:N.senderUserId,invitationId:N.invitationId,scanData:N.scanData}),g("success"),n&&n(S),k.info("Code invitation successfully processed",{invitationId:N.invitationId,userId:i.id}))}catch(N){k.error("Error processing invitation codes:",N),m(N instanceof Error?N.message:"Failed to process invitation codes"),g("input")}finally{u(!1)}},b=()=>{k.info("User skipped code invitation entry"),r&&r(),e()},p=()=>{f==="success"?e():b()};return s.jsx(ne,{children:t&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:j=>{j.target===j.currentTarget&&p()},children:s.jsxs(T.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-full flex items-center justify-center",children:s.jsx(oT,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:f==="success"?"Connection Complete!":"Code Invitation"}),s.jsx("p",{className:"text-sm text-gray-500",children:f==="success"?"You're now connected!":"Connect with someone who invited you"})]})]}),f!=="validating"&&s.jsx("button",{onClick:p,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(Se,{className:"h-5 w-5"})})]}),s.jsxs(ne,{mode:"wait",children:[f==="input"&&s.jsxs(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl border border-purple-100",children:[s.jsx(Gt,{className:"h-8 w-8 text-purple-600 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"If someone scanned your QR code and sent you an email invitation, you'll find two codes in that email. Enter them below to automatically connect!"})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invitation ID"}),s.jsx("input",{type:"text",value:a,onChange:j=>o(j.target.value),placeholder:"e.g., inv_abc123...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent font-mono text-sm",disabled:d})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Connection Code"}),s.jsx("input",{type:"text",value:c,onChange:j=>l(j.target.value),placeholder:"e.g., conn_xyz789...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent font-mono text-sm",disabled:d})]}),h&&s.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[s.jsx(gt,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:h})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:b,className:"flex-1 py-3 px-4 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors font-medium",disabled:d,children:"Skip for now"}),s.jsx("button",{type:"submit",disabled:d||!a.trim()||!c.trim(),className:"flex-1 bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 disabled:from-gray-300 disabled:to-gray-300 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2",children:d?s.jsx(md,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Ze,{className:"h-4 w-4"}),"Connect"]})})]})]})]},"input"),f==="validating"&&s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(md,{className:"h-8 w-8 text-white animate-spin"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Validating Invitation..."}),s.jsx("p",{className:"text-gray-600",children:"Processing your codes and establishing the connection"})]},"validating"),f==="success"&&s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-4",children:[s.jsx(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:10},className:"w-16 h-16 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rt,{className:"h-8 w-8 text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connection Successful! 🎉"}),s.jsx("p",{className:"text-gray-600 mb-6 text-sm leading-relaxed",children:"You've been automatically connected with the person who invited you. You can find them in your contacts and start building your relationship!"}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100 mb-6",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-700",children:[s.jsx(dt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"First connection established!"})]})}),s.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(Ze,{className:"h-4 w-4"}),"Continue to Dashboard"]})]},"success")]})]})})})}const Pb=["welcome","basics","work","location","photo","social","complete"];function U$(t){const e=new Date(t),n=new Date;let r=n.getFullYear()-e.getFullYear();const i=n.getMonth()-e.getMonth();return(i<0||i===0&&n.getDate()<e.getDate())&&r--,r}function B$(){var V,Y;const t=Ke(),{user:e,refreshUser:n}=Ft(),[r,i]=y.useState("welcome"),[a,o]=y.useState(!1),[c,l]=y.useState(null),[d,u]=y.useState(!1),[h,m]=y.useState(!1),[f,g]=y.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",birthday:"",jobTitle:(e==null?void 0:e.jobTitle)||"",company:(e==null?void 0:e.company)||"",industry:(e==null?void 0:e.industry)||void 0,location:((V=e==null?void 0:e.bio)==null?void 0:V.location)||"",from:((Y=e==null?void 0:e.bio)==null?void 0:Y.from)||"",profileImage:(e==null?void 0:e.profileImage)||"",socialLinks:(e==null?void 0:e.socialLinks)||{}}),w=Pb.indexOf(r)+1,x=Pb.length;y.useEffect(()=>{async function U(){try{const{data:{session:Q}}=await L.auth.getSession();if(!Q){t("/app/login");return}const{data:ie}=await L.from("profiles").select("onboarding_complete").eq("id",Q.user.id).single();ie!=null&&ie.onboarding_complete&&t("/app")}catch(Q){console.error("Error checking onboarding access:",Q),t("/app/login")}}U()},[]),y.useEffect(()=>{},[]),y.useEffect(()=>{if(r!=="complete"){const U={step:r,formData:f};localStorage.setItem("onboarding_progress",JSON.stringify(U))}},[r,f]);const v=U=>{g({...f,location:U.location,from:U.from})},b=async()=>{o(!0),l(null);try{const{data:{session:U}}=await L.auth.getSession();if(!U)throw new Error("No active session");await OS({firstName:f.firstName,lastName:f.lastName,jobTitle:f.jobTitle,company:f.company,industry:f.industry,profileImage:f.profileImage,socialLinks:f.socialLinks,bio:{location:f.location,from:f.from,about:""},onboardingComplete:!0,onboardingCompletedAt:new Date}),localStorage.removeItem("onboarding_progress"),i("complete")}catch(U){console.error("Onboarding completion error:",U),l(U instanceof Error?U.message:"Failed to complete onboarding")}finally{o(!1)}},p=async()=>{try{await n(),m(!0)}catch(U){console.error("Error completing onboarding:",U),l("Failed to complete onboarding")}},j=U=>{console.log("Code invitation successful:",U),t("/app")},N=()=>{t("/app")},S=()=>{u(!0)},_=async()=>{try{await L.auth.signOut(),localStorage.removeItem("onboarding_progress"),t("/app/login")}catch(U){console.error("Error during exit:",U),t("/")}},E=U=>{g(Q=>({...Q,profileImage:U})),l(null)},P=U=>{l(U)},C=()=>f.birthday?U$(f.birthday)<12?(l("You must be at least 12 years old to use this app"),!1):!0:(l("Birthday is required"),!1),I=()=>{l(null),C()&&i("work")},A=U=>{g(Q=>({...Q,socialLinks:U}))},R=()=>s.jsx(Si,{title:"Welcome to Dislink! 🎉",description:"Let's get your profile set up in just a few steps",icon:dt,step:w,totalSteps:x,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("p",{className:"text-gray-600",children:"We're excited to help you build meaningful connections! This quick setup will help others find and connect with you."}),s.jsx(Pn,{onClick:()=>i("basics"),children:"Let's Get Started"})]})}),F=()=>s.jsx(Si,{title:"Nice to meet you! 👋",description:"Tell us a bit more about yourself",icon:Ct,step:w,totalSteps:x,error:c,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ct,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Name"})]}),s.jsxs("p",{className:"text-gray-900 font-medium",children:[f.firstName," ",f.lastName]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Gt,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Email"})]}),s.jsx("p",{className:"text-gray-900 font-medium",children:f.email})]})]}),s.jsxs("div",{children:[s.jsx(Eb,{label:"When's your birthday?",icon:wt,type:"date",value:f.birthday,onChange:U=>g({...f,birthday:U.target.value}),required:!0,max:new Date().toISOString().split("T")[0]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You must be at least 12 years old to use Dislink"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(Pn,{variant:"secondary",onClick:()=>i("welcome"),icon:st,children:"Back"}),s.jsx(Pn,{onClick:I,children:"Continue"})]})]})}),H=()=>s.jsx(Si,{title:"What do you do? 💼",description:"Tell us about your work and interests",icon:zn,step:w,totalSteps:x,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(T2,{value:f.industry,onChange:U=>g({...f,industry:U}),required:!0}),s.jsx(P2,{value:f.jobTitle,onChange:U=>g({...f,jobTitle:U}),industry:f.industry,required:!0}),s.jsx(Eb,{label:"Company (optional)",icon:$n,placeholder:"Where do you work?",value:f.company,onChange:U=>g({...f,company:U.target.value})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(Pn,{variant:"secondary",onClick:()=>i("basics"),icon:st,children:"Back"}),s.jsx(Pn,{onClick:()=>i("location"),disabled:!f.jobTitle,children:"Continue"})]})]})}),K=()=>s.jsx(Si,{title:"Where in the world? 🌎",description:"Tell us where you're based",icon:lt,step:w,totalSteps:x,error:c,children:s.jsx(O$,{location:f.location,from:f.from,onUpdate:v,onNext:()=>i("photo"),onBack:()=>i("work")})}),O=()=>s.jsx(Si,{title:"Show us your smile! 📸",description:"Add a profile photo with your face clearly visible (required)",icon:pl,step:w,totalSteps:x,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(L$,{onVerified:E,onError:P}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(Pn,{variant:"secondary",onClick:()=>i("location"),icon:st,children:"Back"}),s.jsx(Pn,{onClick:()=>i("social"),disabled:!f.profileImage,children:"Continue"})]})]})}),M=()=>s.jsx(Si,{title:"Connect your world! 🌎",description:"Add your social profiles to make connecting easier",icon:lt,step:w,totalSteps:x,error:c,children:s.jsx(R$,{socialLinks:f.socialLinks,onUpdate:A,onNext:b,onBack:()=>i("photo")})}),D=()=>s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center",children:s.jsxs("div",{className:"bg-gradient-to-br from-white to-indigo-50 p-8 rounded-2xl shadow-2xl border border-indigo-100",children:[s.jsx(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:10},className:"mx-auto w-24 h-24 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center mb-8 shadow-lg",children:s.jsx(rt,{className:"h-12 w-12 text-white"})}),s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to Dislink! 🎉"}),s.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Your profile is all set up and ready to go. You're now part of a community of amazing people building meaningful connections!"})]}),s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-xl border border-indigo-100",children:[s.jsx("h3",{className:"font-semibold text-indigo-900 mb-4 text-lg",children:"What's Next? 🚀"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-indigo-600 font-semibold text-sm",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-indigo-900 mb-1",children:"Explore Your Dashboard"}),s.jsx("p",{className:"text-sm text-indigo-700",children:"Discover your personalized experience and start connecting"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-purple-600 font-semibold text-sm",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-purple-900 mb-1",children:"Connect with People"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Find and connect with people you know and want to meet"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-green-600 font-semibold text-sm",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"Share Your Profile"}),s.jsx("p",{className:"text-sm text-green-700",children:"Share your unique profile link with others"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-yellow-600 font-semibold text-sm",children:"4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:"Build Relationships"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Grow your network and build meaningful connections"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:"100%"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Profile Complete"})]}),s.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"∞"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Connections Possible"})]}),s.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.9},className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"24/7"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Always Available"})]})]}),s.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:s.jsxs(Pn,{onClick:p,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-semibold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(dt,{className:"h-5 w-5 mr-2"}),"Start Your Journey"]})})]})]})});return s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[r!=="complete"&&s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"absolute top-4 right-4 p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(Se,{className:"h-5 w-5"})}),s.jsx(ne,{children:d&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Exit Onboarding?"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"For security reasons, you'll be signed out and will need to sign in again to continue. Your progress will be saved."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),s.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Exit & Sign Out"})]})]})})}),s.jsxs(ne,{mode:"wait",children:[r==="welcome"&&R(),r==="basics"&&F(),r==="work"&&H(),r==="location"&&K(),r==="photo"&&O(),r==="social"&&M(),r==="complete"&&D()]}),s.jsx(V$,{isOpen:h,onClose:()=>m(!1),onSuccess:j,onSkip:N})]})})}function Ab(){const t=new Date("2024-01-01").getTime(),e=new Date().getTime(),n=Math.floor((e-t)/(1e3*60*60*24)),r=1e3,i=500,a=Math.random()*100,o=r+n*i+a;return Math.floor(o)}function z$({onSuccess:t}){const[e,n]=y.useState(Ab()),[r,i]=y.useState(""),[a,o]=y.useState(!1),[c,l]=y.useState(!1),[d,u]=y.useState(null),[h,m]=y.useState(!1),[f,g]=y.useState([]),[w,x]=y.useState(!1);ft.useEffect(()=>{const j=setInterval(()=>{n(Ab())},6e4);return()=>clearInterval(j)},[]),y.useEffect(()=>{const j=["Sarah","John","Maria","Alex","Emma","David","Lisa","Mike","Anna","James"],N=["Product Designer","Software Engineer","Marketing Lead","Startup Founder","Community Manager","UX Researcher","Business Developer","Product Manager","Content Creator","Data Scientist","Student","Entrepreneur","Freelancer","Creative Professional","Service Provider"],S=["San Francisco","London","Berlin","New York","Toronto","Amsterdam","Singapore","Sydney","Paris","Tokyo"],_=setInterval(()=>{const E=j[Math.floor(Math.random()*j.length)],P=N[Math.floor(Math.random()*N.length)],C=S[Math.floor(Math.random()*S.length)];g(I=>[{name:E,role:P,location:C},...I.slice(0,2)]),m(!0),setTimeout(()=>m(!1),1e3)},8e3);return()=>clearInterval(_)},[]);const v=async j=>{j.preventDefault(),o(!0),u(null);try{console.log("Waitlist submission:",{email:r,timestamp:new Date().toISOString(),source:"waitlist-form"});const N=new FormData;N.append("email",r),await fetch("https://script.google.com/macros/s/AKfycbwKKvizfbtw_tPGVSkEm1bNfZ39EB-PHJYZlCDGQzn4gleqgf-Ag29Q-L6snPXQ_o8V/exec",{method:"POST",mode:"no-cors",body:N}),l(!0),i(""),t==null||t(),console.log("Waitlist submission successful:",{email:r,timestamp:new Date().toISOString()})}catch(N){console.error("Submission error:",N),u("Failed to join waitlist. Please try again.")}finally{o(!1)}},b=e.toLocaleString(),p={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5}},exit:{opacity:0,y:-20}};return s.jsxs("div",{className:"max-w-md w-full space-y-6",children:[s.jsx(ne,{mode:"wait",children:c?s.jsx(T.div,{variants:p,initial:"initial",animate:"animate",exit:"exit",className:"bg-white p-6 rounded-xl shadow-md border border-green-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(wn,{className:"h-8 w-8 text-green-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You're on the list!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Thanks for joining our waitlist. We'll notify you when Dislink is ready for you."}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm",children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),"Email confirmation sent"]})})]})},"success"):s.jsxs(T.form,{onSubmit:v,className:"relative",variants:p,initial:"initial",animate:"animate",exit:"exit",children:[s.jsxs("div",{className:`relative transition-all duration-300 ${w?"transform scale-[1.02]":""}`,children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full opacity-20 blur ${w?"opacity-30":""}`}),s.jsxs("div",{className:"relative",children:[s.jsx(Gt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:r,onChange:j=>i(j.target.value),onFocus:()=>x(!0),onBlur:()=>x(!1),className:"block w-full pl-12 pr-36 py-4 border-2 border-gray-200 rounded-full focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 transition-all duration-200 text-gray-900 placeholder-gray-400 bg-white shadow-sm",required:!0}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(T.button,{type:"submit",disabled:a||!r.trim(),whileHover:{scale:1.05},whileTap:{scale:.95},style:{transformOrigin:"center"},className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full shadow-md hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-all duration-200",children:a?s.jsx("div",{className:"flex items-center",children:s.jsx(og,{className:"animate-spin h-4 w-4 text-white"})}):s.jsxs("div",{className:"flex items-center",children:["Join Waitlist",s.jsx(Ot,{className:"ml-2 h-4 w-4"})]})})})]})]}),d&&s.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 flex items-center text-sm text-red-600 bg-red-50 p-2 rounded-lg",children:[s.jsx(gt,{className:"h-4 w-4 mr-2"}),d]})]},"form")}),s.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-wrap justify-center gap-4 text-sm",children:[s.jsx("div",{className:"bg-white px-4 py-2 rounded-full shadow-sm border border-gray-100 flex items-center",children:s.jsxs(T.div,{className:"flex items-center",animate:h?{scale:[1,1.2,1]}:{},transition:{duration:.5},children:[s.jsx(Ze,{className:"h-4 w-4 mr-2 text-indigo-500"}),s.jsxs("span",{className:"text-gray-700 font-medium",children:[b.toLocaleString()," people waiting"]})]})}),s.jsxs("div",{className:"bg-white px-4 py-2 rounded-full shadow-sm border border-gray-100 flex items-center",children:[s.jsx(qe,{className:"h-4 w-4 mr-2 text-indigo-500"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Limited spots available"})]})]}),s.jsxs(ne,{children:[f.length>0&&s.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-center text-sm",children:s.jsxs("div",{className:"bg-white px-4 py-2 rounded-full shadow-sm border border-indigo-100 flex items-center",children:[s.jsx(dt,{className:"h-4 w-4 mr-2 text-indigo-500"}),s.jsxs("span",{className:"text-indigo-700 font-medium",children:[f[0].name," from ",f[0].location," just joined!"]})]})}),d&&s.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center text-sm text-red-600 bg-red-50 p-2 rounded-lg",children:[s.jsx(gt,{className:"h-4 w-4 mr-2"}),d]})]})]})}function Db(){console.log("🎯 Waitlist component rendering...");const t=Ke();Br();const[e,n]=y.useState(0),[r,i]=y.useState(!1),[a,o]=y.useState(""),[c,l]=y.useState(""),[d,u]=y.useState(!1),[h,m]=y.useState(""),[f,g]=y.useState(!1),[w,x]=y.useState(null);console.log("🎯 Waitlist component state initialized"),y.useEffect(()=>{const E=new URLSearchParams(window.location.search),P=E.get("code"),C=E.get("token_hash");if(E.get("type"),P||C){console.log("🔄 Email confirmation detected on homepage, redirecting..."),window.location.href=`/confirmed${window.location.search}`;return}},[]);const v=()=>{console.log("🎯 Scroll to waitlist form called");const E=document.getElementById("waitlist-form");E&&(E.scrollIntoView({behavior:"smooth",block:"center"}),E.classList.add("highlight-form"),setTimeout(()=>{E.classList.remove("highlight-form")},2e3))},b=()=>{t("/app/login")},p=()=>{t("/app/register")},j=()=>{i(!0)},N=E=>{E.preventDefault(),console.log("Tester login attempt:",{email:a,passcode:c}),t("/app/login")},S=async E=>{E.preventDefault(),g(!0),x(null);try{console.log("Waitlist submission:",{email:h,timestamp:new Date().toISOString(),source:"hero-form"});const P=new FormData;P.append("email",h),await fetch("https://script.google.com/macros/s/AKfycbwKKvizfbtw_tPGVSkEm1bNfZ39EB-PHJYZlCDGQzn4gleqgf-Ag29Q-L6snPXQ_o8V/exec",{method:"POST",mode:"no-cors",body:P}),u(!0),m(""),console.log("Waitlist submission successful:",{email:h,timestamp:new Date().toISOString()})}catch(P){console.error("Submission error:",P),x("Failed to join waitlist. Please try again.")}finally{g(!1)}},_=[{quote:"Dislink has completely transformed how I manage my relationships. I never forget important details about connections anymore.",author:"A.M., Marketing Professional",company:"Tech Innovations Inc."},{quote:"The ability to categorize contacts into relationship circles has been a game-changer for prioritizing my relationship building efforts.",author:"J.D., Startup Founder",company:"Growth Ventures"},{quote:"I used to lose track of people I met at conferences. Now with Dislink, I can easily remember where and when we connected.",author:"S.K., Business Developer",company:"Global Solutions"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cosmic-neutral via-white to-cosmic-neutral flex flex-col",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-cosmic-neutral/80 backdrop-blur-md shadow-sm",children:s.jsx(T.nav,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs(T.div,{className:"flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx("div",{className:"cosmic-gradient p-2 rounded-lg",children:s.jsx(It,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"ml-2 text-xl font-bold text-cosmic-primary",children:"Dislink"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/story"),className:"text-cosmic-primary hover:text-cosmic-secondary font-medium text-sm transition-colors",children:"Our Story"}),s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"text-cosmic-primary hover:text-cosmic-secondary font-medium text-sm transition-colors",children:"Sign In"}),s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"px-4 py-2 border border-transparent rounded-full shadow-sm text-sm font-medium text-white cosmic-gradient hover:cosmic-glow transition-all duration-200",children:"Get Started"})]})]})})}),s.jsx("div",{className:"flex-1 flex items-center justify-center pt-24 pb-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},id:"waitlist-form",className:"text-center relative z-10",children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none -z-10",children:s.jsxs("div",{className:"absolute inset-0",children:[s.jsx(T.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 cosmic-gradient-radial opacity-20 rounded-full cosmic-float",style:{animationDelay:"0s"}}),s.jsx(T.div,{className:"absolute top-1/3 right-1/4 w-80 h-80 cosmic-gradient-soft opacity-15 rounded-full cosmic-float",style:{animationDelay:"2s"}}),s.jsx(T.div,{className:"absolute top-1/6 right-1/3 w-4 h-4 bg-cosmic-secondary/40 rounded-full cosmic-float",style:{animationDelay:"1s"}}),s.jsx(T.div,{className:"absolute bottom-1/3 left-1/6 w-6 h-6 bg-cosmic-accent/30 rotate-45 cosmic-scale",style:{animationDelay:"3s"}}),s.jsx(T.div,{className:"absolute top-2/3 right-1/6 w-3 h-3 bg-cosmic-pop/50 rounded-full cosmic-float",style:{animationDelay:"4s"}}),s.jsx(T.div,{className:"absolute top-1/4 left-1/5 w-2 h-2 bg-cosmic-pop/30 rounded-full cosmic-scale",style:{animationDelay:"5s"}}),s.jsx(T.div,{className:"absolute bottom-1/4 right-1/5 w-5 h-5 bg-cosmic-secondary/25 rotate-45 cosmic-float",style:{animationDelay:"2.5s"}}),s.jsx(T.div,{className:"absolute top-1/2 left-1/8 w-3 h-3 bg-cosmic-accent/35 rounded-full cosmic-scale",style:{animationDelay:"1.5s"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-white/5 to-white/20"})]})}),s.jsx(T.div,{className:"flex justify-center mb-6",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},children:s.jsx("div",{className:"p-5 cosmic-gradient rounded-2xl shadow-lg cosmic-glow cosmic-scale transform hover:scale-105 transition-transform duration-200",children:s.jsx(It,{className:"h-16 w-16 text-white"})})}),s.jsxs("div",{className:"relative",children:[s.jsxs(T.h1,{className:"text-5xl sm:text-6xl font-bold mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:["Your Network, ",s.jsx("br",{className:"hidden sm:inline"}),s.jsx("span",{className:"text-cosmic-secondary",children:"Reimagined"})]}),s.jsx(T.p,{className:"text-xl text-cosmic-primary/80 max-w-2xl mx-auto mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"Dislink helps you follow up, stay in touch, and grow your meaningful relationships effortlessly."})]}),s.jsx(T.div,{className:"flex justify-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:s.jsx(z$,{onSuccess:()=>u(!0)})})]})})}),s.jsxs("div",{className:"py-20 bg-cosmic-neutral relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-cosmic-secondary/10 rounded-full opacity-50 blur-3xl"}),s.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-cosmic-accent/10 rounded-full opacity-50 blur-3xl"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"text-center mb-16",children:s.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[s.jsx("h2",{className:"text-4xl font-bold text-cosmic-primary mb-4",children:"How It Works"}),s.jsx("p",{className:"text-xl text-cosmic-primary/70 max-w-3xl mx-auto px-4",children:"Dislink makes relationship building simple, meaningful, and effective with these powerful features"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 relative",children:[{icon:fr,title:"Scan Contacts",description:"Save new contacts instantly using QR codes. Share your digital profile with a single scan and never lose a connection again."},{icon:qe,title:"Smart Follow-Ups",description:"Get notified when it's time to reconnect. Our intelligent system reminds you to nurture important relationships at the right time."},{icon:We,title:"Connection Map",description:"Track who you met and where. Never forget the context of your connections with location and event tracking."}].map((E,P)=>{const C=E.icon;return s.jsxs(T.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:P*.2},whileHover:{y:-8,boxShadow:"0 15px 30px -5px rgba(79, 70, 229, 0.15), 0 10px 10px -5px rgba(79, 70, 229, 0.04)"},className:"bg-white p-8 rounded-2xl shadow-lg border border-indigo-100 transition-all duration-300 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-indigo-50 rounded-full opacity-50"}),s.jsxs("div",{className:"flex flex-col items-center text-center relative z-10",children:[s.jsx("div",{className:"p-5 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-2xl mb-6 shadow-md transform transition-transform duration-300 hover:rotate-3",children:s.jsx(C,{className:"h-10 w-10 text-indigo-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:E.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:E.description})]})]},P)})})]})]}),s.jsxs("div",{className:"py-20 bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-20 bg-gradient-to-b from-white to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-20 bg-gradient-to-t from-white to-transparent"}),s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-indigo-200 rounded-full opacity-20 blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 rounded-full opacity-20 blur-3xl"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx(T.h2,{initial:{opacity:0,y:20,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0},transition:{duration:.6},className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Built for Mobile, Born for Connection."})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[s.jsxs("div",{className:"w-full md:w-1/2 flex justify-center relative",children:[s.jsxs(T.div,{initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},transition:{duration:.7,type:"spring",stiffness:100},viewport:{once:!0},className:"relative z-10",children:[s.jsxs("div",{className:"relative w-64 h-[500px] sm:w-72 sm:h-[560px] bg-gray-900 rounded-[3rem] border-[14px] border-gray-900 shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-1/3 h-6 bg-gray-900 rounded-b-xl z-10",children:s.jsx("div",{className:"absolute top-1.5 left-1/2 transform -translate-x-1/2 w-1/3 h-1 bg-gray-800 rounded-full"})}),s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-50 to-purple-50 rounded-[2rem] overflow-hidden",children:s.jsx("img",{src:"https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?auto=format&fit=crop&w=800&q=80",alt:"Dislink Mobile App",className:"w-full h-full object-cover"})})]}),s.jsx(T.div,{className:"absolute -right-8 top-1/2 bg-white p-3 rounded-xl shadow-lg border border-indigo-100",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},animate:{y:[0,-10,0]},transition:{delay:.4,repeat:1/0,duration:3},children:s.jsx(fr,{className:"h-8 w-8 text-indigo-600"})}),s.jsx(T.div,{className:"absolute -left-8 top-1/3 bg-white p-3 rounded-xl shadow-lg border border-red-100",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},animate:{y:[0,10,0]},transition:{delay:1,repeat:1/0,duration:4},children:s.jsx(We,{className:"h-8 w-8 text-red-500"})}),s.jsx(T.div,{className:"absolute -right-12 bottom-1/4 bg-white p-3 rounded-xl shadow-lg border border-amber-100",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},animate:{y:[0,-8,0]},transition:{delay:.5,repeat:1/0,duration:3.5},children:s.jsx(Ht,{className:"h-8 w-8 text-amber-500"})})]}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-indigo-300/30 to-purple-300/30 rounded-full blur-3xl -z-10"})]}),s.jsx(T.div,{className:"w-full md:w-1/2 relative z-10",initial:{opacity:0,x:40},whileInView:{opacity:1,x:0},transition:{duration:.7,type:"spring",stiffness:100},viewport:{once:!0},children:s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-indigo-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"While we finalize the mobile version, join the waitlist and shape the future of Dislink."}),s.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Our mobile app is designed to make relationship building effortless. Scan QR codes to connect, track meeting locations automatically, and never forget important details about your connections."}),s.jsx("div",{className:"space-y-5 mb-8",children:[{icon:fr,text:"Scan QR codes to connect instantly with new contacts"},{icon:We,text:"Track meeting locations automatically"},{icon:qe,text:"Never forget important details about your connections"}].map((E,P)=>s.jsxs(T.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:P*.1+.2},className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(E.icon,{className:"h-4 w-4 text-indigo-600"})}),s.jsx("p",{className:"text-gray-700 font-medium",children:E.text})]},P))}),s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,className:"w-full inline-flex justify-center items-center px-6 py-3 border border-transparent rounded-full shadow-lg text-base font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 transition-all duration-200",children:["Join Waitlist",s.jsx(Ot,{className:"ml-2 h-5 w-5"})]})]})})]})]})]}),s.jsxs("div",{className:"py-20 bg-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-20 bg-gradient-to-b from-gray-50 to-transparent"}),s.jsx("div",{className:"absolute -top-40 -left-40 w-96 h-96 bg-indigo-100 rounded-full opacity-30 blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-purple-100 rounded-full opacity-30 blur-3xl"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[s.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"What Our Early Testers Say"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"Hear from people who are already transforming their relationship building experience"})]})}),s.jsx("div",{className:"relative mt-16",children:s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 px-4",children:_.map((E,P)=>s.jsx(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2*P,duration:.5},viewport:{once:!0},whileHover:{y:-8,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"flex-1",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-indigo-100 h-full flex flex-col relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-12 -right-12 w-24 h-24 bg-indigo-100 rounded-full opacity-50"}),s.jsx("div",{className:"absolute -bottom-12 -left-12 w-24 h-24 bg-purple-100 rounded-full opacity-50"}),s.jsx("div",{className:"mb-6 text-indigo-500 relative z-10 flex justify-center",children:s.jsx("div",{className:"p-3 bg-indigo-100 rounded-full",children:s.jsx(mT,{className:"h-6 w-6 text-indigo-500"})})}),s.jsxs("p",{className:"text-gray-700 mb-8 flex-grow italic relative z-10 text-center",children:['"',E.quote,'"']}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[s.jsx("p",{className:"font-semibold text-gray-900 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent text-center",children:E.author}),s.jsx("p",{className:"text-sm text-gray-600 text-center",children:E.company})]})})]})},P))})})})]})]}),s.jsxs("div",{className:"py-20 bg-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-indigo-200 rounded-full opacity-20 blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -right-40 w-80 h-80 bg-purple-200 rounded-full opacity-20 blur-3xl"}),s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white rounded-2xl p-8 md:p-12 shadow-xl border border-gray-100 text-center",children:[s.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"Get Early Access"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-xl mx-auto",children:"Be the first to experience Dislink on mobile. Join our exclusive waitlist for early access."})]}),s.jsx(ne,{mode:"wait",children:d?s.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-green-50 p-6 rounded-xl border border-green-100 max-w-md mx-auto",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(wn,{className:"h-8 w-8 text-green-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You're in!"}),s.jsx("p",{className:"text-gray-600",children:"Thanks for joining our waitlist. We'll keep you posted on our progress and let you know when Dislink is ready for you."})]}):s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Gt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",placeholder:"Enter your email",value:h,onChange:E=>m(E.target.value),className:"block w-full pl-12 pr-36 py-4 border-2 border-gray-200 rounded-full focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 transition-all duration-200 text-gray-900 placeholder-gray-400 shadow-sm",required:!0}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(T.button,{type:"submit",onClick:S,disabled:f||!h.trim(),whileHover:{scale:1.05},whileTap:{scale:.95},style:{transformOrigin:"center"},className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full shadow-md hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-colors duration-200",children:f?s.jsx("div",{className:"flex items-center",children:s.jsx(T.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full"})}):"Join Waitlist"})})]}),w&&s.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 flex items-center text-sm text-red-600 bg-red-50 p-2 rounded-lg",children:[s.jsx("div",{className:"h-4 w-4 mr-2 text-red-500",children:"⚠"}),w]})]})})]})})]}),s.jsxs("div",{className:"py-24 bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-indigo-200 rounded-full opacity-20 blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 rounded-full opacity-20 blur-3xl"}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-3xl p-12 text-center text-white shadow-xl border border-indigo-500/20 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/2 blur-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},children:[s.jsx("h2",{className:"text-4xl sm:text-5xl font-bold mb-6",children:"Ready to Transform Your Network? ✨"}),s.jsx("p",{className:"text-xl opacity-90 mb-8 max-w-2xl mx-auto",children:"Join thousands of people building meaningful connections that last. Never let an important relationship slip away again!"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(T.button,{whileHover:{scale:1.05},onClick:v,className:"w-full sm:w-auto px-8 py-4 bg-white text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full hover:bg-gray-100 font-bold text-lg shadow-lg border-2 border-white",children:"Join the Mobile App Waitlist"}),s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,className:"w-full sm:w-auto px-8 py-4 border-2 border-white rounded-full hover:bg-white/10 font-medium text-lg",children:"Tester Access"})]})]})]})})]}),s.jsx(v2,{}),s.jsx(ne,{children:r&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>i(!1),children:s.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 border border-indigo-100",onClick:E=>E.stopPropagation(),children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full flex items-center justify-center mb-4 shadow-inner",children:s.jsx(on,{className:"h-8 w-8 text-indigo-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Tester Access"}),s.jsx("p",{className:"text-gray-600",children:"This area is for testers only. Your feedback helps shape the future of Dislink."})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"testerEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",id:"testerEmail",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-all duration-200 hover:border-indigo-300",value:a,onChange:E=>o(E.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"testerPasscode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Code"}),s.jsx("input",{type:"password",id:"testerPasscode",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-all duration-200 hover:border-indigo-300",value:c,onChange:E=>l(E.target.value)})]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-medium hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-md",children:"Access Testing Environment"})})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-amber-800 mb-2 flex items-center",children:[s.jsx(dt,{className:"h-4 w-4 mr-2"}),"Tester Feedback"]}),s.jsx("p",{className:"text-sm text-amber-700 mb-3",children:"Your insights are invaluable! Please share your thoughts on the app experience, features, and any bugs you encounter."}),s.jsxs("a",{href:"https://forms.gle/example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-white text-amber-700 rounded-lg text-sm font-medium border border-amber-200 hover:bg-amber-100 transition-all duration-200 shadow-sm",children:[s.jsx(xn,{className:"h-4 w-4 mr-2"}),"Submit Feedback"]})]})})]})})})]})}function Mb(){const e=Bn().pathname.startsWith("/app");return s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Terms & Conditions"}),s.jsxs(Pe,{to:e?"/app":"/waitlist",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),e?"Back to App":"Back to Home"]})]})}),s.jsxs("div",{className:"px-6 py-8 prose max-w-none",children:[s.jsx("h2",{children:"1. Acceptance of Terms"}),s.jsx("p",{children:'By accessing or using Dislink ("Service"), you agree to be bound by these Terms and Conditions. If you disagree with any part of these terms, you may not access the Service.'}),s.jsx("h2",{children:"2. User Accounts"}),s.jsx("p",{children:"When creating an account with us, you must provide accurate and complete information."}),s.jsxs("ul",{children:[s.jsx("li",{children:"You are responsible for maintaining account security"}),s.jsx("li",{children:"You must notify us of any unauthorized access"}),s.jsx("li",{children:"You may not use another user's account"}),s.jsx("li",{children:"You may not share your account credentials"})]}),s.jsx("h2",{children:"3. User Conduct"}),s.jsx("p",{children:"You agree not to:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Use the service for any unlawful purpose"}),s.jsx("li",{children:"Harass, abuse, or harm other users"}),s.jsx("li",{children:"Share inappropriate or offensive content"}),s.jsx("li",{children:"Attempt to access unauthorized areas of the service"}),s.jsx("li",{children:"Interfere with the proper functioning of the service"})]}),s.jsx("h2",{children:"4. Intellectual Property"}),s.jsx("p",{children:"The Service and its original content, features, and functionality are owned by Dislink and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."}),s.jsx("h2",{children:"5. User Content"}),s.jsx("p",{children:"By posting content on the Service, you grant us the right to use, modify, publicly perform, publicly display, reproduce, and distribute such content on and through the Service."}),s.jsx("h2",{children:"6. Third-Party Links"}),s.jsx("p",{children:"Our Service may contain links to third-party websites or services that are not owned or controlled by Dislink. We assume no responsibility for third-party content, privacy policies, or practices."}),s.jsx("h2",{children:"7. Service Modifications"}),s.jsx("p",{children:"We reserve the right to modify or discontinue, temporarily or permanently, the Service with or without notice."}),s.jsx("h2",{children:"8. Termination"}),s.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason, including breach of these Terms."}),s.jsx("h2",{children:"9. Limitation of Liability"}),s.jsx("p",{children:"In no event shall Dislink be liable for any indirect, incidental, special, consequential, or punitive damages."}),s.jsx("h2",{children:"10. Governing Law"}),s.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of Portugal, without regard to its conflict of law provisions."}),s.jsx("h2",{children:"11. Changes to Terms"}),s.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify users of any material changes via email or through the Service."}),s.jsx("h2",{children:"12. Contact Information"}),s.jsxs("p",{children:["For any questions about these Terms, please contact us at:",s.jsx("br",{}),"Email: legal@dislink.com"]}),s.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: February 15, 2024",s.jsx("br",{}),"Effective date: February 15, 2024"]})})]})]})})})}function Ib(){const e=Bn().pathname.startsWith("/app");return s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Privacy Policy"}),s.jsxs(Pe,{to:e?"/app":"/waitlist",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),e?"Back to App":"Back to Home"]})]})}),s.jsxs("div",{className:"px-6 py-8 prose max-w-none",children:[s.jsx("h2",{children:"1. Introduction"}),s.jsx("p",{children:"At Dislink, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service."}),s.jsx("h2",{children:"2. Information We Collect"}),s.jsx("h3",{children:"2.1 Personal Information"}),s.jsx("p",{children:"We collect information that you provide directly to us, including:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Name and contact information"}),s.jsx("li",{children:"Personal and professional details (job title, company, interests)"}),s.jsx("li",{children:"Profile information and preferences"}),s.jsx("li",{children:"Social media handles and links"}),s.jsx("li",{children:"Connection history and meeting notes"})]}),s.jsx("h3",{children:"2.2 Automatically Collected Information"}),s.jsx("p",{children:"When you use our service, we automatically collect:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Device information"}),s.jsx("li",{children:"Usage data and analytics"}),s.jsx("li",{children:"Location data (with your permission)"}),s.jsx("li",{children:"Log data and cookies"})]}),s.jsx("h2",{children:"3. How We Use Your Information"}),s.jsx("p",{children:"We use the collected information for:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Providing and improving our services"}),s.jsx("li",{children:"Facilitating connections between users"}),s.jsx("li",{children:"Personalizing your experience"}),s.jsx("li",{children:"Communicating with you"}),s.jsx("li",{children:"Ensuring security and preventing fraud"})]}),s.jsx("h2",{children:"4. Information Sharing"}),s.jsx("p",{children:"We may share your information with:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Other users (based on your privacy settings)"}),s.jsx("li",{children:"Service providers and partners"}),s.jsx("li",{children:"Legal authorities when required"})]}),s.jsx("h2",{children:"5. Your Privacy Rights"}),s.jsx("p",{children:"You have the right to:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate data"}),s.jsx("li",{children:"Request deletion of your data"}),s.jsx("li",{children:"Object to processing"}),s.jsx("li",{children:"Data portability"})]}),s.jsx("h2",{children:"6. Data Security"}),s.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."}),s.jsx("h2",{children:"7. International Data Transfers"}),s.jsx("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers."}),s.jsx("h2",{children:"8. Children's Privacy"}),s.jsx("p",{children:"Our service is not intended for children under 13. We do not knowingly collect information from children under 13."}),s.jsx("h2",{children:"9. Changes to This Policy"}),s.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page."}),s.jsx("h2",{children:"10. Contact Us"}),s.jsxs("p",{children:["If you have questions about this Privacy Policy, please contact us at:",s.jsx("br",{}),"Email: privacy@dislink.com"]}),s.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: February 15, 2024",s.jsx("br",{}),"Effective date: February 15, 2024"]})})]})]})})})}function W$(){Br();const[t,e]=y.useState(0),[n,r]=y.useState(!1),[i,a]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const{data:l,error:d}=await L.from("feedback").select("id").eq("message","story_like");if(d)throw d;e((l==null?void 0:l.length)||0);const u=localStorage.getItem("dislink_story_liked")==="true";r(u)}catch(l){console.error("Error fetching likes:",l)}})()},[]);const o=async()=>{if(!(n||i)){a(!0);try{const{error:c}=await L.from("feedback").insert([{message:"story_like"}]);if(c)throw c;e(l=>l+1),r(!0),localStorage.setItem("dislink_story_liked","true")}catch(c){console.error("Error adding like:",c)}finally{a(!1)}}};return s.jsx("div",{className:"min-h-screen bg-cosmic-neutral py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-cosmic-secondary/10",children:[s.jsx("div",{className:"px-6 py-4 border-b border-cosmic-secondary/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-cosmic-primary",children:"Our Story"}),s.jsxs(Pe,{to:"/",className:"inline-flex items-center text-sm text-cosmic-primary/60 hover:text-cosmic-secondary",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Back to Home"]})]})}),s.jsxs("div",{className:"px-6 py-8 prose max-w-none",children:[s.jsx("p",{className:"text-lg leading-relaxed text-gray-700",children:"Dislink was born from a simple observation: in our increasingly connected world, meaningful relationships often get lost in the digital noise. We saw people and individuals struggling to maintain the connections they made at conferences, meetups, social events, and through mutual friends. Important details about where they met, shared interests, and common connections would fade with time."}),s.jsx("p",{className:"text-lg leading-relaxed text-gray-700 mt-6",children:"We believed there had to be a better way to nurture these relationships. That's why we created Dislink - not just as another networking app, but as a platform that understands the human side of connections. We focused on capturing the context of relationships - the where, when, and why of how people meet - because these details matter in building lasting bonds."}),s.jsx("p",{className:"text-lg leading-relaxed text-gray-700 mt-6",children:"Dislink isn't about collecting contacts; it's about enriching relationships. It's about remembering that person you met at a conference who shared your passion for sustainable technology, or that fellow expat you connected with who introduced you to a whole new community. It's about turning chance encounters into meaningful connections that last."}),s.jsx("p",{className:"text-lg leading-relaxed text-gray-700 mt-6",children:"Our journey began in a small coffee shop in Lisbon, where our founding team first sketched out the idea on napkins. We were frustrated by how many potentially valuable connections we'd lost track of over the years - people we'd met at events, conferences, or through mutual friends, but whose context we'd forgotten."}),s.jsx("p",{className:"text-lg leading-relaxed text-gray-700 mt-6",children:"We realized that the missing piece in digital networking wasn't the ability to connect - it was the ability to remember the human stories behind those connections. The shared moments, the common interests, the circumstances that brought people together in the first place."}),s.jsx("p",{className:"text-lg leading-relaxed text-gray-700 mt-6",children:"And so, Dislink was born - a tool designed not just to connect people, but to help them stay meaningfully connected. A platform that values the quality of connections over quantity, and that understands that the most valuable relationships are built on authentic human connections."}),s.jsx("p",{className:"text-lg leading-relaxed text-gray-700 mt-6",children:"Today, we're proud to be helping thousands of people around the world build stronger, more meaningful connections. But we're just getting started. Our vision is to transform how people think about relationship building - from a transactional activity to a meaningful practice that enriches both professional and personal lives."}),s.jsxs("div",{className:"mt-12 flex flex-col items-center",children:[s.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,disabled:n||i,className:`inline-flex items-center px-6 py-3 rounded-full shadow-md text-white font-medium transition-colors ${n?"bg-pink-500 cursor-default":"bg-indigo-600 hover:bg-indigo-700"}`,children:[s.jsx(Lt,{className:`h-5 w-5 mr-2 ${n?"fill-current":""}`}),n?"Thank You!":"Like Our Story"]}),s.jsxs("div",{className:"mt-4 text-gray-600",children:[s.jsx("span",{className:"font-medium",children:t})," people liked this story"]})]})]})]})})})}function H$(){const t=Ke(),[e]=eu(),[n,r]=y.useState(!0),[i,a]=y.useState(null),[o,c]=y.useState(!1),[l,d]=y.useState(!1),[u,h]=y.useState(!1),[m,f]=y.useState(0),[g,w]=y.useState(null);y.useEffect(()=>{let p;return m>0&&(p=setInterval(()=>{f(j=>Math.max(0,j-1))},1e3)),()=>{p&&clearInterval(p)}},[m]),y.useEffect(()=>{(async()=>{var j,N,S;try{const _=e.get("token_hash")||e.get("token"),E=e.get("type")||"signup",P=e.get("email")||localStorage.getItem("confirmEmail"),C={};if(e.forEach((A,R)=>{C[R]=A}),k.info("Email verification parameters:",{token:_?`${_.substring(0,5)}...`:"missing",type:E,email:P?`${P.substring(0,3)}...`:"missing",allParams:C}),w({token:_?`${_.substring(0,5)}...`:"missing",type:E,email:P?`${P.substring(0,3)}...`:"missing",allParams:C}),!_){a("Invalid confirmation link. The token is missing."),r(!1);return}let I=!1;if(P){k.info("Attempting verification with email and token_hash");const{data:A,error:R}=await L.auth.verifyOtp({token_hash:_,type:E,email:P});R?k.warn("Verification failed with email and token_hash:",R):(I=!0,k.info("Verification successful with email and token_hash"))}if(!I){k.info("Attempting verification with token_hash only");const{data:A,error:R}=await L.auth.verifyOtp({token_hash:_,type:E});if(!R)I=!0,k.info("Verification successful with token_hash only");else{if(k.warn("Verification failed with token_hash only:",R),(j=R.message)!=null&&j.includes("User already confirmed")){c(!0),k.info("User already confirmed"),r(!1);return}else if((N=R.message)!=null&&N.includes("rate limit")||(S=R.message)!=null&&S.includes("security purposes")){f(50),a("Rate limit exceeded. Please try again in a moment."),r(!1);return}if(!I)throw R}}I&&(c(!0),k.info("Email verification successful"),setTimeout(()=>{t("/app/onboarding")},2e3))}catch(_){k.error("Verification error:",_),a(_ instanceof Error?_.message:"Failed to verify email")}finally{r(!1)}})()},[e,t]);const x=()=>{t("/app/onboarding")},v=()=>{t("/")},b=async()=>{var p,j;if(m>0){a(`Please wait ${m} seconds before trying again`);return}d(!0),a(null),h(!1);try{const N=localStorage.getItem("confirmEmail");if(!N)throw new Error("Email address not found. Please try signing up again.");const{error:S}=await L.auth.resend({type:"signup",email:N,options:{emailRedirectTo:`${window.location.origin}/confirmed`}});if(S)throw(p=S.message)!=null&&p.includes("rate limit")||(j=S.message)!=null&&j.includes("security purposes")?(f(50),new Error("For security purposes, you can only request this after 50 seconds.")):S;h(!0)}catch(N){console.error("Error resending verification email:",N),a(N instanceof Error?N.message:"Failed to resend verification email")}finally{d(!1)}};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Verifying your email..."}),s.jsx("p",{className:"mt-2 text-gray-500",children:"This will only take a moment"})]})}):i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-6",children:s.jsx(gt,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verification Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:i}),g&&s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg text-left text-xs text-gray-500 overflow-auto max-h-40",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Debug Information:"}),s.jsx("pre",{children:JSON.stringify(g,null,2)})]}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("button",{onClick:b,disabled:l||m>0,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resending..."]}):m>0?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Retry in ",m,"s"]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Resend Verification Email"]})}),s.jsx("button",{onClick:()=>t("/app/onboarding"),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Start Your Journey"}),s.jsxs("button",{onClick:v,className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Go to Home Page"]})]}),u&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-600",children:"Verification email has been resent. Please check your inbox."})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:30},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx(T.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring"},className:"mx-auto flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6",children:s.jsx(rt,{className:"h-10 w-10 text-green-600"})}),s.jsx(T.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-gray-900 mb-4",children:"✅ Your email has been successfully confirmed!"}),s.jsx(T.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-gray-600 mb-8",children:"Thank you for verifying your email address. Your account is now active. Let's get you set up with your personalized experience!"}),s.jsxs(T.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"flex flex-col space-y-3",children:[s.jsxs("button",{onClick:x,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["🚀 Start Your Journey",s.jsx(Ot,{className:"ml-2 h-5 w-5"})]}),s.jsxs("button",{onClick:v,className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 rounded-xl shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Go to Home Page"]})]})]})})}function q$(){const t=Ke(),[e]=eu(),[n,r]=y.useState(!0),[i,a]=y.useState(null),[o,c]=y.useState(!1),[l,d]=y.useState(!1),[u,h]=y.useState(!1),[m,f]=y.useState(0),[g,w]=y.useState(null);y.useEffect(()=>{let p;return m>0&&(p=setInterval(()=>{f(j=>Math.max(0,j-1))},1e3)),()=>{p&&clearInterval(p)}},[m]),y.useEffect(()=>{(async()=>{var j,N,S,_;try{const E=e.get("token_hash")||e.get("token"),P=e.get("type")||"signup",C=e.get("email")||localStorage.getItem("confirmEmail"),I={};if(e.forEach((R,F)=>{I[F]=R}),k.info("Email verification parameters:",{token:E?`${E.substring(0,5)}...`:"missing",type:P,email:C?`${C.substring(0,3)}...`:"missing",allParams:I}),w({token:E?`${E.substring(0,5)}...`:"missing",type:P,email:C?`${C.substring(0,3)}...`:"missing",allParams:I,url:window.location.href}),!E){a("Invalid confirmation link. The token is missing."),r(!1);return}let A=!1;if(C){k.info("Attempting verification with email and token_hash");const{data:R,error:F}=await L.auth.verifyOtp({token_hash:E,type:P,email:C});F?k.warn("Verification failed with email and token_hash:",F):(A=!0,k.info("Verification successful with email and token_hash"))}if(!A){k.info("Attempting verification with token_hash only");const{data:R,error:F}=await L.auth.verifyOtp({token_hash:E,type:P});if(!F)A=!0,k.info("Verification successful with token_hash only");else{if(k.warn("Verification failed with token_hash only:",F),(j=F.message)!=null&&j.includes("User already confirmed")){c(!0),k.info("User already confirmed"),r(!1);return}else if((N=F.message)!=null&&N.includes("rate limit")||(S=F.message)!=null&&S.includes("security purposes")){f(50),a("Rate limit exceeded. Please try again in a moment."),r(!1);return}if(!A)throw F}}if(A){c(!0),k.info("Email verification successful");const{data:{session:R}}=await L.auth.getSession();k.info("Session after verification:",{hasSession:!!R,userId:(_=R==null?void 0:R.user)==null?void 0:_.id}),setTimeout(()=>{t("/app/onboarding")},2e3)}}catch(E){k.error("Verification error:",E),a(E instanceof Error?E.message:"Failed to verify email")}finally{r(!1)}})()},[e,t]);const x=()=>{t("/app/onboarding")},v=()=>{t("/")},b=async()=>{var p,j;if(m>0){a(`Please wait ${m} seconds before trying again`);return}d(!0),a(null),h(!1);try{const N=localStorage.getItem("confirmEmail");if(!N)throw new Error("Email address not found. Please try signing up again.");const{error:S}=await L.auth.resend({type:"signup",email:N,options:{emailRedirectTo:`${window.location.origin}/confirmed`}});if(S)throw(p=S.message)!=null&&p.includes("rate limit")||(j=S.message)!=null&&j.includes("security purposes")?(f(50),new Error("For security purposes, you can only request this after 50 seconds.")):S;h(!0)}catch(N){console.error("Error resending verification email:",N),a(N instanceof Error?N.message:"Failed to resend verification email")}finally{d(!1)}};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(og,{className:"h-12 w-12 text-indigo-600 animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Verifying your email..."}),s.jsx("p",{className:"mt-2 text-gray-500",children:"This will only take a moment"})]})}):i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-6",children:s.jsx(gt,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verification Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:i}),g&&s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg text-left text-xs text-gray-500 overflow-auto max-h-40",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Debug Information:"}),s.jsx("pre",{children:JSON.stringify(g,null,2)})]}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("button",{onClick:b,disabled:l||m>0,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resending..."]}):m>0?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Retry in ",m,"s"]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Resend Verification Email"]})}),s.jsx("button",{onClick:()=>t("/app/onboarding"),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Start Your Journey"}),s.jsxs("button",{onClick:v,className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Go to Home Page"]})]}),u&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-600",children:"Verification email has been resent. Please check your inbox."})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:30},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx(T.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring"},className:"mx-auto flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6",children:s.jsx(rt,{className:"h-10 w-10 text-green-600"})}),s.jsx(T.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-gray-900 mb-4",children:"✅ Your email has been successfully confirmed!"}),s.jsx(T.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-gray-600 mb-8",children:"Thank you for verifying your email address. Your account is now active. Let's get you set up with your personalized experience!"}),s.jsxs(T.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"flex flex-col space-y-3",children:[s.jsxs("button",{onClick:x,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["🚀 Start Your Journey",s.jsx(Ot,{className:"ml-2 h-5 w-5"})]}),s.jsxs("button",{onClick:v,className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 rounded-xl shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Go to Home Page"]})]})]})})}function G$(){const t=Ke(),[e]=eu(),[n,r]=y.useState(!0),[i,a]=y.useState(null),[o,c]=y.useState(null),[l,d]=y.useState(null);y.useEffect(()=>{(async()=>{var f,g,w,x,v;try{const b=e.get("token_hash")||e.get("token"),p=e.get("code"),j=e.get("type")||"signup",N=e.get("email")||localStorage.getItem("confirmEmail"),S=e.get("error"),_=e.get("error_code"),E=e.get("error_description");if(S||_){k.error("Email confirmation error from URL:",{urlError:S,urlErrorCode:_,errorDescription:E}),d(_),_==="otp_expired"||E!=null&&E.includes("expired")?a("The email confirmation link has expired. Please request a new one."):a(S==="access_denied"?"Email confirmation was denied or cancelled. Please try again.":E||S||"Email confirmation failed. Please try again."),r(!1);return}if(!b&&!p){k.info("No token or code in URL, assuming already confirmed"),r(!1);return}const P={};e.forEach((I,A)=>{P[A]=I}),k.info("Email confirmation parameters:",{token:b?`${b.substring(0,5)}...`:"missing",code:p?`${p.substring(0,5)}...`:"missing",type:j,email:N?`${N.substring(0,3)}...`:"missing",allParams:P}),c({token:b?`${b.substring(0,5)}...`:"missing",code:p?`${p.substring(0,5)}...`:"missing",type:j,email:N?`${N.substring(0,3)}...`:"missing",allParams:P,url:window.location.href});let C=!1;if(p){k.info("Attempting verification with code parameter");try{const{data:I,error:A}=await L.auth.exchangeCodeForSession(p);!A&&I.session?(C=!0,k.info("Verification successful with code parameter")):k.warn("Verification failed with code parameter:",A)}catch(I){k.warn("Error with code verification:",I)}}if(!C&&b&&N){k.info("Attempting verification with email and token_hash");const{data:I,error:A}=await L.auth.verifyOtp({token_hash:b,type:j,email:N});A?k.warn("Verification failed with email and token_hash:",A):(C=!0,k.info("Verification successful with email and token_hash"))}if(!C&&b){k.info("Attempting verification with token_hash only");const{data:I,error:A}=await L.auth.verifyOtp({token_hash:b,type:j});if(!A)C=!0,k.info("Verification successful with token_hash only");else if(k.warn("Verification failed with token_hash only:",A),(f=A.message)!=null&&f.includes("User already confirmed"))k.info("User already confirmed"),C=!0;else if((g=A.message)!=null&&g.includes("rate limit")||(w=A.message)!=null&&w.includes("security purposes"))a("Rate limit exceeded. Please try again in a moment.");else if(!C)throw A}if(C){k.info("Email verification successful");const{data:{session:I}}=await L.auth.getSession();if(k.info("Session after verification:",{hasSession:!!I,userId:(x=I==null?void 0:I.user)==null?void 0:x.id}),(v=I==null?void 0:I.user)!=null&&v.id)try{await BS(I.user.id),k.info("QR connection completion processed")}catch(A){k.error("Error completing QR connection:",A)}setTimeout(()=>{t("/app/onboarding")},2e3)}}catch(b){k.error("Verification error:",b),a(b instanceof Error?b.message:"Failed to verify email")}finally{r(!1)}})()},[e]);const u=()=>{t("/app/onboarding")},h=()=>{t("/")};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Verifying your email..."}),s.jsx("p",{className:"mt-2 text-gray-500",children:"This will only take a moment"})]})}):i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-6",children:s.jsx(gt,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verification Issue"}),s.jsx("p",{className:"text-gray-600 mb-6",children:i}),o&&s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg text-left text-xs text-gray-500 overflow-auto max-h-40",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Debug Information:"}),s.jsx("pre",{children:JSON.stringify(o,null,2)})]}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs("button",{onClick:u,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["🚀 Start Journey",s.jsx(Ot,{className:"ml-2 h-5 w-5"})]}),s.jsxs("button",{onClick:h,className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Go to Home Page"]}),l==="otp_expired"&&s.jsx("button",{onClick:()=>t("/app/register"),className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"📧 Get New Confirmation Email"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:30},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx(T.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring"},className:"mx-auto flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6",children:s.jsx(rt,{className:"h-10 w-10 text-green-600"})}),s.jsx(T.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-gray-900 mb-4",children:"✅ Your email has been successfully confirmed!"}),s.jsx(T.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-gray-600 mb-8",children:"Thank you for verifying your email address. Your account is now active and ready! Next, we'll help you personalize your Dislink experience with a quick onboarding process."}),s.jsxs(T.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"flex flex-col space-y-3",children:[s.jsxs("button",{onClick:u,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-xl shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["🚀 Start Your Journey",s.jsx(Ot,{className:"ml-2 h-5 w-5"})]}),s.jsxs("button",{onClick:h,className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 rounded-xl shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Go to Home Page"]})]})]})})}function K$(){const t=Ke();eu();const[e,n]=y.useState(""),[r,i]=y.useState(""),[a,o]=y.useState(!1),[c,l]=y.useState(null),[d,u]=y.useState(!1),h=async m=>{if(m.preventDefault(),l(null),e!==r){l("Passwords do not match");return}const f=sM(e);if(!f.isValid){l(f.message);return}o(!0);try{const{error:g}=await L.auth.updateUser({password:e});if(g)throw g;u(!0),setTimeout(()=>{t("/app/login")},3e3)}catch(g){console.error("Password reset error:",g),l(g instanceof Error?g.message:"Failed to reset password")}finally{o(!1)}};return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white p-8 rounded-xl shadow-xl text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:s.jsx(rt,{className:"h-6 w-6 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset Complete!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully updated. You will be redirected to login shortly."}),s.jsxs("button",{onClick:()=>t("/app/login"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:["Continue to Login",s.jsx(Ot,{className:"ml-2 h-5 w-5"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-8 rounded-xl shadow-xl",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Reset Password"}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsx("div",{className:"text-sm text-red-700",children:c})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",id:"password",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:e,onChange:m=>n(m.target.value),placeholder:"Enter your new password"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",id:"confirmPassword",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r,onChange:m=>i(m.target.value),placeholder:"Confirm your new password"})]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:a?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating Password..."]}):"Reset Password"})]})]})})})}function Y$({initialValue:t="",onLanguageChange:e}){const[n,r]=y.useState(t),[i,a]=y.useState(null),[o,c]=y.useState("en"),[l,d]=y.useState(""),[u,h]=y.useState(!1),[m,f]=y.useState([]);y.useEffect(()=>{try{const p=localStorage.getItem("recentLocationSearches");p&&f(JSON.parse(p))}catch(p){console.error("Error loading recent searches:",p)}},[]);const g=p=>{r(p.name),a(p.location),console.log("Selected city:",p.name),console.log("Location data:",p.location)},w=p=>{const j=p.target.value;c(j),e&&e(j)},x=p=>{d(p.target.value),e&&u&&e(p.target.value)},v=()=>{const p=!u;h(p),e&&e(p?l:o)},b=()=>{localStorage.removeItem("recentLocationSearches"),f([])};return s.jsxs("div",{className:"space-y-6 p-6 bg-white rounded-lg shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"City Autocomplete Demo"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language Override"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:o,onChange:w,disabled:u,className:"block rounded-lg border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"es",children:"Spanish"}),s.jsx("option",{value:"fr",children:"French"}),s.jsx("option",{value:"it",children:"Italian"}),s.jsx("option",{value:"de",children:"German"}),s.jsx("option",{value:"ja",children:"Japanese"}),s.jsx("option",{value:"zh",children:"Chinese"}),s.jsx("option",{value:"ru",children:"Russian"}),s.jsx("option",{value:"ar",children:"Arabic"}),s.jsx("option",{value:"hi",children:"Hindi"}),s.jsx("option",{value:"pt",children:"Portuguese"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"custom-language",type:"checkbox",checked:u,onChange:v,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"custom-language",className:"ml-2 block text-sm text-gray-700",children:"Custom"})]})]})]}),u&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom Language Code"}),s.jsx("input",{type:"text",value:l,onChange:x,placeholder:"e.g., nl, sv, ko",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter a valid ISO 639-1 language code (2 letters)"})]})]}),s.jsx("div",{children:s.jsx(ga,{label:"Search for a city",value:n,onSelect:g,placeholder:"Type to search cities...",language:u?l:o,showLanguageIndicator:!0,storageKey:"demo",fieldName:"selectedCity",initialSuggestions:Oc(8),showRecentSearches:!0,maxRecentSearches:10})}),m.length>0&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Recent Searches"}),s.jsx("button",{onClick:b,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear All"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:m.slice(0,6).map((p,j)=>s.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200 text-sm",children:[s.jsx("div",{className:"font-medium",children:p.name}),s.jsx("div",{className:"text-xs text-gray-500",children:[p.region,p.country].filter(Boolean).join(", ")})]},`${p.id}-${j}`))})]}),i&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Selected Location Data:"}),s.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-auto max-h-40",children:JSON.stringify(i,null,2)})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("p",{children:"Try searching for cities in different languages based on the selected language."}),s.jsx("p",{children:'For example, try "Firenze" with Italian selected, or "München" with German.'}),s.jsxs("p",{className:"mt-2 text-xs",children:[s.jsx("strong",{children:"Note:"})," This component now uses OpenStreetMap's Nominatim API for city search with local fallback."]})]})]})}const WS={nebula:dt,aurora:oi,starlight:Lt};function Q$({showLabels:t=!0,orientation:e="horizontal",size:n="md",className:r=""}){const{currentTheme:i,allThemes:a,changeTheme:o}=Br(),[c,l]=y.useState(null),u={sm:{container:"gap-2",palette:"w-8 h-8",icon:"h-3 w-3",text:"text-xs"},md:{container:"gap-3",palette:"w-12 h-12",icon:"h-4 w-4",text:"text-sm"},lg:{container:"gap-4",palette:"w-16 h-16",icon:"h-5 w-5",text:"text-base"}}[n],h=e==="vertical"?"flex-col":"flex-row items-center";return s.jsxs("div",{className:`cosmic-theme-selector ${r}`,children:[t&&s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(_s,{className:"h-5 w-5 text-cosmic-secondary"}),s.jsx("span",{className:"font-medium text-cosmic-primary",children:"Cosmic Theme"})]}),s.jsx("div",{className:`flex ${h} ${u.container}`,children:a.map(m=>{const f=dr[m.value],g=WS[m.value],w=i===m.value,x=c===m.value;return s.jsxs(T.div,{className:"relative",onMouseEnter:()=>l(m.value),onMouseLeave:()=>l(null),whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsxs("button",{onClick:()=>o(m.value),className:`
                  ${u.palette} rounded-xl relative overflow-hidden
                  transition-all duration-300 cursor-pointer
                  border-2 ${w?"border-white shadow-lg":"border-transparent"}
                  ${w?"ring-2 ring-cosmic-pop ring-offset-2":""}
                `,style:{background:f.gradients.main,boxShadow:w||x?`0 8px 32px ${f.colors.secondary}40`:void 0},title:`${m.label} - ${m.description}`,children:[s.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:f.gradients.radial}}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(g,{className:`${u.icon} text-white drop-shadow-lg`})}),s.jsx(ne,{children:w&&s.jsx(T.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute -top-1 -right-1 w-5 h-5 bg-cosmic-pop rounded-full flex items-center justify-center",children:s.jsx(rt,{className:"h-3 w-3 text-white"})})}),s.jsx(ne,{children:x&&s.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-white bg-opacity-20 rounded-xl"})})]}),s.jsx(ne,{children:x&&t&&s.jsxs(T.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},className:`
                      absolute ${e==="vertical"?"left-full ml-4 top-0":"top-full mt-2 left-1/2 -translate-x-1/2"}
                      bg-white rounded-lg shadow-xl p-3 z-50 min-w-48
                      border border-gray-200
                    `,children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:m.label}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:m.description}),s.jsx("p",{className:"text-xs text-gray-500 italic",children:m.philosophy}),s.jsx("div",{className:"flex gap-1 mt-3",children:Object.entries(f.colors).map(([v,b])=>s.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:b},title:v},v))})]}),s.jsx("div",{className:`
                        absolute w-3 h-3 bg-white border-gray-200
                        ${e==="vertical"?"left-0 top-4 -translate-x-1/2 rotate-45 border-r border-b":"top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 rotate-45 border-l border-t"}
                      `})]})})]},m.value)})}),t&&s.jsxs(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:`mt-3 text-center ${u.text}`,children:[s.jsx("div",{className:"font-medium text-cosmic-primary",children:dr[i].name}),s.jsx("div",{className:"text-cosmic-secondary opacity-80",children:dr[i].description})]},i)]})}function J$({className:t=""}){const{currentTheme:e,allThemes:n,changeTheme:r}=Br();return s.jsxs("div",{className:`cosmic-theme-card bg-cosmic-neutral rounded-xl p-6 ${t}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-cosmic-gradient rounded-lg flex items-center justify-center",children:s.jsx(_s,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-cosmic-primary",children:"Cosmic Themes"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Choose your constellation mood"})]})]}),s.jsx("div",{className:"space-y-4",children:n.map(i=>{const a=dr[i.value],o=WS[i.value],c=e===i.value;return s.jsx(T.button,{onClick:()=>r(i.value),className:`
                w-full p-4 rounded-xl text-left transition-all duration-300
                border-2 ${c?"border-cosmic-secondary":"border-gray-200"}
                ${c?"bg-cosmic-secondary bg-opacity-10":"bg-white hover:bg-gray-50"}
              `,whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center relative overflow-hidden",style:{background:a.gradients.main},children:[s.jsx(o,{className:"h-5 w-5 text-white drop-shadow-lg"}),c&&s.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center",children:s.jsx(rt,{className:"h-2.5 w-2.5 text-cosmic-primary"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900 mb-1",children:i.label}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:i.description}),s.jsx("div",{className:"text-xs text-gray-500 italic",children:i.philosophy})]}),s.jsx("div",{className:"flex flex-col gap-1",children:Object.entries(a.colors).slice(0,3).map(([l,d])=>s.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-200",style:{backgroundColor:d}},l))})]})},i.value)})})]})}function Z$(){const{user:t}=Ft(),{currentTheme:e,currentPalette:n}=Br(),[r,i]=y.useState("en"),[a,o]=y.useState({}),[c,l]=y.useState(!0),[d,u]=y.useState([]),h=m=>{i(m),console.log(`Language changed to: ${m}`)};return y.useEffect(()=>{(async()=>{l(!0);try{const f=await wo.getLocationPreference("location"),g=await wo.getLocationPreference("from");o({location:f,from:g});const w=localStorage.getItem("recentLocationSearches");w&&u(JSON.parse(w))}catch(f){console.error("Error loading saved data:",f)}finally{l(!1)}})()},[]),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-cosmic-primary mb-2",children:"🌌 Dislink Component Demos"}),s.jsx("p",{className:"text-gray-600",children:"Explore our cosmic design system and interactive components"})]}),s.jsxs(T.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12",children:[s.jsxs("div",{className:"bg-cosmic-neutral rounded-xl p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 cosmic-gradient rounded-lg flex items-center justify-center",children:s.jsx(_s,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-cosmic-primary",children:"Cosmic Theme System"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Three philosophical color palettes for your constellation of relationships"})]})]}),s.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"cosmic-gradient rounded-lg p-6 mb-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e==="nebula"&&s.jsx(dt,{className:"h-6 w-6"}),e==="aurora"&&s.jsx(oi,{className:"h-6 w-6"}),e==="starlight"&&s.jsx(Lt,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:n.name}),s.jsx("p",{className:"text-white/80",children:n.description})]})]}),s.jsxs("p",{className:"text-white/90 italic text-sm mb-4",children:['"',n.philosophy,'"']}),s.jsx("div",{className:"flex gap-3",children:Object.entries(n.colors).map(([m,f])=>s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white/30",style:{backgroundColor:f}}),s.jsx("span",{className:"text-xs text-white/70 capitalize",children:m})]},m))})]},e),s.jsx(Q$,{className:"mb-6"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-cosmic-primary text-white px-6 py-3 rounded-lg font-medium cosmic-glow",children:"Primary Action"}),s.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-cosmic-secondary text-white px-6 py-3 rounded-lg font-medium",children:"Secondary Action"}),s.jsxs(T.div,{whileHover:{scale:1.02},className:"bg-cosmic-accent text-cosmic-primary p-4 rounded-lg",children:[s.jsx(lg,{className:"h-5 w-5 mb-2"}),s.jsx("p",{className:"font-medium",children:"Accent Element"}),s.jsx("p",{className:"text-sm opacity-80",children:"Warm touches and highlights"})]}),s.jsxs(T.div,{whileHover:{scale:1.02},className:"bg-cosmic-pop text-white p-4 rounded-lg",children:[s.jsx(oi,{className:"h-5 w-5 mb-2"}),s.jsx("p",{className:"font-medium",children:"Pop Alert"}),s.jsx("p",{className:"text-sm opacity-90",children:"Energy moments and notifications"})]})]})]}),s.jsx(J$,{})]}),s.jsxs(T.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-cosmic-primary mb-4",children:"City Autocomplete Component"}),s.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg mb-4",children:s.jsxs("p",{className:"text-sm text-indigo-700",children:["This component uses ",s.jsx("strong",{children:"OpenStreetMap's Nominatim API"})," to search for cities worldwide, including small towns and villages. It falls back to a local database when offline or when the API is unavailable."]})}),s.jsx(Y$,{onLanguageChange:h})]}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg mb-8",children:[s.jsxs("p",{className:"text-sm text-indigo-700",children:["Current language: ",s.jsx("strong",{children:r})]}),s.jsx("p",{className:"text-sm text-indigo-700 mt-2",children:"The component will search for cities in the selected language, but display results in English for consistency."})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Saved Locations"}),c?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Current Location"}),a.location?s.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:a.location.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[a.location.country," (",a.location.countryCode,")"]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Coordinates: ",a.location.latitude.toFixed(4),", ",a.location.longitude.toFixed(4)]})]}):s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No saved location"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Hometown"}),a.from?s.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:a.from.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[a.from.country," (",a.from.countryCode,")"]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Coordinates: ",a.from.latitude.toFixed(4),", ",a.from.longitude.toFixed(4)]})]}):s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No saved hometown"})]}),d.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Searches"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:d.slice(0,6).map((m,f)=>s.jsxs("div",{className:"p-2 bg-gray-50 rounded border border-gray-200 text-sm",children:[s.jsx("div",{className:"font-medium",children:m.name}),s.jsx("div",{className:"text-xs text-gray-500",children:[m.region,m.country].filter(Boolean).join(", ")})]},`${m.id}-${f}`))}),s.jsx("button",{onClick:()=>{localStorage.removeItem("recentLocationSearches"),u([])},className:"mt-2 text-xs text-gray-500 hover:text-gray-700",children:"Clear Recent Searches"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600",children:t?s.jsx(s.Fragment,{children:"Your location preferences are saved to both localStorage and your Supabase profile."}):s.jsx(s.Fragment,{children:"Your location preferences are saved to localStorage. Sign in to sync them with your profile."})}),s.jsx("button",{onClick:async()=>{try{await wo.clearAllPreferences(),o({}),u([]),localStorage.removeItem("recentLocationSearches"),alert("All preferences cleared successfully")}catch(m){console.error("Error clearing preferences:",m),alert("Error clearing preferences")}},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700",children:"Clear All Saved Preferences"})]})]})]})]})}function X$(){const{error:t,connectionStatus:e,reconnectSupabase:n}=Ft();return e!=="disconnected"||!t?null:s.jsx(T.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"fixed top-0 left-0 right-0 bg-red-500 text-white p-4 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fl,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Connection to Supabase lost. Please check your internet connection."})]}),s.jsxs("button",{onClick:()=>n(),className:"flex items-center bg-white text-red-500 px-3 py-1 rounded-md text-sm font-medium hover:bg-red-50",children:[s.jsx(Ko,{className:"h-4 w-4 mr-1"}),"Reconnect"]})]})})}function e8(){console.log("🎯 App component rendering...");const t=l0();console.log("📱 Is mobile app:",t);try{return s.jsx(G4,{children:s.jsxs(K4,{children:[s.jsx(X$,{}),s.jsxs(x5,{children:[s.jsx($e,{path:"/",element:s.jsx(Db,{})}),s.jsx($e,{path:"/waitlist",element:s.jsx(Db,{})}),s.jsx($e,{path:"/share/:code",element:s.jsx(_b,{})}),s.jsx($e,{path:"/scan/:scanId",element:s.jsx(_b,{})}),s.jsx($e,{path:"/terms",element:s.jsx(Mb,{})}),s.jsx($e,{path:"/privacy",element:s.jsx(Ib,{})}),s.jsx($e,{path:"/story",element:s.jsx(W$,{})}),s.jsx($e,{path:"/verify",element:s.jsx(H$,{})}),s.jsx($e,{path:"/confirm",element:s.jsx(q$,{})}),s.jsx($e,{path:"/confirmed",element:s.jsx(G$,{})}),s.jsx($e,{path:"/demo",element:s.jsx(Z$,{})}),s.jsx($e,{path:"/app/login",element:s.jsx(PF,{})}),s.jsx($e,{path:"/app/register",element:s.jsx(p$,{})}),s.jsx($e,{path:"/app/reset-password",element:s.jsx(K$,{})}),s.jsx($e,{path:"/app/terms",element:s.jsx(Mb,{})}),s.jsx($e,{path:"/app/test-terms",element:s.jsx(g$,{})}),s.jsx($e,{path:"/app/privacy",element:s.jsx(Ib,{})}),s.jsx($e,{path:"/app/onboarding",element:s.jsx(B$,{})}),s.jsxs($e,{path:"/app",element:s.jsx(kM,{}),children:[s.jsx($e,{index:!0,element:s.jsx(Wa,{children:s.jsx(fI,{})})}),s.jsx($e,{path:"contacts",element:s.jsx(Wa,{children:s.jsx(j$,{})})}),s.jsx($e,{path:"contact/:id",element:s.jsx(Wa,{children:s.jsx(T$,{})})}),s.jsx($e,{path:"profile",element:s.jsx(Wa,{children:s.jsx(TF,{})})}),s.jsx($e,{path:"settings",element:s.jsx(Wa,{children:s.jsx(N$,{})})})]}),s.jsx($e,{path:"*",element:s.jsx(Bm,{to:"/",replace:!0})})]})]})})}catch(e){return console.error("❌ Error rendering App:",e),s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"We're having trouble loading the application."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md",children:"Reload Page"})]})})}}const gc=!0;function Rb(t,e){console.error(`❌ Critical error in ${e}:`,t);{const n=document.getElementById("root");n&&(n.innerHTML=`
        <div style="
          display: flex; 
          flex-direction: column; 
          align-items: center; 
          justify-content: center; 
          height: 100vh; 
          font-family: system-ui, -apple-system, sans-serif;
          text-align: center;
          padding: 20px;
        ">
          <h1 style="color: #dc2626; margin-bottom: 16px;">Something went wrong</h1>
          <p style="color: #6b7280; margin-bottom: 24px;">
            We're having trouble loading the application. Please try refreshing the page.
          </p>
          <button 
            onclick="window.location.reload()" 
            style="
              background: #6366f1; 
              color: white; 
              border: none; 
              padding: 12px 24px; 
              border-radius: 8px; 
              cursor: pointer;
              font-size: 16px;
            "
          >
            Refresh Page
          </button>
        </div>
      `)}}const Ob=document.getElementById("root");if(Ob)try{Q1(Ob).render(s.jsx(y.StrictMode,{children:s.jsx(C5,{children:s.jsx(e8,{})})})),Rn(async()=>{const{initializeConnection:e}=await Promise.resolve().then(()=>q4);return{initializeConnection:e}},void 0).then(({initializeConnection:e})=>{e().catch(n=>{console.error("❌ Supabase initialization failed:",n)})}).catch(e=>{console.error("❌ Failed to load Supabase module:",e)}),Rn(async()=>{const{cosmicThemeManager:e}=await Promise.resolve().then(()=>CM);return{cosmicThemeManager:e}},void 0).then(({cosmicThemeManager:e})=>{const n=e.getCurrentTheme(),r=e.getCurrentPalette()}).catch(e=>{console.error("❌ Failed to load Cosmic Theme System:",e)})}catch(t){Rb(t,"app rendering")}else{const t=new Error("Root element not found");Rb(t,"DOM initialization")}window.addEventListener("unhandledrejection",t=>{console.error("❌ Unhandled promise rejection:",t.reason),t.preventDefault(),console.warn("Error reported in production environment")});window.addEventListener("error",t=>{console.error("❌ Uncaught error:",t.error),console.warn("Uncaught error in production environment")});export{Rn as _};
